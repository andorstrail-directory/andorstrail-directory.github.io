{"version":3,"sources":["logo.svg","utils/debug.jsx","components/PropsRoute.jsx","components/Menu.jsx","components/Home.jsx","components/ItemCategoriesTable.jsx","components/Icon.jsx","components/cells/IconCell.jsx","components/cells/ConditionsCell.jsx","components/cells/OtherCell.jsx","components/cells/RangeCell.jsx","components/TableAbsHeader.jsx","components/items/LinksTable.jsx","components/items/ExpandingName.jsx","components/items/NameCell.jsx","components/items/ItemsTable.jsx","components/items/PotionsTable.jsx","components/LiLink.jsx","components/items/ItemsPage.jsx","components/conditions/LinksTable.jsx","components/conditions/ExpandingName.jsx","components/conditions/NameCell.jsx","components/cells/BooleanCell.jsx","components/conditions/ConditionsTable.jsx","components/conditions/ConditionsPage.jsx","components/MapsList.jsx","components/monsters/LinksTable.jsx","components/monsters/ExpandingName.jsx","components/monsters/NameCell.jsx","components/monsters/MonstersTable.jsx","components/monsters/MonstersPage.jsx","components/npc/LinksTable.jsx","components/npc/QuestItemsTable.jsx","components/npc/QuestsTable.jsx","components/npc/ExpandingName.jsx","components/npc/NameCell.jsx","components/npc/LocationCell.jsx","components/npc/NpcTable.jsx","components/npc/NpcPage.jsx","components/quests/LinksTable.jsx","components/quests/StagesList.jsx","components/quests/ExpandingName.jsx","components/quests/NameCell.jsx","components/quests/QuestsTable.jsx","components/quests/QuestsPage.jsx","components/maps/MapIcon.jsx","components/maps/LocalMap.jsx","components/maps/GlobalMap.jsx","components/maps/MapPage.jsx","components/CostCalculator.jsx","components/ExpCalculator.jsx","components/Main.jsx","utils/MapParser.jsx","utils/GlobalMapParser.jsx","App.js","reportWebVitals.js","index.js"],"names":["debug","msg","force","DEBUG","console","warn","doIfDebug","f","renderMergedProps","component","rest","finalProps","Object","assign","React","createElement","PropsRoute","render","routeProps","Main","props","className","window","location","pathname","to","LiLink","Component","segment","def","liClass","toUpperCase","startsWith","toLowerCase","capitalize","Table","style","textAlign","margin","href","getKeys","o","name","id","size","inventorySlot","actionType","getHeader","this","map","key","index","getRowsData","items","data","filter","length","item","indexOf","category","keys","row","bind","border","RenderRow","custom","monsters_demon1","x","y","monsters_demon2","monsters_hydra1","monsters_cyclops","monsters_bosses_2x2","monsters_giantbasilisk","getDimentionById","getDimention","split","file","Icon","prefix","noBackground","zoom","rootLink","Date","Math","random","tmp","iconID","log","src","getSrc","d","width","height","overflow","backgroundImage","backgroundRepeat","backgroundPosition","iconBg","backgroundSize","display","title","displaytype","onLoad","onImgLoad","img","document","getElementById","p","i","getPosition","styles","root","position","paddingLeft","paddingTop","alignItems","IconCell","tableManager","value","onChange","isEdit","column","rowIndex","searchText","isFirstEditableCell","padding","text","marginLeft","whiteSpace","aimg","getImgId","values","chance","link","magnitude","duration","showCondition","getTextData","min","max","ConditionsCell","Fragment","equipEffect","addedConditions","hitEffect","conditionsTarget","conditionsSource","increaseCurrentHP","killEffect","increaseCurrentAP","hitReceivedEffect","useEffect","textOverflow","knownEquipEffects","knownHitEffects","knownKillEffects","knownReceivedEffects","knownUseEffects","knownAbilityEffects","knownRoundEffects","getOther","result","e","JSON","stringify","OtherCell","abilityEffect","roundEffect","RangeCell","field","range","forEach","TableAbsHeader","state","scrollY","scrollX","onScroll","setState","onscroll","undefined","columns","bot","top","style1","RenderHead","visible","label","monster","RenderHref","Range","quantity","type","maxHP","table","ExpandingName","expanded","toggleExpand","links","droplists","flatMap","getEnemyList","push","onClick","droplist","sortStr","a","b","isAscending","aa","bb","sortInt","sortDT","list","hashLinkScroll","hash","setTimeout","replace","element","scrollIntoView","getRows","isEmptyColumn","rows","find","getColumns","pinned","cellRenderer","sort","NameCell","getValue","increaseAttackCost","increaseAttackDamage","increaseAttackChance","increaseBlockChance","increaseCriticalSkill","setCriticalMultiplier","increaseMaxHP","increaseMaxAP","increaseMoveCost","increaseUseItemCost","increaseReequipCost","setNonWeaponDamageModifier","increaseDamageResistance","offsetTop","GridTable","defaultProps","isPaginated","minColumnResizeWidth","isVirtualScroll","showSearch","showColumnVisibilityManager","next","path","ItemsPage","ItemRoute","PotionsTable","categoryLink","ItemsTable","slot","aim","Cell","BooleanCell","clientHeight","isPositive","marginTop","marginRight","color","textTransform","float","maps","unique","pos","self","droplistLink","spawnGroupLinks","maxIconWidth","reduce","MonstersPage","MonstersTable","c","attackChance","monsterClass","calculateCostWithMod","mod","cost","baseMarketCost","trunc","quests","questLinks","questItemsLinks","questDropListLinks","sortLocations","LocationCell","NpcTable","progress","finishesQuest","rewardExperience","logText","stages","TextCell","showInLog","ts","tileset","left","backgroundColor","opacity","localid","dx","tilewidth","dy","tileheight","w","bySpawnGroup","spawngroup","localeCompare","aboveIndex","layerList","layers","getRowsDataAbove","renderSpawn","spawn","getRandomInt","monsters","renderScript","script","renderMapchange","events","place","renderSign","signs","message","renderObjectgroups","scripts","containers","mapchange","renderOG","renderObjectgroupsData","objectgroups","tile","RenderCell","l","ld","floor","style2","globalMap","substring","segmentsMap","Page","getSegmentLinks","segments","GlobalMap","calculateCostEquipEffect","isWeapon","pow","abs","calculateUseCost","averageHPBoost","averagef","costBoostHP","signum","calculatePointsCost","hpBase","apBase","averageAPBoost","costBoostAP","calculateHitCost","calculateKillCost","calculateCost","hasManualPrice","costEquipStats","costUse","costHit","costKill","div100","v","calculateExp","attackCost","attackDamage","criticalSkill","criticalMultiplier","blockChance","damageResistance","maxAP","averageDamage","avgAttackHP","getAttacksPerTurn","avgDefenseHP","attackConditionBonus","ceil","getJsonResources","resources","downcounter","getJsonResource","loadresource_itemcategories","loadresource_items","loadresource_actorconditions","loadresource_monsters","loadresource_droplists","loadresource_conversationlists","loadresource_quests","resource","that","getJsonData","countConditions","effect","count","linkConditions","linkCondition","getStub","condition","temp","conditions","stub","getItemRootLink","isMerchant","itemID","getMonsterRootLink","charAt","getItemIconBg","linkConversation","conversationLink","conversations","linkConversationInner","rewards","requires","replies","rewardType","fileName","fetch","headers","then","response","json","concat","linkTemp","expandedSubMenu","toggleExpandSubMenu","r","actorconditions","obj","categories","itemcategories","spawngroups","sign","container","doLink","req","requireType","requireID","rewardID","conv_links","nextPhraseID","splice","conditionsCount","exp","expCalculator","droplistID","spawngroupLink","spawnGroup","phraseID","maxY","minY","segmentLink","globalMapLink","minHeight","innerHeight","exact","Home","ConditionsPage","ItemCategoriesTable","NpcPage","QuestsPage","MapPage","parseXmlMap","properties","tilesets","rests","replaces","other","children","objectgroup","attributes","oneChildCheck","propertyCheck","mapSpawn","noChildCheck","mapSign","mapScript","mapContainers","event","xxx","mapMapchange","parseObjectgroups","parseLayerDebug","b64Data","charData","atob","charCodeAt","binData","Uint8Array","pako","inflate","Uint32Array","buffer","err","parseLayer","firstgid","tilecount","parseTileset","t","validateTilesets","layer","getTileById","setTileByLayerXY","mapLayers","names","includes","parseGlobalMap","myXml","areas","parseArea","mapsMap","area","areaLink","parseMaps","parseSegment","App","useState","setData","String","prototype","slice","getXmlData","thenDo","str","saveTempResources","XMLParser","parseFromString","getElementsByTagName","getMaps","getXmlMap","xmlString","tryDo","getGlobalMap","loadresource_maps","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM"],"mappings":"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","file":"static/js/main.dc8e4dd4.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","export default function debug(msg, force=false) {\r\n    if (DEBUG||force) console.warn(msg);\r\n}\r\nexport function doIfDebug(f, force=false) {\r\n    if (DEBUG||force) f();\r\n}\r\n\r\nconst DEBUG=false;/*/(\"production\" !== process.env.NODE_ENV);/**/","import { Route } from 'react-router-dom';\r\nimport React, { Component } from 'react';\r\n\r\nconst PropsRoute = ({ component, ...rest }) => {\r\n  return (\r\n    <Route {...rest} render={routeProps => {\r\n      return renderMergedProps(component, routeProps, rest);\r\n    }}/>\r\n  );\r\n}\r\nconst renderMergedProps = (component, ...rest) => {\r\n  const finalProps = Object.assign({}, ...rest);\r\n  return (\r\n    React.createElement(component, finalProps)\r\n  );\r\n}\r\n\r\nexport default PropsRoute ","import React, { Component } from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default class Main extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <menu>\r\n                <ul className=\"hr\">\r\n                     <li className={(window.location.pathname==\"/\")?\"selected\":\"\"}><Link to=\"\">Home</Link></li>\r\n                    {LiLink(\"items\", \"/body\")}\r\n                    {LiLink(\"monsters\", \"/animal\")}\r\n                    {LiLink(\"NPC\", \"/merchant\")}\r\n                    {LiLink(\"conditions\")}\r\n                    {LiLink(\"quests\")}\r\n                    {LiLink(\"categories\")}\r\n                    {LiLink(\"map\")}\r\n                </ul>\r\n            </menu>\r\n        );\r\n    }\r\n}\r\nconst LiLink = (segment, def=\"\") => {\r\n    const to = \"/\"+segment+def;\r\n    const liClass = (window.location.pathname.toUpperCase().startsWith(\"/\"+segment.toUpperCase()))?\"selected\":\"\"; \r\n    return  <li className={liClass}><Link to={to.toLowerCase()}>{segment.capitalize()}</Link></li>\r\n}","import React, { Component } from 'react';\r\n\r\n\r\nexport default class Table extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n\r\n\r\n\r\n    render() {\r\n        return ( <div style={{textAlign:'left', margin:10}}>\r\n            <p>Welcome to <b>Andor's Trail Directory V2</b> the fan page about amazing, beautiful a great game <a href=\"https://play.google.com/store/apps/details?id=com.gpl.rpg.AndorsTrail\">Andor's Trail</a>.</p>\r\n\r\n            <h2>About</h2>\r\n            <p><b>Andor's Trail</b> is quest-driven Roguelike fantasy dungeon crawler RPG with a powerful story on Android, with open source code (GPL).</p>\r\n\r\n            <p>I created this web because <a href=\"http://andorstrail.irkalla.cz/0.7.0/\">previous one</a> was abandoned for years.</p>\r\n\r\n            <p>This pages get data directly from source files, witch are in easy-to-read JSON and XML format, and redner it birectly in your browser. </p>\r\n\r\n            <h2>Spoiler alert</h2>\r\n\r\n            <p>This whole web ïs a little bit of spoiler and it contains some informations witch you probably shouldn't know and can reveal some surprises and story twists. It is not such big deal, just be careful a consider yourself warned.</p> \r\n\r\n            <p>But if you are affraid of spoilers, stay away from <b>quest page</b>.</p>\r\n\r\n            <h2>Contact and links</h2>\r\n\r\n            <p>If you want more information about game, please visit the <a href=\"https://play.google.com/store/apps/details?id=com.gpl.rpg.AndorsTrail\">official game page on Google Play</a> or the <a href=\"https://www.andorstrail.com\">main game forum</a>. </p>\r\n\r\n        </div> );\r\n    }\r\n}\r\n\r\n","import React, { Component } from 'react';\r\n\r\nexport default class Table extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.getHeader = this.getHeader.bind(this);\r\n        this.getRowsData = this.getRowsData.bind(this);\r\n        this.getKeys = this.getKeys.bind(this);\r\n    }\r\n\r\n    getKeys = function () {\r\n        return [\r\n        [\"name\", (o)=>o.name],\r\n        [\"id\",(o)=>o.id],\r\n        [\"size\",(o)=>o.size],\r\n        [\"inventorySlot\",(o)=>o.inventorySlot],\r\n        [\"actionType\",(o)=>o.actionType],\r\n\r\n\r\n        ];\r\n    }\r\n\r\n    getHeader = function () {\r\n        var keys = this.getKeys();\r\n        return keys.map((key, index) => {\r\n            return  <th key = {key[0]} > {key[0]} </th>\r\n        })\r\n    }\r\n\r\n    getRowsData = function () {\r\n        var items = this.props.data;\r\n        if (!items) return \"\";\r\n        if (this.props.filter && this.props.filter.length>0) {\r\n            items = items.filter((item)=>this.props.filter.indexOf(item.category) > -1);\r\n        }\r\n        var keys = this.getKeys();\r\n        return items.map((row, index)=>{\r\n            return <tr key={index}><RenderRow key={index} data={row} keys={keys}/></tr>\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n             <div>\r\n                 <table border='1'>\r\n                     <thead>\r\n                         <tr>{this.getHeader()}</tr>\r\n                     </thead>\r\n                     <tbody>{this.getRowsData()}</tbody>\r\n                 </table>\r\n             </div> );\r\n    }\r\n}\r\nconst RenderRow = (props) => {\r\n    return props.keys.map((key, index) => {\r\n        return  <td key ={key[0]} > {key[1](props.data)} </td>\r\n    })\r\n}\r\n","import React, { Component } from 'react';\r\nimport { HashLink as Link } from 'react-router-hash-link';\r\n\r\nconst custom = {\r\n    monsters_demon1:{x:64, y:64},\r\n    monsters_demon2:{x:64, y:64},\r\n    monsters_hydra1:{x:64, y:64},\r\n    monsters_cyclops:{x:64, y:96},\r\n    monsters_bosses_2x2:{x:64, y:64},\r\n    monsters_giantbasilisk:{x:64, y:64},\r\n}\r\n\r\nexport const getDimentionById = (id) => getDimention(id?.split(\":\")[0]);\r\nexport const getDimention = (file) => custom[file]||{x:32,y:32};\r\n\r\nexport default class Icon extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        const {data, prefix, noBackground}= this.props;\r\n        const zoom = this.props.zoom || 32;\r\n\r\n        const href = (data.rootLink || prefix) + (data.id||data.name);\r\n        const key = \"i\" + (new Date() -0) +\"_\"+ Math.random();\r\n        const tmp = data.iconID?.split(\":\");\r\n        if (!data.id){\r\n            console.log(data)\r\n        }\r\n        const file = tmp[0];\r\n        const index = tmp[1];\r\n        const src = getSrc(file);\r\n        const d = getDimention(file);\r\n        \r\n        d.x = d.x * zoom / 32;\r\n        d.y = d.y * zoom / 32;\r\n\r\n        var style = {\r\n            width:d.x,\r\n            height:d.y,\r\n            overflow: 'hidden'\r\n        }\r\n        if (!noBackground) {\r\n            style = {\r\n                ...style,\r\n                backgroundImage: 'url(\"/drawable/ui_selections.png\")',\r\n                backgroundRepeat: 'no-repeat', \r\n                backgroundPosition: (data.iconBg * d.x) + \"px 0px\",\r\n                backgroundSize: (d.x * 5) + \"px \" + d.y + \"px\",\r\n\r\n            };\r\n        };\r\n\r\n        return <div style={{ display:'flex'}}>\r\n\r\n                        <Link style={style} \r\n                           title={data.displaytype} \r\n                           to={href}>\r\n                                <div id={data.id} className=\"TableAncor\"/>\r\n                                <img id={key} \r\n                                    src={src} \r\n                                    onLoad={onImgLoad(index, d, key)}\r\n                                    />\r\n                        </Link>\r\n                    </div>;\r\n    }\r\n}\r\n    const getSrc = (file) => {\r\n        if (!file) return;\r\n        return \"/drawable/\"+file+\".png\";\r\n    }\r\n    const getPosition = (i, width, d) => {\r\n        var x = - i % width * d.x;\r\n        var y = (- i * d.y - x) / width;\r\n        return {x, y};\r\n    }\r\n    const onImgLoad = (index, d, key) => {\r\n        return ()=> {\r\n            if (!index) return;\r\n            var img = document.getElementById(key);\r\n            var p = getPosition(index, img.width / d.x, d);\r\n            img.style = `margin: ${p.y}px 0 0 ${p.x}px; display: 'block'`;\r\n        }\r\n    }\r\n\r\n","import React from 'react';\r\nimport Icon from '../Icon';\r\n\r\nconst styles = {\r\n    root: {\r\n        position: 'relative',\r\n        paddingLeft: '10px',\r\n        paddingTop: '5px',\r\n        display: 'block',\r\n        width: '100%',\r\n        height: '100%',\r\n        alignItems: 'center'\r\n    },\r\n\r\n}\r\n\r\nconst IconCell = ({tableManager, value, onChange, isEdit, data, column, rowIndex, searchText, isFirstEditableCell}) => {\r\n    return (\r\n        <div style={styles.root}>\r\n            <Icon data={data} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default IconCell;","import React from 'react';\r\nimport { HashLink as Link } from 'react-router-hash-link';\r\n\r\nconst styles = {\r\n    root: {\r\n        position: 'relative',\r\n        padding: '5px 20px',\r\n        display: 'flex',\r\n        width: '100%',\r\n        height: '100%',\r\n    },\r\n    text: {\r\n        marginLeft: 1,\r\n        whiteSpace: 'nowrap',\r\n\r\n    },\r\n    aimg: {\r\n        width:32, \r\n        height:32, \r\n        overflow: 'hidden' \r\n    },\r\n}\r\n\r\nconst getSrc = (id) => {\r\n    const tmp = id?.split(\":\")\r\n    return \"/drawable/\"+tmp[0]+\".png\";\r\n}\r\nconst getTypePosition = (dt) => {\r\n    switch(dt) {\r\n        \r\n        case 'legendary': return  \"-128px 0px\";\r\n        case 'extraordinary': return  \"-64px 0px\";\r\n        case 'rare': return  \"-96px 0px\";\r\n        case 'quest': return  \"-32px 0px\";\r\n        \r\n        default: return \"32px 0px\";\r\n    }\r\n}\r\nconst getPosition = (id, width) => {\r\n    const tmp = id?.split(\":\")[1]\r\n    var x = - tmp % width * 32;\r\n    var y = (- tmp * 32 - x) / width;\r\n    return {x, y};\r\n}\r\nconst getImgId = (id, rowIndex, index) => {\r\n    return id+\"_\"+rowIndex+\"_\"+index;\r\n}\r\n\r\nconst onImgLoad = (id, rowIndex, index) => {\r\n    return ()=> {\r\n        var img = document.getElementById(getImgId(id, rowIndex, index));\r\n        var p = getPosition(id, img.width/32);\r\n        img.style = `margin: ${p.y}px 0 0 ${p.x}px`;\r\n    }\r\n}\r\n\r\nconst showCondition = (prefix, rowIndex) => {\r\n    return (row, index) => {\r\n        var title = prefix;\r\n        if (row.chance) title += row.chance +\"% chance of \";\r\n        title += row.link.name ;\r\n        if (row.magnitude > 1) title += \" x\" + row.magnitude;\r\n        if (row.duration) title += \" (\" + row.duration + \" rounds)\";\r\n        const href = \"/conditions#\"+row.link.id;\r\n        const id = getImgId(row.link.iconID, rowIndex, index);\r\n        return <Link style={styles.aimg} title={title} to={href} key={id} >\r\n                   <img id={id} src={getSrc(row.link.iconID)} \r\n                        onLoad={onImgLoad(row.link.iconID, rowIndex, index)}\r\n                   />\r\n               </Link>\r\n    }\r\n}\r\nconst getRowsData = (prefix, values, rowIndex) => {\r\n    return values?.map(showCondition(prefix, rowIndex));\r\n}\r\nconst getTextData = (prefix, value, text, rowIndex) => {\r\n    if (!value) return \"\";\r\n    return <span style={styles.text} title={prefix + \" \" + value.min + \"-\" + value.max}>{text}</span>;\r\n}\r\n\r\nconst ConditionsCell = ({tableManager, value, onChange, isEdit, data, column, rowIndex, searchText, isFirstEditableCell}) => {\r\n\r\n    return (\r\n        <div style={styles.root}>\r\n            {\r\n                <React.Fragment>\r\n                    {getRowsData(\"On equip\\n \", data.equipEffect?.addedConditions, rowIndex)}\r\n                    {getRowsData(\"On hit\\n On target\\n  \", data.hitEffect?.conditionsTarget, rowIndex)}\r\n                    {getRowsData(\"On hit\\n On source\\n  \", data.hitEffect?.conditionsSource, rowIndex)}\r\n                    {getTextData(\"On hit\\n On source\\n  \", data.hitEffect?.increaseCurrentHP, \"+HP\", rowIndex)}\r\n                    {getRowsData(\"On kill\\n On source\\n  \", data.killEffect?.conditionsSource, rowIndex)}\r\n                    {getTextData(\"On kill\\n On source\\n  \", data.killEffect?.increaseCurrentHP, \"+HP\", rowIndex)}\r\n                    {getTextData(\"On kill\\n On source\\n  \", data.killEffect?.increaseCurrentAP, \"+AP\", rowIndex)}\r\n                    {getRowsData(\"On hit received\\n On source\\n  \", data.hitReceivedEffect?.conditionsSource, rowIndex)}\r\n                    {getRowsData(\"On hit received\\n On target\\n  \", data.hitReceivedEffect?.conditionsTarget, rowIndex)}\r\n                    {getRowsData(\"On use\\n \", data.useEffect?.conditionsSource, rowIndex)}\r\n                </React.Fragment>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ConditionsCell;","import React from 'react';\r\n\r\nconst styles = {\r\n    root: {\r\n        position: 'relative',\r\n        padding: '0 20px',\r\n        display: 'flex',\r\n        width: '100%',\r\n        height: '100%',\r\n        alignItems: 'center'\r\n    },\r\n    text: {\r\n        marginLeft: 10,\r\n        whiteSpace: 'nowrap',\r\n        overflow: 'hidden',\r\n        textOverflow: 'ellipsis'\r\n    },\r\n}\r\n\r\nconst knownEquipEffects = [\r\n                  \"increaseAttackDamage\",\r\n                  \"increaseAttackCost\",\r\n                  \"increaseAttackChance\",\r\n                  \"increaseBlockChance\",\r\n                  \"increaseCriticalSkill\",\r\n                  \"setCriticalMultiplier\",\r\n                  \"increaseMaxHP\",\r\n                  \"setNonWeaponDamageModifier\",\r\n                  \"increaseMaxAP\",\r\n                  \"increaseDamageResistance\",\r\n                  \"addedConditions\",\r\n                  \"conditionsTarget\",\r\n                  \"increaseMoveCost\",\r\n                  \"increaseUseItemCost\",\r\n                  \"increaseReequipCost\",\r\n                  \"\",\r\n                  \"\",\r\n              ];\r\nconst knownHitEffects = [\r\n                  \"conditionsTarget\",\r\n                  \"conditionsSource\",\r\n                  \"increaseCurrentHP\",\r\n                  \"\",\r\n                  \"\",\r\n              ];\r\nconst knownKillEffects = [\r\n                  \"conditionsSource\",\r\n                  \"increaseCurrentHP\",\r\n                  \"increaseCurrentAP\",\r\n                  \"\",\r\n              ];\r\nconst knownReceivedEffects = [\r\n                  \"conditionsSource\",\r\n                  \"conditionsTarget\",\r\n                  \"\",\r\n                  \"\",\r\n              ];\r\nconst knownUseEffects = [\r\n                  \"conditionsSource\",\r\n                  \"increaseCurrentHP\",\r\n                  \"\",\r\n              ];\r\nconst knownAbilityEffects = [\r\n                  \"increaseAttackChance\",\r\n                  \"increaseBlockChance\",\r\n                  \"increaseDamageResistance\",\r\n                  \"increaseAttackDamage\",\r\n                  \"increaseMaxAP\",\r\n                  \"increaseMoveCost\",\r\n                  \"increaseAttackCost\",\r\n                  \"increaseMaxHP\",\r\n                  \"increaseCriticalSkill\",\r\n                  \"increaseUseItemCost\",\r\n                  \"increaseReequipCost\",\r\n                  \"visualEffectID\",\r\n                  \"\",\r\n              ];\r\nconst knownRoundEffects = [\r\n                  \"increaseCurrentHP\",\r\n                  \"visualEffectID\",\r\n                  \"increaseCurrentAP\",\r\n                  \"\",\r\n                  \"\",\r\n                  \"\",\r\n              ];\r\n\r\nconst getOther = (prefix, equipEffect, f) => {\r\n    if (!equipEffect) return \"\";\r\n    const result = Object.keys(equipEffect)\r\n        .filter((e)=> f.indexOf(e)==-1)\r\n        .map((key) => [key, equipEffect[key]]);\r\n    return (result.length>0) ? prefix + JSON.stringify(result) : \"\";\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst OtherCell = ({tableManager, value, onChange, isEdit, data, column, rowIndex, searchText, isFirstEditableCell}) => {\r\n\r\n    return (\r\n        <div style={styles.root}>\r\n            {\r\n                <React.Fragment>\r\n                    {getOther(\"On equip:\", data.equipEffect, knownEquipEffects)}\r\n                    {getOther(\"On hit:\", data.hitEffect, knownHitEffects)}\r\n                    {getOther(\"On get hit:\", data.hitReceivedEffect, knownReceivedEffects)}\r\n                    {getOther(\"On kill: \", data.killEffect, knownKillEffects)}\r\n                    {getOther(\"On use: \", data.useEffect, knownUseEffects)}\r\n                    {getOther(\"\", data.abilityEffect, knownAbilityEffects)}\r\n                    {getOther(\"\", data.roundEffect, knownRoundEffects)}\r\n                </React.Fragment>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default OtherCell;","import React from 'react';\r\n\r\nconst styles = {\r\n    root: {\r\n        position: 'relative',\r\n        padding: '10px 20px',\r\n        display: 'block',\r\n        width: '100%',\r\n        height: '100%',\r\n        alignItems: 'center'\r\n    },\r\n    text: {\r\n        margin: 'auto',\r\n        whiteSpace: 'nowrap',\r\n        overflow: 'hidden',\r\n        textOverflow: 'ellipsis',\r\n    },\r\n    \r\n\r\n}\r\nconst RangeCell = (...field)=>{\r\n    return ({tableManager, value, onChange, isEdit, data, column, rowIndex, searchText, isFirstEditableCell}) => {\r\n        var range = {data};\r\n        field.forEach((f)=>{range.data = range.data[f]||{}});\r\n        if (value == \"0\") return \"\";\r\n        if (range.data.min == range.data.max) return (<div style={styles.root}><span style={styles.text}>{value}</span></div>);\r\n        return (\r\n            <div style={styles.root}>\r\n               <span style={styles.text}>{value}({range.data.min}/{range.data.max})</span>\r\n            </div>\r\n        )\r\n\r\n    }\r\n}\r\n\r\nexport default RangeCell;","import React, { Component } from 'react';\r\n\r\nexport default class TableAbsHeader extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={\r\n            scrollY: window.scrollY,\r\n            scrollX: window.scrollX,\r\n        };\r\n        this.onScroll = this.onScroll.bind(this);\r\n    }\r\n\r\n    onScroll() {\r\n        this.setState({ scrollY: window.scrollY,  scrollX: window.scrollX,});\r\n    }\r\n\r\n    componentDidMount() {\r\n       if (window.onscroll) {\r\n           const tmp = window.onscroll;\r\n           window.onscroll = () => {tmp(); this.onScroll();}\r\n       } else {\r\n           window.onscroll = this.onScroll;\r\n       }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n       window.onscroll = undefined;\r\n    }\r\n\r\n    render() {\r\n\r\n        const columns = this.props.columns\r\n        const size = this.props.size\r\n        const bot = this.props.bot\r\n\r\n        if (window.scrollY < size.top) return \"\";\r\n        if (window.scrollY > (size.top + size.height - 50)) return \"\";\r\n\r\n\r\n        var style = {marginLeft:2-this.state.scrollX, width: 3000}\r\n\r\n        return (<div>\r\n                <RenderHead style1={style} columns={columns}/>\r\n                </div>\r\n              )\r\n\r\n    }\r\n}\r\nconst RenderHead = (props) => {\r\n    return <div className='absHeader' style={props.style1}  >\r\n                {props.columns\r\n                    .filter((e)=> !(e.visible == false))\r\n                    .map((e)=>{return (\r\n                            <div key={e.id} className='absSubHeader' style={{width:`${e.width}`}}>\r\n                                <div className='absSubHeaderInner' >{e.label}</div>\r\n                            </div>\r\n                        )})}\r\n           </div>\r\n}","import React, { Component } from 'react';\r\nimport Icon from '../Icon';\r\n\r\nexport default class Table extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.getHeader = this.getHeader.bind(this);\r\n        this.getRowsData = this.getRowsData.bind(this);\r\n        this.getKeys = this.getKeys.bind(this);\r\n    }\r\n    getKeys = function () {\r\n        return [\r\n            [\"\", (o)=> {return <Icon data={o.monster} />;}],\r\n            [\"Name\", (o)=>{return RenderHref(o.monster)}, { textAlign: 'left'} ],\r\n            [\"Quantity\",(o)=>{return Range(o.quantity)}],\r\n            [\"Chance\",(o)=>{return o.type ||(o.monster.maxHP?(o.chance+\"%\"):\"sell\")}],\r\n        ];\r\n    }\r\n\r\n    getHeader = function () {\r\n        var keys = this.getKeys();\r\n        return keys.map((key, index) => {\r\n            var style = (key.length>=2)?key[2]:{};\r\n            return  <th style={style} key = {key[0]} > {key[0]} </th>\r\n        })\r\n    }\r\n\r\n    getRowsData = function () {\r\n        var data = this.props.data;\r\n        if (!data) return \"\";\r\n        if (this.props.filter && this.props.filter.length>0) {\r\n            data = data.filter((item)=>this.props.filter.indexOf(item.category) > -1);\r\n        }\r\n        var keys = this.getKeys();\r\n        return data.map((row, index)=>{\r\n            return <tr key={index}><RenderRow key={index} data={row} keys={keys}/></tr>\r\n        })\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <table style={{width: 400}} >\r\n                <thead style={{display: 'none'}}><tr>{this.getHeader()}</tr></thead>\r\n                <tbody>{this.getRowsData()}</tbody>\r\n            </table>\r\n        );\r\n    }\r\n}\r\nconst RenderRow = (props) => {\r\n    return props.keys.map((key, index) => {\r\n        var style = (key.length>=2)?key[2]:{};\r\n        return <td style={style} key ={key[0]}>{key[1](props.data)}</td>\r\n    })\r\n}\r\nconst RenderHref = (o) => {\r\n    const href = o.rootLink + o.id;\r\n    return  <a href={href}>{o.name}</a>\r\n}\r\nconst Range = (o) => {\r\n    if (o?.max == o?.min) return o?.max;\r\n    return o.min + \"-\" + o.max;\r\n}","import React from 'react';\r\nimport LinksTable from './LinksTable';\r\n\r\nconst styles = {\r\n    text: {\r\n        marginLeft: 10,\r\n        whiteSpace: 'nowrap',\r\n        overflow: 'hidden',\r\n        textOverflow: 'ellipsis'\r\n    },\r\n    table: {\r\n        paddingTop: 10,\r\n        marginLeft: -10,\r\n    },\r\n}\r\n\r\nexport default class ExpandingName extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            expanded: false,\r\n        }\r\n        this.toggleExpand = this.toggleExpand.bind(this);\r\n    }\r\n    toggleExpand() {\r\n        this.setState({ expanded: !this.state.expanded, });\r\n    }\r\n\r\n    render() {\r\n \r\n        const data = this.props.data;\r\n\r\n        const value = this.props.value;\r\n        const links = [];\r\n        data.droplists?.flatMap((e)=>getEnemyList(e))?.filter((e)=>!!e).forEach((e)=>links.push(e));\r\n\r\nif(data.id == \"hand_mirror\") console.log(data)\r\n\r\n        if (!links||!links.length) {\r\n            return (\r\n              <React.Fragment>\r\n                    <div style={{ display:'flex'}} >\r\n                        <div style={{ width: 19}} />\r\n                        <span style={styles.text}>{value}</span>\r\n                    </div>\r\n              </React.Fragment> );\r\n        }\r\n               \r\n        return (\r\n              <React.Fragment>\r\n                    <div style={{ display:'flex'}} onClick={this.toggleExpand}>\r\n                            <img src=\"../image/sort_desc.png\" />\r\n                            <span style={styles.text}>{value}</span>\r\n                    </div>\r\n                    <div style={styles.table}>\r\n                        {(this.state.expanded) && <LinksTable data={links}/>}\r\n                    </div>\r\n\r\n             </React.Fragment> );\r\n    }\r\n}\r\n\r\nconst getEnemyList = (link) => {\r\n    var result = [];\r\n    link.droplist?.links?.forEach((monster) => {\r\n        result.push({\r\n            monster,\r\n            ...link\r\n        });\r\n    })\r\n\r\n    return result;\r\n}\r\n","import React from 'react';\r\nimport ExpandingName from './ExpandingName';\r\n\r\nconst styles = {\r\n    root: {\r\n        position: 'relative',\r\n        padding: '10px',\r\n        display: 'block',\r\n        width: '100%',\r\n        height: '100%',\r\n        alignItems: 'center'\r\n    },\r\n}\r\n\r\nconst IconCell = ({tableManager, value, onChange, isEdit, data, column, rowIndex, searchText, isFirstEditableCell}) => {\r\n    return (\r\n        <div style={styles.root}>\r\n            <ExpandingName data={data} value={value}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default IconCell;","import React, { Component } from 'react';\r\nimport GridTable from '@nadavshaar/react-grid-table';\r\nimport '../../@nadavshaar/react-grid-table/dist/index.css';\r\nimport IconCell from \"../cells/IconCell\";\r\nimport ConditionsCell from \"../cells/ConditionsCell\";\r\nimport OtherCell from \"../cells/OtherCell\";\r\nimport RangeCell from \"../cells/RangeCell\";\r\nimport TableAbsHeader from \"../TableAbsHeader\";\r\nimport NameCell from \"./NameCell\";\r\n\r\nconst sortStr = ({a, b, isAscending}) => {\r\n    let aa = a||\"\";\r\n    let bb = b||\"\";\r\n    if(aa > bb) return isAscending ? 1 : -1; \r\n    if(aa < bb) return isAscending ? -1 : 1; \r\n    return 0; \r\n}\r\nconst sortInt = ({a, b, isAscending}) => {\r\n    let aa = a||0;\r\n    let bb = b||0;\r\n    if(aa > bb) return isAscending ? 1 : -1; \r\n    if(aa < bb) return isAscending ? -1 : 1; \r\n    return 0; \r\n}\r\nconst sortDT = ({a, b, isAscending}) => {\r\n    const list = [\"ordinary\",\"quest\",\"rare\",\"extraordinary\",\"legendary\",\"\"];\r\n    let aa = list.indexOf(a);\r\n    let bb = list.indexOf(b);\r\n    if(aa > bb) return isAscending ? 1 : -1; \r\n    if(aa < bb) return isAscending ? -1 : 1; \r\n    return 0; \r\n}\r\nconst aInt = ({a, b, isAscending}) => {\r\n    let aa = a||0;\r\n    let bb = b||0;\r\n    if(aa > bb) return isAscending ? 1 : -1; \r\n    if(aa < bb) return isAscending ? -1 : 1; \r\n    return 0; \r\n}\r\n\r\nconst hashLinkScroll = () => {\r\n  const { hash } = window.location;\r\n  if (hash !== '') {\r\n    setTimeout(() => {\r\n      const id = hash.replace('#', '');\r\n      const element = document.getElementById(id);\r\n      if (element) element.scrollIntoView();\r\n    }, 100);\r\n  }\r\n}\r\n\r\nexport default class Table extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={};\r\n\r\n        this.getColumns = this.getColumns.bind(this);\r\n        this.getRows = this.getRows.bind(this);\r\n        this.id=\"ItemTable\" + Math.random();\r\n    }\r\n\r\n    getRows  = function () {\r\n        var data = this.props.data;\r\n        if (this.props.filter) {\r\n            data = data.filter((e)=>this.props.filter(e));\r\n        }\r\n        return data;\r\n    }\r\n\r\n    isEmptyColumn = function (f) {\r\n        return !!this.rows.find((e)=>f(e));\r\n    }\r\n    getColumns  = function () {\r\n        var i = 1;\r\n        return [\r\n            {\r\n                id: i++,\r\n                field: 'displaytype',\r\n                label: '',\r\n                pinned: true,\r\n                cellRenderer: IconCell,\r\n                sort:sortDT,\r\n                width: '50px',\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'name',\r\n                label: 'Name',\r\n                pinned: true,\r\n                cellRenderer: NameCell,\r\n                width: '290px',\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'equipEffect',\r\n                label: 'Atk Cost',\r\n                getValue: ({value, column}) => value?.increaseAttackCost,\r\n                sort:sortInt,\r\n                width: '85px',\r\n                visible: this.isEmptyColumn((item)=>item.equipEffect?.increaseAttackCost),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'equipEffect',\r\n                label: 'Dmg',\r\n                getValue: ({value, column}) => ((value?.increaseAttackDamage?.min||0) + (value?.increaseAttackDamage?.max||0))/2,\r\n                sort:sortInt,\r\n                cellRenderer: RangeCell(\"equipEffect\", \"increaseAttackDamage\"),\r\n                width: '120px',\r\n                visible: this.isEmptyColumn((item)=>item.equipEffect?.increaseAttackDamage),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'equipEffect',\r\n                label: 'AC',\r\n                getValue: ({value, column}) => value?.increaseAttackChance,\r\n                sort:sortInt,\r\n                width: '50px',\r\n                visible: this.isEmptyColumn((item)=>item.equipEffect?.increaseAttackChance),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'equipEffect',\r\n                label: 'BC',\r\n                getValue: ({value, column}) => value?.increaseBlockChance,\r\n                sort:sortInt,\r\n                width: '50px',\r\n                visible: this.isEmptyColumn((item)=>item.equipEffect?.increaseBlockChance),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'equipEffect',\r\n                label: 'Crit',\r\n                getValue: ({value, column}) => value?.increaseCriticalSkill,\r\n                sort:sortInt,\r\n                width: '60px',\r\n                visible: this.isEmptyColumn((item)=>item.equipEffect?.increaseCriticalSkill),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'equipEffect',\r\n                label: 'Crit*',\r\n                getValue: ({value, column}) => value?.setCriticalMultiplier,\r\n                sort:sortInt,\r\n                width: '55px',\r\n                visible: this.isEmptyColumn((item)=>item.equipEffect?.setCriticalMultiplier),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'equipEffect',\r\n                label: 'MaxHP',\r\n                getValue: ({value, column}) => value?.increaseMaxHP,\r\n                sort:sortInt,\r\n                width: '75px',\r\n                visible: this.isEmptyColumn((item)=>item.equipEffect?.increaseMaxHP),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'equipEffect',\r\n                label: 'MaxAP',\r\n                getValue: ({value, column}) => value?.increaseMaxAP,\r\n                sort:sortInt,\r\n                width: '75px',\r\n                visible: this.isEmptyColumn((item)=>item.equipEffect?.increaseMaxAP),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'equipEffect',\r\n                label: 'MC',\r\n                getValue: ({value, column}) => value?.increaseMoveCost,\r\n                sort:sortInt,\r\n                width: '80px',\r\n                visible: this.isEmptyColumn((item)=>item.equipEffect?.increaseMoveCost),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'equipEffect',\r\n                label: 'UC',\r\n                getValue: ({value, column}) => value?.increaseUseItemCost,\r\n                sort:sortInt,\r\n                width: '50px',\r\n                visible: this.isEmptyColumn((item)=>item.equipEffect?.increaseUseItemCost),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'equipEffect',\r\n                label: 'EC',\r\n                getValue: ({value, column}) => value?.increaseReequipCost,\r\n                sort:sortInt,\r\n                width: '50px',\r\n                visible: this.isEmptyColumn((item)=>item.equipEffect?.increaseReequipCost),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'equipEffect',\r\n                label: 'Dmg*%',\r\n                getValue: ({value, column}) => value?.setNonWeaponDamageModifier,\r\n                sort:sortInt,\r\n                width: '75px',\r\n                visible: this.isEmptyColumn((item)=>item.equipEffect?.setNonWeaponDamageModifier),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'equipEffect',\r\n                label: 'Res',\r\n                getValue: ({value, column}) => value?.increaseDamageResistance,\r\n                sort:sortInt,\r\n                width: '50px',\r\n                visible: this.isEmptyColumn((item)=>item.equipEffect?.increaseDamageResistance),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'conditionsCount',\r\n                label: 'Conditions',\r\n                sort:sortInt,\r\n                width: '140px',\r\n                cellRenderer: ConditionsCell,\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'baseMarketCost',\r\n                label: 'Price',\r\n                sort:sortInt,\r\n                width: '60px',\r\n                visible: true,\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'categoryLink',\r\n                label: 'Category',\r\n                getValue: ({value, column}) => value?.name,\r\n                width: '180px',\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'equipEffect',\r\n                label: 'Other',\r\n                getValue: ({value, column}) => value,\r\n                width: '100px',\r\n                sort:sortStr,\r\n                cellRenderer: OtherCell,\r\n                visible: false,\r\n            },\r\n        ]\r\n    }\r\n\r\n    componentDidMount() {\r\n        const top = document.getElementById(this.id).offsetTop;\r\n        this.setState({ top, height: 999999 });\r\n    }\r\n\r\n    render() {\r\n        GridTable.defaultProps.isPaginated = false;\r\n        GridTable.defaultProps.minColumnResizeWidth = 30;\r\n        GridTable.defaultProps.isVirtualScroll = false;\r\n        GridTable.defaultProps.showSearch = false;\r\n        GridTable.defaultProps.showColumnVisibilityManager = false;\r\n        this.rows = this.getRows();\r\n\r\n        const columns = this.getColumns()\r\n\r\n        return (<div id={this.id}>\r\n                    <TableAbsHeader columns={columns} size={this.state}/>\r\n                    <GridTable \r\n                        columns={columns} \r\n                        rows={this.rows} \r\n                        onLoad={hashLinkScroll} \r\n                        key={this.props.title}/>\r\n                </div>)\r\n    }\r\n}\r\n\r\n","import React, { Component } from 'react';\r\nimport GridTable from '@nadavshaar/react-grid-table';\r\nimport '../../@nadavshaar/react-grid-table/dist/index.css';\r\nimport IconCell from \"../cells/IconCell\";\r\nimport ConditionsCell from \"../cells/ConditionsCell\";\r\nimport OtherCell from \"../cells/OtherCell\";\r\nimport RangeCell from \"../cells/RangeCell\";\r\nimport NameCell from \"./NameCell\";\r\nimport TableAbsHeader from \"../TableAbsHeader\";\r\n\r\nconst sortStr = ({a, b, isAscending}) => {\r\n    let aa = a||\"\";\r\n    let bb = b||\"\";\r\n    if(aa > bb) return isAscending ? 1 : -1; \r\n    if(aa < bb) return isAscending ? -1 : 1; \r\n    return 0; \r\n}\r\nconst sortInt = ({a, b, isAscending}) => {\r\n    let aa = a||0;\r\n    let bb = b||0;\r\n    if(aa > bb) return isAscending ? 1 : -1; \r\n    if(aa < bb) return isAscending ? -1 : 1; \r\n    return 0; \r\n}\r\nconst sortDT = ({a, b, isAscending}) => {\r\n    const list = [\"ordinary\",\"quest\",\"rare\",\"extraordinary\",\"legendary\",\"\"];\r\n    let aa = list.indexOf(a);\r\n    let bb = list.indexOf(b);\r\n    if(aa > bb) return isAscending ? 1 : -1; \r\n    if(aa < bb) return isAscending ? -1 : 1; \r\n    return 0; \r\n}\r\nconst aInt = ({a, b, isAscending}) => {\r\n    let aa = a||0;\r\n    let bb = b||0;\r\n    if(aa > bb) return isAscending ? 1 : -1; \r\n    if(aa < bb) return isAscending ? -1 : 1; \r\n    return 0; \r\n}\r\n\r\nconst hashLinkScroll = () => {\r\n  const { hash } = window.location;\r\n  if (hash !== '') {\r\n    setTimeout(() => {\r\n      const id = hash.replace('#', '');\r\n      const element = document.getElementById(id);\r\n      if (element) element.scrollIntoView();\r\n    }, 100);\r\n  }\r\n}\r\n\r\nexport default class Table extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={};\r\n\r\n        this.getColumns = this.getColumns.bind(this);\r\n        this.getRows = this.getRows.bind(this);\r\n        this.id=\"PotionTable\" + Math.random();\r\n    }\r\n\r\n    getRows  = function () {\r\n        var data = this.props.data;\r\n        if (this.props.filter) {\r\n            data = data.filter((e)=>this.props.filter(e));\r\n        }\r\n        return data;\r\n    }\r\n\r\n    getColumns  = function () {\r\n        var i = 1;\r\n        return [\r\n            {\r\n                id: i++,\r\n                field: 'displaytype',\r\n                label: '',\r\n                pinned: true,\r\n                cellRenderer: IconCell,\r\n                sort:sortDT,\r\n                width: '50px',\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'name',\r\n                label: 'Name',\r\n                pinned: true,\r\n                cellRenderer: NameCell,\r\n                width: '290px',\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'categoryLink',\r\n                label: 'Category',\r\n                getValue: ({value, column}) => value.name,\r\n                width: '140px',\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'useEffect',\r\n                label: 'HP',\r\n                getValue: ({value, column}) => ((value?.increaseCurrentHP?.min||0) + (value?.increaseCurrentHP?.max||0))/2,\r\n                sort:sortInt,\r\n                width: '130px',\r\n                cellRenderer: RangeCell(\"useEffect\", \"increaseCurrentHP\"),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'conditionsCount',\r\n                label: 'Conditions',\r\n                sort:sortInt,\r\n                width: '250px',\r\n                cellRenderer: ConditionsCell,\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'baseMarketCost',\r\n                label: 'Price',\r\n                getValue: ({value, column}) => value ? value + \" gold\" : \"\",\r\n                sort:sortInt,\r\n                width: '100px',\r\n                visible: true,\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'equipEffect',\r\n                label: 'Other',\r\n                getValue: ({value, column}) => value,\r\n                width: '100px',\r\n                sort:sortStr,\r\n                cellRenderer: OtherCell,\r\n                visible: false,\r\n            },\r\n        ]\r\n    }\r\n\r\n    componentDidMount() {\r\n        const top = document.getElementById(this.id).offsetTop;\r\n        this.setState({ top, height: 999999 });\r\n    }\r\n\r\n    render() {\r\n        GridTable.defaultProps.isPaginated = false;\r\n        GridTable.defaultProps.minColumnResizeWidth = 30;\r\n        GridTable.defaultProps.isVirtualScroll = false;\r\n        GridTable.defaultProps.showSearch = false;\r\n        GridTable.defaultProps.showColumnVisibilityManager = false;\r\n        this.rows = this.getRows();\r\n        const columns = this.getColumns()\r\n\r\n        return (<div id={this.id}>\r\n                    <TableAbsHeader columns={columns} size={this.state}/>\r\n                    <GridTable \r\n                        columns={columns} \r\n                        rows={this.rows} \r\n                        onLoad={hashLinkScroll}/>\r\n                </div>)\r\n    }\r\n}\r\n\r\n","import { Link } from 'react-router-dom';\r\n\r\nexport default function LiLink(prefix, next, path, label=next) {\r\n    const to = prefix+next;\r\n    const liClass = (path.toUpperCase()==to.toUpperCase())?\"selected\":\"\"; \r\n    return  <li className={liClass} key={next}><Link to={to.toLowerCase()}>{label.capitalize()}</Link></li>\r\n}","import React, { Component } from 'react';\r\nimport ItemsTable from './ItemsTable.jsx';\r\nimport PotionsTable from './PotionsTable.jsx';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport PropsRoute from '../PropsRoute';\r\nimport LiLink from '../LiLink'\r\nimport Home from '../Home';\r\n\r\nexport default class ItemsPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.data) return \"Loading...\";\r\n        return (\r\n            <div>\r\n                <ul className=\"hr\">\r\n                        {LiLink(\"/items/\", \"body\", this.props.location.pathname, 'Armor')}\r\n                        {LiLink(\"/items/\", \"weapon\", this.props.location.pathname)}\r\n                        {LiLink(\"/items/\", \"shield\", this.props.location.pathname)}\r\n                        {LiLink(\"/items/\", \"head\", this.props.location.pathname, 'Helm')}\r\n                        {LiLink(\"/items/\", \"hand\", this.props.location.pathname, 'Glove')}\r\n                        {LiLink(\"/items/\", \"feet\", this.props.location.pathname, 'Boot')}\r\n                        {LiLink(\"/items/\", \"leftring\", this.props.location.pathname, 'ring')}\r\n                        {LiLink(\"/items/\", \"neck\", this.props.location.pathname, 'Necklace')}\r\n                        {LiLink(\"/items/\", \"use\", this.props.location.pathname, 'Usable')}\r\n                        {LiLink(\"/items/\", \"other\", this.props.location.pathname)}\r\n                </ul>\r\n                <Switch>\r\n                    {ItemRoute(\"body\", this.props.data)}\r\n                    {ItemRoute(\"weapon\", this.props.data)}\r\n                    {ItemRoute(\"shield\", this.props.data)}\r\n                    {ItemRoute(\"head\", this.props.data)}\r\n                    {ItemRoute(\"hand\", this.props.data)}\r\n                    {ItemRoute(\"feet\", this.props.data)}\r\n                    {ItemRoute(\"neck\", this.props.data)}\r\n                    {ItemRoute(\"leftring\", this.props.data)}\r\n                    <PropsRoute  path='/items/use' component={PotionsTable}\r\n                        data = { this.props.data } title=\"Usable\"\r\n                        filter = {(e)=>(e.categoryLink.actionType==\"use\")}\r\n                    />\r\n                    <PropsRoute path='/items/other'  component={ItemsTable}\r\n                        data = { this.props.data } title=\"Other\"\r\n                        filter = {(e)=>(!e.categoryLink?.actionType)}\r\n                    />\r\n                </Switch>\r\n            </div> \r\n               );\r\n    }\r\n}\r\n\r\nconst ItemRoute = (slot, data) => {\r\n    const path = \"/items/\"+slot;\r\n    return <PropsRoute  path={path} component={ItemsTable}\r\n                        data = {data} title= {slot}\r\n                        filter = {(e)=>(e.categoryLink.inventorySlot == slot)}\r\n                    />\r\n}","import React, { Component } from 'react';\r\nimport Icon from '../Icon';\r\n\r\nexport default class Table extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.getHeader = this.getHeader.bind(this);\r\n        this.getRowsData = this.getRowsData.bind(this);\r\n        this.getKeys = this.getKeys.bind(this);\r\n    }\r\n    getKeys = function () {\r\n        return [\r\n            [\"\", (o)=> {return <Icon data={o}/>;}],\r\n            [\"Name\", (o)=>{return RenderHref(o)}, { textAlign: 'left'} ],\r\n            [\"Type\",(o)=>o.type],\r\n            [\"Aim\",(o)=>o.aim],\r\n            [\"Chance\",(o)=>{return o.chance?(o.chance + \"%\"):\"\"}],\r\n            [\"Magnitude\",(o)=>{return o.magnitude + \"x\"}],\r\n            [\"Duration\",(o)=>{return o.duration?(o.duration + \" rounds\"):\"\"}],\r\n        ];\r\n    }\r\n\r\n    getHeader = function () {\r\n        var keys = this.getKeys();\r\n        return keys.map((key, index) => {\r\n            var style = (key.length>=2)?key[2]:{};\r\n            return  <th style={style} key = {key[0]} > {key[0]} </th>\r\n        })\r\n    }\r\n\r\n    getRowsData = function () {\r\n        var items = this.props.data;\r\n        if (!items) return \"\";\r\n        if (this.props.filter && this.props.filter.length>0) {\r\n            items = items.filter((item)=>this.props.filter.indexOf(item.category) > -1);\r\n        }\r\n        var keys = this.getKeys();\r\n        return items.map((row, index)=>{\r\n            return <tr key={index}><RenderRow key={index} data={row} keys={keys}/></tr>\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <table style={{width: 700}} >\r\n                <thead style={{display: 'none'}}><tr>{this.getHeader()}</tr></thead>\r\n                <tbody>{this.getRowsData()}</tbody>\r\n            </table>\r\n        );\r\n    }\r\n}\r\nconst RenderRow = (props) => {\r\n    return props.keys.map((key, index) => {\r\n        var style = (key.length>=2)?key[2]:{};\r\n        return <td style={style} key ={key[0]}>{key[1](props.data)}</td>\r\n    })\r\n}\r\nconst RenderHref = (o) => {\r\n    const href = o.rootLink + o.id;\r\n    return  <a href={href}>{o.name}</a>\r\n\r\n}","import React from 'react';\r\nimport LinksTable from './LinksTable';\r\n\r\nconst styles = {\r\n    text: {\r\n        marginLeft: 10,\r\n        whiteSpace: 'nowrap',\r\n        overflow: 'hidden',\r\n        textOverflow: 'ellipsis'\r\n    },\r\n    table: {\r\n        paddingTop: 10,\r\n        marginLeft: -10,\r\n    },\r\n}\r\n\r\nexport default class ExpandingName extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            expanded: false,\r\n        }\r\n        this.toggleExpand = this.toggleExpand.bind(this);\r\n    }\r\n    toggleExpand() {\r\n        this.setState({ expanded: !this.state.expanded, });\r\n    }\r\n\r\n    render() {\r\n        const data = this.props.data;\r\n        const value = this.props.value;\r\n        const links = data.links;\r\n        if (!links||!links.length) {\r\n            return (\r\n              <React.Fragment>\r\n                    <div style={{ display:'flex'}} >\r\n                        <div style={{ width: 19}} />\r\n                        <span style={styles.text}>{value}</span>\r\n                    </div>\r\n              </React.Fragment> );\r\n        }\r\n        return (\r\n              <React.Fragment>\r\n                    <div style={{ display:'flex'}} onClick={this.toggleExpand}>\r\n                            <img src=\"../image/sort_desc.png\" />\r\n                            <span style={styles.text}>{value}</span>\r\n                    </div>\r\n                    <div style={styles.table}>\r\n                        {(this.state.expanded) && <LinksTable data={links}/>}\r\n                    </div>\r\n\r\n             </React.Fragment> );\r\n    }\r\n}\r\n","import React from 'react';\r\nimport ExpandingName from './ExpandingName';\r\n\r\nconst styles = {\r\n    root: {\r\n        position: 'relative',\r\n        padding: '10px 5px 0px',\r\n        display: 'block',\r\n        width: '100%',\r\n        height: '100%',\r\n        alignItems: 'center'\r\n    },\r\n}\r\n\r\nconst IconCell = ({tableManager, value, onChange, isEdit, data, column, rowIndex, searchText, isFirstEditableCell}) => {\r\n    return (\r\n        <div style={styles.root}>\r\n            <ExpandingName data={data} value={value}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default IconCell;","import React from 'react';\r\n\r\nconst styles = {\r\n    root: {\r\n        position: 'relative',\r\n        padding: '0 20px',\r\n        display: 'flex',\r\n        width: '100%',\r\n        alignItems: 'center'\r\n    },\r\n    img: {\r\n        width: 32,\r\n        height:32,\r\n    },\r\n}\r\n\r\n\r\nconst Cell = ({tableManager, value, onChange, isEdit, data, column, rowIndex, searchText, isFirstEditableCell}) => {\r\n    return (\r\n        <div style={styles.root}>\r\n            {value && <img style={styles.img} src=\"/image/yes.png\"/>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Cell;","import React, { Component } from 'react';\r\nimport GridTable from '@nadavshaar/react-grid-table';\r\nimport '../../@nadavshaar/react-grid-table/dist/index.css';\r\nimport IconCell from \"../cells/IconCell\";\r\nimport NameCell from \"./NameCell\";\r\nimport TableAbsHeader from \"../TableAbsHeader\";\r\nimport JsonCell from \"../cells/JsonCell\";\r\nimport OtherCell from \"../cells/OtherCell\";\r\nimport RangeCell from \"../cells/RangeCell\";\r\nimport BooleanCell from \"../cells/BooleanCell\";\r\n\r\nconst sortStr = ({a, b, isAscending}) => {\r\n    let aa = a||\"\";\r\n    let bb = b||\"\";\r\n    if(aa > bb) return isAscending ? 1 : -1; \r\n    if(aa < bb) return isAscending ? -1 : 1; \r\n    return 0; \r\n}\r\nconst sortInt = ({a, b, isAscending}) => {\r\n    let aa = a||0;\r\n    let bb = b||0;\r\n    if(aa > bb) return isAscending ? 1 : -1; \r\n    if(aa < bb) return isAscending ? -1 : 1; \r\n    return 0; \r\n}\r\n\r\nconst aInt = ({a, b, isAscending}) => {\r\n    let aa = a||0;\r\n    let bb = b||0;\r\n    if(aa > bb) return isAscending ? 1 : -1; \r\n    if(aa < bb) return isAscending ? -1 : 1; \r\n    return 0; \r\n}\r\n\r\nconst hashLinkScroll = () => {\r\n  const { hash } = window.location;\r\n  if (hash !== '') {\r\n    setTimeout(() => {\r\n      const id = hash.replace('#', '');\r\n      const element = document.getElementById(id);\r\n      if (element) element.scrollIntoView();\r\n    }, 100);\r\n  }\r\n}\r\n\r\nexport default class Table extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state={};\r\n\r\n        this.getColumns = this.getColumns.bind(this);\r\n        this.getRows = this.getRows.bind(this);\r\n\r\n        this.id=\"CondinionTable\"+Math.random();\r\n    }\r\n\r\n    getRows  = function () {\r\n        var items = this.props.data;\r\n        if (this.props.filter) {\r\n            items = items.filter((item)=>this.props.filter.indexOf(item.category) > -1);\r\n        }\r\n\r\n        return items;\r\n    }\r\n    isEmptyColumn = function (f) {\r\n        return !!this.rows.find((e)=>f(e));\r\n    }\r\n    getColumns  = function () {\r\n        var i = 1;\r\n        return [\r\n            {\r\n                id: i++,\r\n                field: 'displaytype',\r\n                label: '',\r\n                pinned: true,\r\n                cellRenderer: IconCell,\r\n                width: '50px',\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'name',\r\n                label: 'Name',\r\n                pinned: true,\r\n                cellRenderer: NameCell,\r\n                width: '300px',\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'category',\r\n                label: 'Category',\r\n                width: '120px',\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'isStacking',\r\n                label: 'Stack',\r\n                cellRenderer: BooleanCell,\r\n                sort:sortInt,\r\n                width: '80px',\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'abilityEffect',\r\n                label: 'HP',\r\n                getValue: ({value, column}) => value?.increaseMaxHP,\r\n                sort:sortInt,\r\n                width: '62px',\r\n                visible: this.isEmptyColumn((item)=>item.abilityEffect?.increaseMaxHP),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'abilityEffect',\r\n                label: 'AC',\r\n                getValue: ({value, column}) => value?.increaseAttackChance,\r\n                sort:sortInt,\r\n                width: '62px',\r\n                visible: this.isEmptyColumn((item)=>item.abilityEffect?.increaseAttackChance),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'abilityEffect',\r\n                label: 'Dmg',\r\n                getValue: ({value, column}) => ((value?.increaseAttackDamage?.min||0)+(value?.increaseAttackDamage?.max||0))/2,\r\n                cellRenderer: RangeCell(\"abilityEffect\",\"increaseAttackDamage\"),\r\n                width: '78px',\r\n                visible: this.isEmptyColumn((item)=>item.abilityEffect?.increaseAttackDamage),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'abilityEffect',\r\n                label: 'Crit',\r\n                getValue: ({value, column}) => value?.increaseCriticalSkill,\r\n                sort:sortInt,\r\n                width: '70px',\r\n                visible: this.isEmptyColumn((item)=>item.abilityEffect?.increaseCriticalSkill),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'abilityEffect',\r\n                label: 'BC',\r\n                getValue: ({value, column}) => value?.increaseBlockChance,\r\n                sort:sortInt,\r\n                width: '60px',\r\n                visible: this.isEmptyColumn((item)=>item.abilityEffect?.increaseBlockChance),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'abilityEffect',\r\n                label: 'Resist',\r\n                getValue: ({value, column}) => value?.increaseDamageResistance,\r\n                sort:sortInt,\r\n                width: '82px',\r\n                visible: this.isEmptyColumn((item)=>item.abilityEffect?.increaseDamageResistance),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'abilityEffect',\r\n                label: 'AP',\r\n                getValue: ({value, column}) => value?.increaseMaxAP,\r\n                sort:sortInt,\r\n                width: '60px',\r\n                visible: this.isEmptyColumn((item)=>item.abilityEffect?.increaseMaxAP),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'abilityEffect',\r\n                label: 'Atk cost',\r\n                getValue: ({value, column}) => value?.increaseAttackCost,\r\n                sort:sortInt,\r\n                width: '100px',\r\n                visible: this.isEmptyColumn((item)=>item.abilityEffect?.increaseAttackCost),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'abilityEffect',\r\n                label: 'Move cost',\r\n                getValue: ({value, column}) => value?.increaseMoveCost,\r\n                sort:sortInt,\r\n                width: '115px',\r\n                visible: this.isEmptyColumn((item)=>item.abilityEffect?.increaseMoveCost),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'abilityEffect',\r\n                label: 'Use cost',\r\n                getValue: ({value, column}) => value?.increaseUseItemCost,\r\n                sort:sortInt,\r\n                width: '105px',\r\n                visible: this.isEmptyColumn((item)=>item.abilityEffect?.increaseUseItemCost),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'abilityEffect',\r\n                label: 'Equip cost',\r\n                getValue: ({value, column}) => value?.increaseReequipCost,\r\n                sort:sortInt,\r\n                width: '115px',\r\n                visible: this.isEmptyColumn((item)=>item.abilityEffect?.increaseReequipCost),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'roundEffect',\r\n                label: 'Round HP',\r\n                getValue: ({value, column}) => ((value?.increaseCurrentHP?.min||0)+(value?.increaseCurrentHP?.max||0))/2,\r\n                cellRenderer: RangeCell(\"roundEffect\",\"increaseCurrentHP\"),\r\n                sort:sortInt,\r\n                width: '115px',\r\n                visible: this.isEmptyColumn((item)=>item.roundEffect?.increaseCurrentHP),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'roundEffect',\r\n                label: 'Round AP',\r\n                getValue: ({value, column}) => ((value?.increaseCurrentAP?.min||0)+(value?.increaseCurrentAP?.max||0))/2,\r\n                cellRenderer: RangeCell(\"roundEffect\",\"increaseCurrentAP\"),\r\n                sort:sortInt,\r\n                width: '115px',\r\n                visible: this.isEmptyColumn((item)=>item.roundEffect?.increaseCurrentAP),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'abilityEffect',\r\n                label: 'abilityEffect',\r\n                getValue: ({value, column}) => JSON.stringify(value),\r\n                cellRenderer: OtherCell,\r\n                width: '400px',\r\n                visible: false,\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'roundEffect',\r\n                label: 'roundEffect',\r\n                getValue: ({value, column}) => JSON.stringify(value),\r\n                cellRenderer: OtherCell,\r\n                width: '400px',\r\n                visible: false,\r\n            },\r\n\r\n        ]\r\n    }\r\n\r\n    componentDidMount() {\r\n        const height = document.getElementById(this.id).clientHeight;\r\n        const top = document.getElementById(this.id).offsetTop;\r\n        this.setState({ top, height });\r\n    }\r\n\r\n    render() {\r\n        GridTable.defaultProps.isPaginated = false;\r\n        GridTable.defaultProps.minColumnResizeWidth = 30;\r\n        GridTable.defaultProps.isVirtualScroll = false;\r\n        GridTable.defaultProps.showSearch = false;\r\n        GridTable.defaultProps.showColumnVisibilityManager = false;\r\n\r\n        this.rows = this.getRows();\r\n        const columns = this.getColumns()\r\n\r\n        return (<div id={this.id}>\r\n                    <TableAbsHeader columns={columns} size={this.state}/>\r\n                    <GridTable \r\n                        columns={columns} \r\n                        rows={this.rows} \r\n                        onLoad={hashLinkScroll} \r\n                        key={this.props.title}/>\r\n                </div>)\r\n\r\n    }\r\n}\r\n\r\n","import React, { Component } from 'react';\r\nimport ConditionsTable from './ConditionsTable';\r\n\r\nexport default class ItemsPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.data) return \"Loading...\";\r\n        return ( \r\n                 <div>\r\n                     Positive\r\n                     {\r\n                         <ConditionsTable data = { this.props.data.filter((e)=>e.isPositive)} />\r\n                     }\r\n                     <br/>\r\n                     Negative\r\n                     {\r\n                         <ConditionsTable data = { this.props.data.filter((e)=>!e.isPositive)}  />\r\n                     }\r\n                 </div> \r\n               );\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { HashLink as Link } from 'react-router-hash-link';\r\n\r\n\r\nconst styles = {\r\n    root: {\r\n        width: 1000,\r\n    },\r\n    img: {\r\n        width: 32,\r\n        height:32,\r\n        marginTop: -5,\r\n        marginRight: 5,\r\n    },\r\n    link: {\r\n        color: 'white',\r\n        textTransform: 'capitalize',\r\n        float:'left',\r\n        display: 'flex',\r\n        margin: 10,\r\n    }\r\n}\r\n\r\nexport default class Table extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.getRowsData = this.getRowsData.bind(this);\r\n    }\r\n\r\n    getRowsData = function (data) {\r\n        if (!data) return \"\";\r\n        const maps = data?.flatMap((e)=>e.maps)?.filter(unique);\r\n\r\n        return maps?.map((row, index)=>{\r\n            return <Link key={index} to={row.rootLink + row.name + \"#\" + data[0].key} style={styles.link}>\r\n                        <img style={styles.img} src=\"/image/ui_icon_map.png\"  />{row.name}\r\n                   </Link>\r\n        })\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div style={styles.root}>{this.getRowsData(this.props.data)}</div>\r\n        );\r\n    }\r\n}\r\nfunction unique(item, pos, self) {\r\n    return self.indexOf(item) == pos;\r\n}","import React, { Component } from 'react';\r\nimport Icon from '../Icon';\r\n\r\nexport default class Table extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.getHeader = this.getHeader.bind(this);\r\n        this.getRowsData = this.getRowsData.bind(this);\r\n        this.getKeys = this.getKeys.bind(this);\r\n    }\r\n    getKeys = function () {\r\n        return [\r\n            [\"\", (o)=> {return <Icon data={o.link} />;}],\r\n            [\"Name\", (o)=>{return RenderHref(o.link)}, { textAlign: 'left'} ],\r\n            [\"Quantity\",(o)=>{return Range(o.quantity)}],\r\n            [\"Chance\",(o)=>{return o.chance+\"%\"}],\r\n        ];\r\n    }\r\n\r\n    getHeader = function () {\r\n        var keys = this.getKeys();\r\n        return keys.map((key, index) => {\r\n            var style = (key.length>=2)?key[2]:{};\r\n            return  <th style={style} key = {key[0]} > {key[0]} </th>\r\n        })\r\n    }\r\n\r\n    getRowsData = function (items) {\r\n        if (this.props.filter && this.props.filter.length>0) {\r\n            items = items.filter((item)=>this.props.filter.indexOf(item.category) > -1);\r\n        }\r\n        var keys = this.getKeys();\r\n        return items.map((row, index)=>{\r\n            return <tr key={index}><RenderRow key={index} data={row} keys={keys}/></tr>\r\n        })\r\n    }\r\n\r\n    render() {\r\n        var items = this.props.data;\r\n        if (!items?.length) return \"\";\r\n        return (\r\n            <table style={{width: 400}} >\r\n                <thead style={{display: 'none'}}><tr>{this.getHeader()}</tr></thead>\r\n                <tbody>{this.getRowsData(items)}</tbody>\r\n            </table>\r\n        );\r\n    }\r\n}\r\nconst RenderRow = (props) => {\r\n    return props.keys.map((key, index) => {\r\n        var style = (key.length>=2)?key[2]:{};\r\n        return <td style={style} key ={key[0]}>{key[1](props.data)}</td>\r\n    })\r\n}\r\nconst RenderHref = (o) => {\r\n    const href = o.rootLink + o.id;\r\n    return  <a href={href}>{o.name}</a>\r\n}\r\nconst Range = (o) => {\r\n    if (o.max == o.min) return o.max;\r\n    return o.min + \"-\" + o.max;\r\n}","import React from 'react';\r\nimport debug from '../../utils/debug';\r\nimport MapsList from '../MapsList';\r\nimport LinksTable from './LinksTable';\r\n\r\nconst styles = {\r\n    text: {\r\n        marginLeft: 10,\r\n        whiteSpace: 'nowrap',\r\n        overflow: 'hidden',\r\n        textOverflow: 'ellipsis'\r\n    },\r\n    table: {\r\n        paddingTop: 10,\r\n        marginLeft: -10,\r\n    },\r\n}\r\n\r\nexport default class ExpandingName extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            expanded: false,\r\n        }\r\n        this.toggleExpand = this.toggleExpand.bind(this);\r\n    }\r\n    toggleExpand() {\r\n        this.setState({ expanded: !this.state.expanded, });\r\n    }\r\n\r\n    render() {\r\n        const data = this.props.data;\r\n\r\n        const value = this.props.value;\r\n        const links = data.droplistLink?.items;\r\n        const spawnGroupLinks = data.spawnGroupLinks;\r\n        if (!links && !spawnGroupLinks) {\r\n            return (\r\n              <React.Fragment>\r\n                    <div style={{ display:'flex'}} >\r\n                        <div style={{ width: 19}} />\r\n                        <span style={styles.text}>{value}</span>\r\n                    </div>\r\n              </React.Fragment> );\r\n        }\r\n        return (\r\n              <React.Fragment>\r\n                    <div style={{ display:'flex'}} onClick={this.toggleExpand}>\r\n                            <img src=\"../image/sort_desc.png\" />\r\n                            <span style={styles.text}>{value}</span>\r\n                    </div>\r\n                    <div style={styles.table}>\r\n                        {(this.state.expanded) && <LinksTable data={links}/>}\r\n                        {(this.state.expanded) && <MapsList data={spawnGroupLinks}/>}\r\n                    </div>\r\n\r\n              </React.Fragment> );\r\n    }\r\n}\r\n","import React from 'react';\r\nimport ExpandingName from './ExpandingName';\r\n\r\nconst styles = {\r\n    root: {\r\n        position: 'relative',\r\n        padding: '10px',\r\n        display: 'block',\r\n        width: '100%',\r\n        height: '100%',\r\n        alignItems: 'center'\r\n    },\r\n}\r\n\r\nconst IconCell = ({tableManager, value, onChange, isEdit, data, column, rowIndex, searchText, isFirstEditableCell}) => {\r\n    return (\r\n        <div style={styles.root}>\r\n            <ExpandingName data={data} value={value}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default IconCell;","import React, { Component } from 'react';\r\nimport GridTable from '@nadavshaar/react-grid-table';\r\nimport '../../@nadavshaar/react-grid-table/dist/index.css';\r\nimport debug from '../../utils/debug'\r\nimport IconCell from \"../cells/IconCell\"\r\nimport { getDimentionById } from \"../Icon\"\r\nimport ConditionsCell from \"../cells/ConditionsCell\"\r\nimport OtherCell from \"../cells/OtherCell\"\r\nimport RangeCell from \"../cells/RangeCell\"\r\nimport NameCell from \"./NameCell\"\r\nimport TableAbsHeader from \"../TableAbsHeader\";\r\n\r\nconst sortStr = ({a, b, isAscending}) => {\r\n    let aa = a||\"\";\r\n    let bb = b||\"\";\r\n    if(aa > bb) return isAscending ? 1 : -1; \r\n    if(aa < bb) return isAscending ? -1 : 1; \r\n    return 0; \r\n}\r\nconst sortInt = ({a, b, isAscending}) => {\r\n    let aa = a||0;\r\n    let bb = b||0;\r\n    if(aa > bb) return isAscending ? 1 : -1; \r\n    if(aa < bb) return isAscending ? -1 : 1; \r\n    return 0; \r\n}\r\n\r\nconst hashLinkScroll = () => {\r\n  const { hash } = window.location;\r\n  if (hash !== '') {\r\n    setTimeout(() => {\r\n      const id = hash.replace('#', '');\r\n      const element = document.getElementById(id);\r\n      if (element) element.scrollIntoView();\r\n    }, 100);\r\n  }\r\n}\r\n\r\nexport default class Table extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={};\r\n\r\n        this.getColumns = this.getColumns.bind(this);\r\n        this.getRows = this.getRows.bind(this);\r\n        this.id=\"MonsterTable\" + Math.random();\r\n    }\r\n\r\n    getRows  = function () {\r\n        var data = this.props.data;\r\n\r\n        if (this.props.filter) {\r\n            data = data.filter((e)=>this.props.filter(e));\r\n        }\r\n        return data;\r\n    }\r\n\r\n    maxIconWidth = function () {\r\n        const width = this.rows.map((e) => getDimentionById(e.iconID).x).reduce((a, b) => Math.max(a, b), 32)+10;\r\n        return width+\"px\";\r\n    }\r\n\r\n    getColumns  = function () {\r\n        var i = 1;\r\n        return [\r\n            {\r\n                id: i++,\r\n                field: 'unique',\r\n                label: '',\r\n                pinned: true,\r\n                cellRenderer: IconCell,\r\n                sort:sortInt,\r\n                width: this.maxIconWidth(),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'name',\r\n                label: 'Name',\r\n                pinned: true,\r\n                cellRenderer: NameCell,\r\n                width: '300px',\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'maxHP',\r\n                label: 'HP',\r\n                sort:sortInt,\r\n                width: '50px',\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'attackChance',\r\n                label: 'AC',\r\n                sort:sortInt,\r\n                width: '50px',\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'attackDamage',\r\n                label: 'Dmg',\r\n                getValue: ({value, column}) => ((value?.min||0) + (value?.max||0))/2,\r\n                sort:sortInt,\r\n                cellRenderer: RangeCell(\"attackDamage\"),\r\n                width: '120px',\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'criticalSkill',\r\n                label: 'Crit',\r\n                sort:sortInt,\r\n                width: '60px',\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'criticalMultiplier',\r\n                label: 'Crit*',\r\n                sort:sortInt,\r\n                width: '55px',\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'blockChance',\r\n                label: 'BC',\r\n                sort:sortInt,\r\n                width: '50px',\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'damageResistance',\r\n                label: 'Res',\r\n                sort:sortInt,\r\n                width: '50px',\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'maxAP',\r\n                label: 'AP',\r\n                sort:sortInt,\r\n                width: '50px',\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'attackCost',\r\n                label: 'Atk Cost',\r\n                sort:sortInt,\r\n                width: '85px',\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'moveCost',\r\n                label: 'Move Cost',\r\n                sort:sortInt,\r\n                width: '100px',\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'exp',\r\n                label: 'XP',\r\n                sort:sortInt,\r\n                width: '75px',\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'conditionsCount',\r\n                label: 'Conditions',\r\n                sort:sortInt,\r\n                width: '130px',\r\n                cellRenderer: ConditionsCell,\r\n            },\r\n        ]\r\n    }\r\n\r\n    componentDidMount() {\r\n        const top = document.getElementById(this.id).offsetTop;\r\n        this.setState({ top, height: 999999 });\r\n    }\r\n\r\n    render() {\r\n\r\n        GridTable.defaultProps.isPaginated = false;\r\n        GridTable.defaultProps.minColumnResizeWidth = 30;\r\n        GridTable.defaultProps.isVirtualScroll = false;\r\n        GridTable.defaultProps.showSearch = false;\r\n        GridTable.defaultProps.showColumnVisibilityManager = false;\r\n        this.rows = this.getRows();\r\n        const columns = this.getColumns()\r\n\r\n        return (<div id={this.id}>\r\n                    <TableAbsHeader columns={columns} size={this.state}/>\r\n                    <GridTable \r\n                        columns={columns} \r\n                        rows={this.rows} \r\n                        onLoad={hashLinkScroll} \r\n                        key={this.props.title}/>\r\n                </div>)\r\n    }\r\n}\r\n\r\n","import React, { Component } from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport PropsRoute from '../PropsRoute';\r\nimport LiLink from '../LiLink'\r\nimport MonstersTable from './MonstersTable';\r\n\r\nexport default class MonstersPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.data) return \"Loading...\";\r\n        return (\r\n            <div>\r\n                <ul className=\"hr\">\r\n                        {LiLink(\"/monsters/\", \"animal\", this.props.location.pathname)}\r\n                        {LiLink(\"/monsters/\", \"insect\", this.props.location.pathname)}\r\n                        {LiLink(\"/monsters/\", \"reptile\", this.props.location.pathname)}\r\n                        {LiLink(\"/monsters/\", \"undead\", this.props.location.pathname)}\r\n                        {LiLink(\"/monsters/\", \"giant\", this.props.location.pathname)}\r\n                        {LiLink(\"/monsters/\", \"ghost\", this.props.location.pathname)}\r\n                        {LiLink(\"/monsters/\", \"construct\", this.props.location.pathname)}\r\n                        {LiLink(\"/monsters/\", \"humanoid\", this.props.location.pathname)}\r\n                        {LiLink(\"/monsters/\", \"demon\", this.props.location.pathname)}\r\n                        {LiLink(\"/monsters/\", \"other\", this.props.location.pathname)}\r\n                </ul>\r\n                <Switch>\r\n                    {ItemRoute(\"animal\", this.props.data)}\r\n                    {ItemRoute(\"humanoid\", this.props.data)}\r\n                    {ItemRoute(\"insect\", this.props.data)}\r\n                    {ItemRoute(\"undead\", this.props.data)}\r\n                    {ItemRoute(\"giant\", this.props.data)}\r\n                    {ItemRoute(\"reptile\", this.props.data)}\r\n                    {ItemRoute(\"construct\", this.props.data)}\r\n                    {ItemRoute(\"demon\", this.props.data)}\r\n                    {ItemRoute(\"ghost\", this.props.data)}\r\n                    <PropsRoute  path=\"/monsters/other\" component={MonstersTable}\r\n                        data = {this.props.data} title= \"Other\"\r\n                        filter = {(e)=>(e.rootLink=='/monsters/other#')}\r\n                    />\r\n                </Switch>\r\n                 </div> \r\n               );\r\n    }\r\n}\r\nconst ItemRoute = (c, data) => {\r\n    const path = \"/monsters/\"+c;\r\n    return <PropsRoute  path={path} component={MonstersTable}\r\n                        data = {data} title= {c}\r\n                        filter = {(e)=>(!!(e.attackChance||e.maxHP)&&e.monsterClass==c)}\r\n                    />\r\n}","import React, { Component } from 'react';\r\nimport Icon from '../Icon';\r\n\r\nexport default class Table extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.getHeader = this.getHeader.bind(this);\r\n        this.getRowsData = this.getRowsData.bind(this);\r\n        this.getKeys = this.getKeys.bind(this);\r\n    }\r\n    getKeys = function () {\r\n        return [\r\n            [\"\", (o)=> {return <Icon data={o.link} />;}, { width: 40}],\r\n            [\"Name\", (o)=>{return RenderHref(o.link)}, { textAlign: 'left', width: 250} ],\r\n            [\"Quantity\",(o)=>{return Range(o.quantity)}, { width: 40}],\r\n            [\"Price\",(o)=>{return calculateCostWithMod(o.link, 0.15)+\" gold\"}, { textAlign: 'right'}],\r\n            [\"Buy\",(o)=>{return calculateCostWithMod(o.link, -0.15)+\" gold\"}, { textAlign: 'right'}],\r\n        ];\r\n    }\r\n\r\n    getHeader = function () {\r\n        var keys = this.getKeys();\r\n        return keys.map((key, index) => {\r\n            var style = (key.length>=2)?key[2]:{};\r\n            return  <th style={style} key = {key[0]} > {key[0]} </th>\r\n        })\r\n    }\r\n\r\n    getRowsData = function (items) {\r\n        if (this.props.filter && this.props.filter.length>0) {\r\n            items = items.filter((item)=>this.props.filter.indexOf(item.category) > -1);\r\n        }\r\n        var keys = this.getKeys();\r\n        return items.map((row, index)=>{\r\n            return <tr key={index}><RenderRow key={index} data={row} keys={keys}/></tr>\r\n        })\r\n    }\r\n\r\n    render() {\r\n        var data = this.props.data;\r\n        if (!data) return \"\";\r\n        return (\r\n            <table style={{width: 500}} >\r\n                <thead style={{display: 'none'}}><tr>{this.getHeader()}</tr></thead>\r\n                <tbody>{this.getRowsData(data)}</tbody>\r\n            </table>\r\n        );\r\n    }\r\n}\r\nconst RenderRow = (props) => {\r\n    return props.keys.map((key, index) => {\r\n        var style = (key.length>=2)?key[2]:{};\r\n        return <td style={style} key ={key[0]}>{key[1](props.data)}</td>\r\n    })\r\n}\r\nconst RenderHref = (o) => {\r\n    const href = o.rootLink + o.id;\r\n    return  <a href={href}>{o.name}</a>\r\n}\r\nconst Range = (o) => {\r\n    if (o.max == o.min) return o.max;\r\n    return o.min + \"-\" + o.max;\r\n}\r\nconst calculateCostWithMod = (o, mod) => {\r\n    const cost = o.baseMarketCost;\r\n    return cost + Math.trunc(cost * mod);\r\n}","import React, { Component } from 'react';\r\nimport Icon from '../Icon';\r\n\r\nexport default class Table extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.getHeader = this.getHeader.bind(this);\r\n        this.getRowsData = this.getRowsData.bind(this);\r\n        this.getKeys = this.getKeys.bind(this);\r\n    }\r\n    getKeys = function () {\r\n        return [\r\n            [\"\", (o)=> {return <Icon data={o.link} />;}, { width: 40}],\r\n            [\"Name\", (o)=>{return RenderHref(o.link)}, { textAlign: 'left', width: 250} ],\r\n            [\"Quantity\",(o)=>{return Range(o.quantity)}],\r\n            [\"By quest\", (o)=> \"give by quest\" ],\r\n            \r\n        ];\r\n    }\r\n\r\n    getHeader = function () {\r\n        var keys = this.getKeys();\r\n        return keys.map((key, index) => {\r\n            var style = (key.length>=2)?key[2]:{};\r\n            return  <th style={style} key = {key[0]} > {key[0]} </th>\r\n        })\r\n    }\r\n\r\n    getRowsData = function (items) {\r\n        if (this.props.filter && this.props.filter.length>0) {\r\n            items = items.filter((item)=>this.props.filter.indexOf(item.category) > -1);\r\n        }\r\n        var keys = this.getKeys();\r\n        return items.map((row, index)=>{\r\n            return <tr key={index}><RenderRow key={index} data={row} keys={keys}/></tr>\r\n        })\r\n    }\r\n\r\n    render() {\r\n        var data = this.props.data;\r\n        if (!data) return \"\";\r\n\r\n        return (\r\n            <table style={{width: 500}} >\r\n                <thead style={{display: 'none'}}><tr>{this.getHeader()}</tr></thead>\r\n                <tbody>{this.getRowsData(data)}</tbody>\r\n            </table>\r\n        );\r\n    }\r\n}\r\nconst RenderRow = (props) => {\r\n    return props.keys.map((key, index) => {\r\n        var style = (key.length>=2)?key[2]:{};\r\n        return <td style={style} key ={key[0]}>{key[1](props.data)}</td>\r\n    })\r\n}\r\nconst RenderHref = (o) => {\r\n    const href = o.rootLink + o.id;\r\n    return  <a href={href}>{o.name}</a>\r\n}\r\nconst Range = (o) => {\r\n    if (o?.max == o?.min) return o?.max;\r\n    return o.min + \"-\" + o.max;\r\n}","import React, { Component } from 'react';\r\nimport Icon from '../Icon';\r\nimport { HashLink as Link } from 'react-router-hash-link';\r\n\r\nexport default class Table extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.getHeader = this.getHeader.bind(this);\r\n        this.getRowsData = this.getRowsData.bind(this);\r\n        this.getKeys = this.getKeys.bind(this);\r\n    }\r\n    getKeys = function () {\r\n        return [\r\n            [\"\", (o)=> IconCell(o), { width: 40} ],\r\n            [\"Name\", (o)=>{return o.name}, { textAlign: 'left'} ],\r\n        ];\r\n    }\r\n\r\n    getHeader = function () {\r\n        var keys = this.getKeys();\r\n        return keys.map((key, index) => {\r\n            var style = (key.length>=2)?key[2]:{};\r\n            return  <th style={style} key = {key[0]} > {key[0]} </th>\r\n        })\r\n    }\r\n\r\n    getRowsData = function (items) {\r\n        if (this.props.filter && this.props.filter.length>0) {\r\n            items = items.filter((item)=>this.props.filter.indexOf(item.category) > -1);\r\n        }\r\n        var keys = this.getKeys();\r\n        return items.map((row, index)=>{\r\n            return <tr key={index}><RenderRow key={index} data={row} keys={keys}/></tr>\r\n        })\r\n    }\r\n\r\n    render() {\r\n        var data = this.props.data;\r\n        if (!data) return \"\";\r\n\r\n        return (\r\n            <table style={{width: 500}} >\r\n                <thead style={{display: 'none'}}><tr>{this.getHeader()}</tr></thead>\r\n                <tbody>{this.getRowsData(data)}</tbody>\r\n            </table>\r\n        );\r\n    }\r\n}\r\nconst RenderRow = (props) => {\r\n    return props.keys.map((key, index) => {\r\n        var style = (key.length>=2)?key[2]:{};\r\n        return <td style={style} key ={key[0]}>{key[1](props.data)}</td>\r\n    })\r\n}\r\nconst RenderHref = (o) => {\r\n    const href = o.rootLink + o.id;\r\n    return  <a href={href}>{o.name}</a>\r\n}\r\nconst Range = (o) => {\r\n    if (o.max == o.min) return o.max;\r\n    return o.min + \"-\" + o.max;\r\n}\r\nconst calculateCostWithMod = (o, mod) => {\r\n    const cost = o.baseMarketCost;\r\n    return cost + Math.trunc(cost * mod);\r\n}\r\nconst IconCell = (data) => {\r\n    const href = (data.rootLink) + data.id;\r\n    return <Link to={href}><img title={data.id} src=\"/image/ui_icon_quest.png\"/></Link>\r\n}","import React from 'react';\r\nimport debug from '../../utils/debug';\r\nimport MapsList from '../MapsList';\r\nimport SellItemsTable from './LinksTable';\r\nimport QuestItemsTable from './QuestItemsTable';\r\nimport QuestsTable from './QuestsTable';\r\n\r\n\r\nconst styles = {\r\n    text: {\r\n        marginLeft: 10,\r\n        whiteSpace: 'nowrap',\r\n        overflow: 'hidden',\r\n        textOverflow: 'ellipsis'\r\n    },\r\n    table: {\r\n        paddingTop: 10,\r\n        marginLeft: -10,\r\n    },\r\n}\r\n\r\nexport default class ExpandingName extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            expanded: false,\r\n        }\r\n        this.toggleExpand = this.toggleExpand.bind(this);\r\n    }\r\n    toggleExpand() {\r\n        this.setState({ expanded: !this.state.expanded, });\r\n    }\r\n\r\n    render() {\r\n        const data = this.props.data;\r\n\r\n        const value = this.props.value;\r\n        const links = data.droplistLink?.items;\r\n        const quests = data.questLinks;\r\n        const questItemsLinks = [];\r\n        data.questItemsLinks?.forEach((e)=>questItemsLinks.push(e));\r\n        data.questDropListLinks?.flatMap((e)=>e.link.items)?.forEach((e)=>questItemsLinks.push(e));\r\n        \r\n        \r\n        if (!links && !quests?.length && !questItemsLinks?.length) {\r\n            return (\r\n              <React.Fragment>\r\n                    <div style={{ display:'flex'}} >\r\n                        <div style={{ width: 19}} />\r\n                        <span style={styles.text}>{value}</span>\r\n                    </div>\r\n              </React.Fragment> );\r\n        }\r\n        return (\r\n              <React.Fragment>\r\n                    <div style={{ display:'flex'}} onClick={this.toggleExpand}>\r\n                            <img src=\"../image/sort_desc.png\" />\r\n                            <span style={styles.text}>{value}</span>\r\n                    </div>\r\n                    <div style={styles.table}>\r\n                        {(this.state.expanded) && <SellItemsTable data={links}/>}\r\n                        {(this.state.expanded) && <QuestItemsTable data={questItemsLinks}/>}\r\n                        {(this.state.expanded) && <QuestsTable data={quests}/>}\r\n                    </div>\r\n\r\n              </React.Fragment> );\r\n    }\r\n}\r\n","import React from 'react';\r\nimport ExpandingName from './ExpandingName';\r\n\r\nconst styles = {\r\n    root: {\r\n        position: 'relative',\r\n        padding: '10px',\r\n        display: 'block',\r\n        width: '100%',\r\n        height: '100%',\r\n        alignItems: 'center'\r\n    },\r\n}\r\n\r\nconst IconCell = ({tableManager, value, onChange, isEdit, data, column, rowIndex, searchText, isFirstEditableCell}) => {\r\n    return (\r\n        <div style={styles.root}>\r\n            <ExpandingName data={data} value={value}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default IconCell;","import React, { Component } from 'react';\r\nimport { HashLink as Link } from 'react-router-hash-link';\r\n\r\nfunction unique(item, pos, self) {\r\n    return self.indexOf(item) == pos;\r\n}\r\n\r\nconst getRowsData = function (data) {\r\n        if (!data) return \"\";\r\n        const maps = data?.flatMap((e) => e.maps)?.filter(unique);\r\n        return maps?.map((row, index) => {\r\n            const href = row.rootLink + row.name + \"#\" + data[0].key;\r\n            return <Link key={index} to={href} className=\"nps-location-cell\">{row.name}</Link>;\r\n        })\r\n    }\r\n\r\nconst Cell = ({tableManager, value, onChange, isEdit, data, column, rowIndex, searchText, isFirstEditableCell}) => {\r\n    return <div>{getRowsData(data.spawnGroupLinks)}</div>;\r\n}\r\n\r\nexport default Cell;","import React, { Component } from 'react';\r\nimport GridTable from '@nadavshaar/react-grid-table';\r\nimport '../../@nadavshaar/react-grid-table/dist/index.css';\r\nimport IconCell from \"../cells/IconCell\"\r\nimport { getDimentionById } from \"../Icon\"\r\nimport NameCell from \"./NameCell\"\r\nimport LocationCell from \"./LocationCell\"\r\nimport TableAbsHeader from \"../TableAbsHeader\";\r\n\r\nconst sortLocations = ({a, b, isAscending}) => {\r\n    let aa = (a[0]?.maps&&a[0].maps[0]?.name)||\"\";\r\n    let bb = (b[0]?.maps&&b[0].maps[0]?.name)||\"\";\r\n    if(aa > bb) return isAscending ? 1 : -1; \r\n    if(aa < bb) return isAscending ? -1 : 1; \r\n    return 0; \r\n}\r\nconst sortInt = ({a, b, isAscending}) => {\r\n    let aa = a||0;\r\n    let bb = b||0;\r\n    if(aa > bb) return isAscending ? 1 : -1; \r\n    if(aa < bb) return isAscending ? -1 : 1; \r\n    return 0; \r\n}\r\n\r\nconst hashLinkScroll = () => {\r\n  const { hash } = window.location;\r\n  if (hash !== '') {\r\n    setTimeout(() => {\r\n      const id = hash.replace('#', '');\r\n      const element = document.getElementById(id);\r\n      if (element) element.scrollIntoView();\r\n    }, 100);\r\n  }\r\n}\r\n\r\nexport default class Table extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={};\r\n\r\n        this.getColumns = this.getColumns.bind(this);\r\n        this.getRows = this.getRows.bind(this);\r\n        this.id=\"NpcTable\" + Math.random();\r\n    }\r\n\r\n    getRows  = function () {\r\n        var data = this.props.data;\r\n        if (this.props.filter) {\r\n            data = data.filter((e)=>this.props.filter(e));\r\n        }\r\n        return data;\r\n    }\r\n\r\n    maxIconWidth = function () {\r\n        const width = this.rows.map((e) => getDimentionById(e.iconID).x).reduce((a, b) => Math.max(a, b), 32)+10;\r\n        return width+\"px\";\r\n    }\r\n\r\n    getColumns  = function () {\r\n        var i = 1;\r\n        return [\r\n            {\r\n                id: i++,\r\n                field: 'unique',\r\n                label: '',\r\n                pinned: true,\r\n                cellRenderer: IconCell,\r\n                sort:sortInt,\r\n                width: this.maxIconWidth(),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'name',\r\n                label: 'Name',\r\n                pinned: true,\r\n                cellRenderer: NameCell,\r\n                width: '300px',\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'spawnGroupLinks',\r\n                label: 'Locations',\r\n                sort: sortLocations,\r\n                cellRenderer: LocationCell,\r\n                width: '300px',\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'questLinks',\r\n                label: 'questLinks',\r\n                getValue: ({value, column}) => value?.length,\r\n                width: '300px',\r\n            },\r\n         \r\n        ]\r\n    }\r\n\r\n    componentDidMount() {\r\n        const top = document.getElementById(this.id).offsetTop;\r\n        this.setState({ top, height: 999999 });\r\n    }\r\n\r\n    render() {\r\n        GridTable.defaultProps.isPaginated = false;\r\n        GridTable.defaultProps.minColumnResizeWidth = 30;\r\n        GridTable.defaultProps.isVirtualScroll = false;\r\n        GridTable.defaultProps.showSearch = false;\r\n        GridTable.defaultProps.showColumnVisibilityManager = false;\r\n        this.rows = this.getRows();\r\n        const columns = this.getColumns()\r\n\r\n        return (<div id={this.id}>\r\n                    <TableAbsHeader columns={columns} size={this.state}/>\r\n                    <GridTable \r\n                        columns={columns} \r\n                        rows={this.rows} \r\n                        onLoad={hashLinkScroll}/>\r\n                </div>)\r\n    }\r\n}\r\n\r\n","import React, { Component } from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport PropsRoute from '../PropsRoute';\r\nimport LiLink from '../LiLink';\r\nimport NpcTable from './NpcTable';\r\n\r\nexport default class MonstersPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.data) return \"Loading...\";\r\n        return (\r\n            <div>\r\n                <ul className=\"hr\">\r\n                        {LiLink(\"/npc/\", \"merchant\", this.props.location.pathname)}\r\n                        {LiLink(\"/npc/\", \"A-G\", this.props.location.pathname)}\r\n                        {LiLink(\"/npc/\", \"H-R\", this.props.location.pathname)}\r\n                        {LiLink(\"/npc/\", \"S-Z\", this.props.location.pathname)}\r\n                </ul>\r\n                <Switch>\r\n                    <PropsRoute  path=\"/npc/a-g\" component={NpcTable}\r\n                        data = {this.props.data} title= \"NPC\"\r\n                        filter = {(e)=>(e.rootLink=='/npc/a-g#')}\r\n                    />\r\n                    <PropsRoute  path=\"/npc/h-r\" component={NpcTable}\r\n                        data = {this.props.data} title= \"NPC\"\r\n                        filter = {(e)=>(e.rootLink=='/npc/h-r#')}\r\n                    />\r\n                    <PropsRoute  path=\"/npc/s-z\" component={NpcTable}\r\n                        data = {this.props.data} title= \"NPC\"\r\n                        filter = {(e)=>(e.rootLink=='/npc/s-z#')}\r\n                    />\r\n                    <PropsRoute  path=\"/npc/merchant\" component={NpcTable}\r\n                        data = {this.props.data} title= \"Merchant\"\r\n                        filter = {(e)=>(e.rootLink=='/npc/merchant#')}\r\n                    />\r\n                </Switch>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport Icon from '../Icon';\r\n\r\nexport default class Table extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.getHeader = this.getHeader.bind(this);\r\n        this.getRowsData = this.getRowsData.bind(this);\r\n        this.getKeys = this.getKeys.bind(this);\r\n    }\r\n    getKeys = function () {\r\n        return [\r\n            [\"\", (o)=> {return <Icon data={o} />;}],\r\n            [\"Name\", (o)=>{return RenderHref(o)}, { textAlign: 'left'} ],\r\n        ];\r\n    }\r\n\r\n    getHeader = function () {\r\n        var keys = this.getKeys();\r\n        return keys.map((key, index) => {\r\n            var style = (key.length>=2)?key[2]:{};\r\n            return  <th style={style} key = {key[0]} > {key[0]} </th>\r\n        })\r\n    }\r\n\r\n    getRowsData = function () {\r\n        var data = this.props.data;\r\n        if (!data) return \"\";\r\n        if (this.props.filter && this.props.filter.length>0) {\r\n            data = data.filter((item)=>this.props.filter.indexOf(item.category) > -1);\r\n        }\r\n        var keys = this.getKeys();\r\n        return data.map((row, index)=>{\r\n            return <tr key={index}><RenderRow key={index} data={row} keys={keys}/></tr>\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <table style={{width: 400}} >\r\n                <thead style={{display: 'none'}}><tr>{this.getHeader()}</tr></thead>\r\n                <tbody>{this.getRowsData()}</tbody>\r\n            </table>\r\n        );\r\n    }\r\n}\r\nconst RenderRow = (props) => {\r\n    return props.keys.map((key, index) => {\r\n        var style = (key.length>=2)?key[2]:{};\r\n        return <td style={style} key ={key[0]}>{key[1](props.data)}</td>\r\n    })\r\n}\r\nconst RenderHref = (o) => {\r\n    const href = o.rootLink + o.id;\r\n    return  <a href={href}>{o.name}</a>\r\n}\r\nconst Range = (o) => {\r\n    if (o.max == o.min) return o.max;\r\n    return o.min + \"-\" + o.max;\r\n}","import React, { Component } from 'react';\r\nimport Icon from '../Icon';\r\n\r\nconst styles = {\r\n    root: {\r\n        marginLeft: 50,\r\n        width: 1000,\r\n        textAlign: 'left',\r\n    },\r\n\r\n}\r\n\r\nexport default class Table extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    getRowsData = function () {\r\n        var data = this.props.data;\r\n        if (!data) return \"\";\r\n\r\n        return data.sort((a,b) => (a.progress-b.progress)).map((row, index) => {\r\n            const className = (!!row.finishesQuest)?\"end\":(!!row.rewardExperience)?\"exp\":undefined;\r\n            return <li className={className} key={index}>\r\n                        {row.logText} \r\n                        {!!row.rewardExperience&&<b> ({row.rewardExperience}XP)</b>} \r\n                        {!!row.finishesQuest&&<b>[End of quest]</b>} \r\n                   </li>\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return <ul style={styles.root}>{this.getRowsData()}</ul>;\r\n    }\r\n}\r\n","import React from 'react';\r\nimport LinksTable from './LinksTable';\r\nimport StagesList from './StagesList';\r\n\r\nconst styles = {\r\n    text: {\r\n        marginLeft: 10,\r\n        whiteSpace: 'nowrap',\r\n        overflow: 'hidden',\r\n        textOverflow: 'ellipsis'\r\n    },\r\n    table: {\r\n        paddingTop: 10,\r\n        marginLeft: -10,\r\n    },\r\n}\r\n\r\nexport default class ExpandingName extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            expanded: false,\r\n        }\r\n        this.toggleExpand = this.toggleExpand.bind(this);\r\n    }\r\n    toggleExpand() {\r\n        this.setState({ expanded: !this.state.expanded, });\r\n    }\r\n\r\n    render() {\r\n        const data = this.props.data;\r\n        const value = this.props.value;\r\n        \r\n        const stages = data.stages;\r\n        const links = data.links;\r\n\r\n        if (!links && !stages) {\r\n            return (\r\n              <React.Fragment>\r\n                    <div style={{ display:'flex'}} >\r\n                        <div style={{ width: 19}} />\r\n                        <span style={styles.text}>{value}</span>\r\n                    </div>\r\n              </React.Fragment> );\r\n        }\r\n        return (\r\n              <React.Fragment>\r\n                    <div style={{ display:'flex'}} onClick={this.toggleExpand}>\r\n                            <img src=\"../image/sort_desc.png\" />\r\n                            <span style={styles.text}>{value}</span>\r\n                    </div>\r\n                    <div style={styles.table}>\r\n                        {(this.state.expanded) && <StagesList data={stages}/>}\r\n                        {(this.state.expanded) && <LinksTable data={links}/>}\r\n                    </div>\r\n\r\n              </React.Fragment> );\r\n\r\n    }\r\n}\r\n\r\nconst getEnemyList = (link) => {\r\n    var result = [];\r\n    link.droplist?.links?.forEach((monster) => {\r\n        result.push({\r\n            monster,\r\n            ...link\r\n        });\r\n    })\r\n\r\n    return result;\r\n}\r\n","import React from 'react';\r\nimport ExpandingName from './ExpandingName';\r\n\r\nconst styles = {\r\n    root: {\r\n        position: 'relative',\r\n        padding: '10px',\r\n        display: 'block',\r\n        width: '100%',\r\n        height: '100%',\r\n        alignItems: 'center'\r\n    },\r\n}\r\n\r\nconst IconCell = ({tableManager, value, onChange, isEdit, data, column, rowIndex, searchText, isFirstEditableCell}) => {\r\n    return (\r\n        <div style={styles.root}>\r\n            <ExpandingName data={data} value={value}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default IconCell;","import React, { Component } from 'react';\r\nimport GridTable from '@nadavshaar/react-grid-table';\r\nimport '../../@nadavshaar/react-grid-table/dist/index.css';\r\nimport NameCell from \"./NameCell\";\r\nimport TableAbsHeader from \"../TableAbsHeader\";\r\nimport { HashLink as Link } from 'react-router-hash-link';\r\n\r\nconst sortStr = ({a, b, isAscending}) => {\r\n    let aa = a||\"\";\r\n    let bb = b||\"\";\r\n    if(aa > bb) return isAscending ? 1 : -1; \r\n    if(aa < bb) return isAscending ? -1 : 1; \r\n    return 0; \r\n}\r\nconst sortInt = ({a, b, isAscending}) => {\r\n    let aa = a||0;\r\n    let bb = b||0;\r\n    if(aa > bb) return isAscending ? 1 : -1; \r\n    if(aa < bb) return isAscending ? -1 : 1; \r\n    return 0; \r\n}\r\nconst sortDT = ({a, b, isAscending}) => {\r\n    const list = [\"ordinary\",\"quest\",\"rare\",\"extraordinary\",\"legendary\",\"\"];\r\n    let aa = list.indexOf(a);\r\n    let bb = list.indexOf(b);\r\n    if(aa > bb) return isAscending ? 1 : -1; \r\n    if(aa < bb) return isAscending ? -1 : 1; \r\n    return 0; \r\n}\r\nconst aInt = ({a, b, isAscending}) => {\r\n    let aa = a||0;\r\n    let bb = b||0;\r\n    if(aa > bb) return isAscending ? 1 : -1; \r\n    if(aa < bb) return isAscending ? -1 : 1; \r\n    return 0; \r\n}\r\n\r\nconst hashLinkScroll = () => {\r\n  const { hash } = window.location;\r\n  if (hash !== '') {\r\n    setTimeout(() => {\r\n      const id = hash.replace('#', '');\r\n      const element = document.getElementById(id);\r\n      if (element) element.scrollIntoView();\r\n    }, 100);\r\n  }\r\n}\r\n\r\nexport default class Table extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={};\r\n\r\n        this.getColumns = this.getColumns.bind(this);\r\n        this.getRows = this.getRows.bind(this);\r\n        this.id=\"PotionTable\" + Math.random();\r\n    }\r\n\r\n    getRows  = function () {\r\n        var data = this.props.data;\r\n        if (this.props.filter) {\r\n            data = data.filter((e)=>this.props.filter(e));\r\n        }\r\n        return data;\r\n    }\r\n\r\n    getColumns  = function () {\r\n        var i = 1;\r\n        return [\r\n            {\r\n                id: i++,\r\n                field: 'id',\r\n                label: '',\r\n                pinned: true,\r\n                cellRenderer: IconCell,\r\n                sort:sortDT,\r\n                width: '50px',\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'name',\r\n                label: 'Name',\r\n                pinned: true,\r\n                cellRenderer: NameCell,\r\n                width: '300px',\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'stages',\r\n                label: 'Text',\r\n                width: '800px',\r\n                getValue: ({value, column}) => value[0]?.logText,\r\n                cellRenderer: TextCell,\r\n                sort:sortStr,\r\n            },\r\n        ]\r\n    }\r\n\r\n    componentDidMount() {\r\n        const top = document.getElementById(this.id).offsetTop;\r\n        this.setState({ top, height: 999999 });\r\n    }\r\n\r\n    render() {\r\n        GridTable.defaultProps.isPaginated = false;\r\n        GridTable.defaultProps.minColumnResizeWidth = 30;\r\n        GridTable.defaultProps.isVirtualScroll = false;\r\n        GridTable.defaultProps.showSearch = false;\r\n        GridTable.defaultProps.showColumnVisibilityManager = false;\r\n        this.rows = this.getRows();\r\n        const columns = this.getColumns()\r\n\r\n        return (<div id={this.id}>\r\n                    <TableAbsHeader columns={columns} size={this.state}/>\r\n                    <GridTable \r\n                        columns={columns} \r\n                        rows={this.rows} \r\n                        onLoad={hashLinkScroll}/>\r\n                </div>)\r\n    }\r\n}\r\n\r\nconst IconCell = ({tableManager, value, onChange, isEdit, data, column, rowIndex, searchText, isFirstEditableCell}) => {\r\n    const href = (data.rootLink) + data.id;\r\n    return <Link to={href}>\r\n               <div id={value} className=\"TableAncor\"/>\r\n               <img style={{paddingLeft: 1, paddingTop: 5}} src=\"/image/ui_icon_quest.png\"/>\r\n           </Link>\r\n}\r\nconst TextCell = ({tableManager, value, onChange, isEdit, data, column, rowIndex, searchText, isFirstEditableCell}) => {\r\n    const text = {\r\n        textAlign: 'left',\r\n        marginLeft: 10,\r\n        whiteSpace: 'nowrap',\r\n        overflow: 'hidden',\r\n        textOverflow: 'ellipsis'\r\n    }\r\n    return <p style={text}>{value}</p>\r\n}\r\n\r\n\r\n","import React, { Component } from 'react';\r\nimport QuestsTable from './QuestsTable.jsx';\r\nimport { Switch, Route } from 'react-router-dom';\r\n\r\nexport default class ItemsPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.data) return \"Loading...\";\r\n        return (\r\n            <div>\r\n               \r\n                    <QuestsTable\r\n                        data = { this.props.data } title=\"Usable\"\r\n                        filter = {(e)=>(e.showInLog)&&(e.id!=\"base_nondisplay\")}\r\n                    />\r\n\r\n            </div> \r\n               );\r\n    }\r\n}\r\n\r\n","import React, { Component } from 'react';\r\nimport { HashLink as Link } from 'react-router-hash-link';\r\nimport debug from '../../utils/debug';\r\nimport { getDimention } from '../Icon';\r\n\r\nexport default class Icon extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n\r\n        const {data, zoom}= this.props;\r\n\r\n        const ts = data.tileset;\r\n        if (!ts) return <div style={{\r\n                position: 'absolute', \r\n                top: this.props.y, left: this.props.x,\r\n                width:32, height:32,\r\n                backgroundColor: 'red', opacity: 0.5,\r\n            }} />;\r\n        const file = ts.name;\r\n        const index = data.localid;\r\n        const src = getSrc(file);\r\n        \r\n        const dx = ts.tilewidth * zoom / 32;\r\n        const dy = ts.tileheight * zoom / 32;\r\n\r\n        var p = getPosition(index, ts, dx, dy, zoom);\r\n        var style = { margin: `${p.y}px 0 0 ${p.x}px`, width: `${p.w}px`, display: 'block'};\r\n\r\n        return <div style={{ width:`${dx}px`, height:`${dy}px`, overflow: 'hidden',\r\n                            position: 'absolute', left: this.props.x, top: this.props.y\r\n                            }} >\r\n                    <img src={src} style={style} />\r\n               </div>\r\n    }\r\n}\r\n    const getSrc = (file) => {\r\n        if (!file) return;\r\n        return \"/drawable/\"+file+\".png\";\r\n    }\r\n    const getPosition = (i, ts, dx, dy, zoom) => {\r\n        var w = ts.width * zoom / 32;\r\n        var width = ts.width / ts.tilewidth;\r\n        var x = - i % width * dx;\r\n        var y = (- i * dy - x) / width;\r\n        return {x, y, w};\r\n    }\r\n\r\n","import React, { Component } from 'react';\r\nimport { HashLink as Link } from 'react-router-hash-link';\r\nimport MapIcon from './MapIcon'\r\nimport Icon from '../Icon'\r\nimport debug from '../../utils/debug'\r\n\r\nconst bySpawnGroup = (a, b) => {\r\n    a = a.spawngroup||a.name||\"\";\r\n    b = b.spawngroup||b.name||\"\";\r\n    return a.localeCompare(b);\r\n};\r\n\r\nexport default class MonstersPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    getRowsData = function (data, zoom) {\r\n        var field = data.field;\r\n        if (!field) return \"\";\r\n\r\n        const aboveIndex = data.layerList.map((e) => e.name).indexOf(\"above\");\r\n        var layers = data.layerList.filter((e,i) => (i < aboveIndex));\r\n        return field.map((row, index)=>{\r\n            return <RenderRow key={index} data={row} layers={layers} y={index} zoom={zoom}/>\r\n        })\r\n    }\r\n    getRowsDataAbove = function (data, zoom) {\r\n        var field = data.field;\r\n        if (!field) return \"\";\r\n \r\n        const aboveIndex = data.layerList.map((e) => e.name).indexOf(\"above\");\r\n        var layers = data.layerList.filter((e,i) => (i >= aboveIndex));\r\n        return field.map((row, index)=>{\r\n            return <RenderRow key={index} data={row} layers={layers} y={index} zoom={zoom}/>\r\n        })\r\n    }\r\n\r\n    renderSpawn = function (spawn, zoom) {\r\n        if (!spawn) return \"\";\r\n        var index = 0;\r\n        return spawn.sort(bySpawnGroup).map((row) => {\r\n            const link = row.link;\r\n            if (!link) return \"\";\r\n\r\n            var className = \"mapspawn\";\r\n            const hash = this.props.location?.hash;\r\n            if ((hash == '#'+row.name)||(hash == '#'+row.spawngroup)) {\r\n                className = className + \" active\"; \r\n            }\r\n            const quantity = (row.quantity || 1) - 0;\r\n            const result = [];\r\n            for (let i = 0; i < quantity; i++) {\r\n                index++;\r\n                const style = { \r\n                    left: row.x + getRandomInt(row.width - 32), \r\n                    top: row.y + getRandomInt(row.height - 32),\r\n                };\r\n                const monster = link.monsters[index%link.monsters.length];\r\n                const key = monster.id+\"_\"+index;\r\n                result.push(\r\n                    <div key ={key} style={style} className={className} title={monster.name}>\r\n                        <Icon data={monster} zoom={zoom} noBackground=\"true\" />\r\n                    </div>\r\n                )\r\n            }\r\n            return result;\r\n        })\r\n    }\r\n    renderScript = function (script, zoom) {\r\n\r\n        if (!script) return \"\";\r\n        return script.map((row) => {\r\n            var className = \"script\"\r\n            const hash = this.props.location?.hash;\r\n            if (hash == '#'+row.name) {\r\n                className = className + \" active\"; \r\n            }\r\n            const result = [];\r\n\r\n            const style = { \r\n                left: row.x, \r\n                top: row.y,\r\n                width: row.width,\r\n                height: row.height,\r\n            };\r\n\r\n            const key = row.name;\r\n            result.push(\r\n                    <div key ={key} style={style} className={className} title={row.name}/>\r\n            )\r\n            \r\n            return result;\r\n        })\r\n    }\r\n\r\n    renderMapchange = function (events, zoom) {\r\n        if (!events) return \"\";\r\n        return events.map((row, index) => {\r\n            const style = { \r\n                marginLeft: row.x, \r\n                marginTop: row.y,\r\n                width: row.width,\r\n                height: row.height,\r\n            };\r\n            var className = \"mapchange\";\r\n            if (this.props.location?.hash == '#'+row.name) {\r\n                className = className + \" active\";\r\n            }\r\n            const href = \"/map/\" + row.map + \"#\" + row.place;\r\n            return (\r\n                <Link key ={index} style={style} title={row.map} to={href} className={className}/>\r\n            )\r\n        })\r\n    }\r\n\r\n    renderSign = function (signs, zoom) {\r\n        if (!signs) return \"\";\r\n\r\n        return signs.map((row, index) => {\r\n            const style = { \r\n                marginLeft: row.x, \r\n                marginTop: row.y,\r\n                width: row.width,\r\n                height: row.height,\r\n            };\r\n            return <div key ={index} style={style} title={row.message} className=\"sign\"/>;\r\n        })\r\n    }\r\n\r\n    renderObjectgroups = function (data, zoom) {\r\n        return (\r\n                <div className=\"objectgroups\">\r\n                    {this.renderScript(data?.scripts)}\r\n                    {this.renderScript(data?.containers)}\r\n                    {this.renderSpawn(data?.spawn)}\r\n                    {this.renderMapchange(data?.mapchange)}\r\n                    {this.renderSign(data?.signs)}\r\n                </div>\r\n            )\r\n        \r\n    }\r\n\r\n    render() {\r\n       var data = this.props.data;\r\n       var renderOG = this.props.renderObjectgroupsData;\r\n       var zoom = this.props.zoom || 32;\r\n\r\n       if (!data) {\r\n           return \"Wrong URL!\"; \r\n       }\r\n\r\n       renderOG && debug(this.props.data);\r\n\r\n       var width = zoom * data.width;\r\n       var height = zoom * data.height;\r\n\r\n       return (\r\n            <div style={{backgroundColor:'white', width:width, height:height, position:'relative' }}>\r\n                {this.getRowsData(data, zoom)}\r\n                {this.getRowsDataAbove(data, zoom)}\r\n                {renderOG && <div style={{position: 'absolute'}}>{this.renderObjectgroups(data.objectgroups, zoom)}</div>}\r\n            </div>\r\n       );\r\n    }\r\n}\r\nconst RenderRow = (props) => {\r\n    const {data, layers, y, zoom} = props;\r\n    return data.map((tile, index) => <RenderCell data={tile} layers={layers} x={index*zoom} y={y*zoom} zoom={zoom} key ={index}/>) \r\n}\r\nconst RenderCell = (props) => {\r\n    const {data, layers, x, y, zoom} = props;\r\n    return layers\r\n            .filter((l)=>l.visible)\r\n            .filter((l)=>!l.name.startsWith(\"walkable\"))\r\n            .map((l) => data[l.name])\r\n            .filter((ld)=>ld)\r\n            .map((ld, index) => {\r\n        return <MapIcon data={ld} x={x} y={y} zoom={zoom} key ={index}/>\r\n    });\r\n}\r\nfunction getRandomInt(max) {\r\n  return Math.floor(Math.random() * (max + 1)); //Максимум и минимум включаются\r\n}","import React, { Component } from 'react';\r\nimport debug from '../../utils/debug'\r\nimport Icon from './MapIcon'\r\nimport LocalMap from './LocalMap'\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default class MonstersPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    getRowsData = function (data, zoom) {\r\n        var maps = data.maps;\r\n        if (!maps) return \"\";\r\n \r\n        return maps.map((row, index)=>{\r\n            var style = {\r\n                position: 'absolute',\r\n                backgroundColor: 'green',\r\n                left: (row.x - data.x) * zoom,\r\n                top: (row.y - data.y) * zoom,\r\n                width: row.link.width * zoom,\r\n                height: row.link.height * zoom,\r\n            };\r\n            var style2 = {\r\n                width: row.link.width * zoom,\r\n                height: row.link.height * zoom,\r\n            };\r\n            const href = \"/map/\" + row.id;\r\n            const src = \"/backgrounds/\" + row.id + \".jpg\";\r\n            return (\r\n                <Link style={style} title={row.id} key={index} to={href}>\r\n                    <img style={style2} src={src} />\r\n                </Link>\r\n            )\r\n        })\r\n    }\r\n    render() {\r\n       const { globalMap, location } = this.props;\r\n\r\n       var segment = location.pathname.substring(\"/map/g/\".length);\r\n       if (!segment){\r\n           segment = 'world1';\r\n       }\r\n\r\n       var data = globalMap.segmentsMap[segment];\r\n       if (!data){ return \"Wrong URL!\"; }\r\n       debug(data);\r\n\r\n       const zoom = (data.maps.length > 100) ? 2 :\r\n                    (data.maps.length >  18) ? 6 :\r\n                    (data.maps.length >   3) ? 8 :\r\n                    10;\r\n\r\n       const style = { position:'relative', height:(data.height * zoom)};\r\n\r\n       return (\r\n            <div style={style}>\r\n                {this.getRowsData(data, zoom)}\r\n            </div>\r\n       );\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport LiLink from '../LiLink'\r\nimport PropsRoute from '../PropsRoute';\r\nimport LocalMap from './LocalMap';\r\nimport GlobalMap from './GlobalMap';\r\n\r\nexport default class Page extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    getSegmentLinks = function (data, pathname) {\r\n        var segments = data.segments;\r\n        if (!segments) return \"\";\r\n \r\n        return segments.map((row, index)=>{\r\n            return LiLink(\"/map/g/\", row.id, pathname, row.id+\" (\"+row.maps.length+\")\");\r\n        })\r\n    }\r\n    render() {\r\n        const { data, globalMap, location } = this.props;\r\n        var map = location.pathname.substring(\"/map/\".length);\r\n        if (!data) return \"Loading...\";\r\n\r\n        return (\r\n            <div>\r\n                <ul className=\"hr\">\r\n                    <img src=\"/image/sort_desc.png\" style={{float:'left', marginTop:-10}} onClick={this.props.toggleExpand}/>\r\n                    {(this.props.expanded) && this.getSegmentLinks(globalMap, location.pathname)}\r\n                </ul>\r\n                <Switch>\r\n                    {!map && <GlobalMap data = { data } globalMap = { globalMap } />}\r\n                    <PropsRoute path='/map/g' component={GlobalMap} data = { data } globalMap = { globalMap } />\r\n                    <LocalMap data = { data[map] } renderObjectgroupsData=\"true\"/>\r\n                </Switch>\r\n            </div>\r\n        );\r\n    }\r\n}","const calculateCost = (o, isWeapon) => {\r\n    if (o.hasManualPrice) return o.baseMarketCost;\r\n    const costEquipStats = calculateCostEquipEffect(o.equipEffect, isWeapon);\r\n    const costUse =calculateUseCost(o.useEffect);\r\n    const costHit = calculateHitCost(o.hitEffect);\r\n    const costKill = calculateKillCost(o.killEffect);\r\n    return Math.max(1, costEquipStats + costUse + costHit + costKill);\r\n}\r\nconst calculateCostEquipEffect = (o, isWeapon) => {\r\n        if (!o) return 0;\r\n        const {\r\n            increaseBlockChance ,increaseAttackChance, \r\n            increaseAttackCost, increaseDamageResistance, \r\n            increaseAttackDamage,\r\n            increaseCriticalSkill, setCriticalMultiplier,\r\n            increaseMaxHP, increaseMaxAP,\r\n            increaseMoveCost, increaseUseItemCost, increaseReequipCost\r\n        } = o;\r\n        const costBC = (3*Math.pow(Math.max(0, increaseBlockChance), 2.5) + 28*increaseBlockChance);\r\n        const costAC = (0.4*Math.pow(Math.max(0,increaseAttackChance), 2.5) - 6*Math.pow(Math.abs(Math.min(0,increaseAttackChance)),2.7));\r\n\r\n        const costAP = isWeapon ?\r\n                (0.2*Math.pow(10.0/increaseAttackCost, 8) - 25*increaseAttackCost)\r\n                :-3125 * increaseAttackCost;\r\n        const costDR = 1325 * increaseDamageResistance;\r\n        const costDMG_Min = isWeapon ?\r\n                (10*Math.pow(Math.max(0, increaseAttackDamage?.min), 2.5))\r\n                : (10*Math.pow(Math.max(0, increaseAttackDamage?.min), 3) + increaseAttackDamage?.min*80);\r\n        const costDMG_Max = isWeapon ?\r\n                (2*Math.pow(Math.max(0, increaseAttackDamage?.max), 2.1))\r\n                : (2*Math.pow(Math.max(0, increaseAttackDamage?.max), 3) + increaseAttackDamage?.max*20);\r\n        const costCS = (2.2*Math.pow(increaseCriticalSkill, 3));\r\n        const costCM = (50*Math.pow(Math.max(0, setCriticalMultiplier), 2));\r\n\r\n        const costMaxHP = (30*Math.pow(Math.max(0,increaseMaxHP), 1.2) + 70*increaseMaxHP);\r\n        const costMaxAP = (50*Math.pow(Math.max(0,increaseMaxAP), 3) + 750*increaseMaxAP);\r\n        const costMovement = (510*Math.pow(Math.max(0,-increaseMoveCost), 2.5) - 350*increaseMoveCost);\r\n        const costUseItem = (915*Math.pow(Math.max(0,-increaseUseItemCost), 3) - 430*increaseUseItemCost);\r\n        const costReequip = (450*Math.pow(Math.max(0,-increaseReequipCost), 2) - 250*increaseReequipCost);\r\n\r\n        return [costBC , costAC , costAP , costDR , costDMG_Min , costDMG_Max , costCS , costCM\r\n                , costMaxHP , costMaxAP\r\n                , costMovement , costUseItem , costReequip].reduce((a, b) => Math.trunc(a||0) + Math.trunc(b||0), 0);\r\n}\r\n\r\nconst calculateUseCost = (o) => {\r\n    if (!o) return 0;\r\n    const averageHPBoost = averagef(o.increaseCurrentHP);\r\n    if (averageHPBoost == 0) return 0;\r\n    const costBoostHP = 0.1*signum(averageHPBoost)*Math.pow(Math.abs(averageHPBoost), 2) + 3*averageHPBoost;\r\n    return Math.trunc(costBoostHP);\r\n}\r\nconst signum = (e) => {\r\n    if (e > 0) return 1;\r\n    if (e < 0) return -1;\r\n    return 0;\r\n}\r\nconst averagef = (o) => {\r\n    return ((o?.max||0) + (o?.min||0))/2;\r\n}\r\nconst calculatePointsCost = (o, hpBase, apBase) => {\r\n    if (!o) return 0;\r\n    const averageHPBoost = averagef(o.increaseCurrentHP);\r\n    const averageAPBoost = averagef(o.increaseCurrentAP);\r\n    if (averageHPBoost == 0 && averageAPBoost == 0) return 0;\r\n\r\n    const costBoostHP = (hpBase*Math.pow(Math.max(0,averageHPBoost), 2.5) + 450*averageHPBoost);\r\n    const costBoostAP = (apBase*Math.pow(Math.max(0,averageAPBoost), 2.5) + 300*averageAPBoost);\r\n    return Math.trunc(costBoostHP) + Math.trunc(costBoostAP);\r\n}\r\n\r\nconst calculateHitCost = (o) => {\r\n    return calculatePointsCost(o, 2770, 3100);\r\n}\r\n\r\nconst calculateKillCost = (o) => {\r\n    return calculatePointsCost(o, 923, 1033);\r\n}\r\n\r\nexport default calculateCost;","const calculateExp = (o) => {\r\n    const EXP_FACTOR_DAMAGERESISTANCE = 9;\r\n    const EXP_FACTOR_SCALING = 0.7;\r\n\r\n    const {\r\n        attackCost,\r\n        attackChance,\r\n        attackDamage,\r\n        criticalSkill,\r\n        criticalMultiplier,\r\n        blockChance,\r\n        damageResistance,\r\n        hitEffect,\r\n        maxHP,\r\n        maxAP\r\n    } = o;\r\n\r\n    const averageDamage = attackDamage ? ((attackDamage.min + attackDamage.max) / 2) : 0;\r\n    const avgAttackHP = getAttacksPerTurn(maxAP, attackCost) * div100(attackChance) * averageDamage * (1 + div100(criticalSkill) * (criticalMultiplier||0));\r\n    const avgDefenseHP = maxHP * (1 + div100(blockChance)) + EXP_FACTOR_DAMAGERESISTANCE * (damageResistance||0);\r\n    var attackConditionBonus = 0;\r\n    if (hitEffect?.conditionsTarget?.length) {\r\n        attackConditionBonus += 50;\r\n    }\r\n\r\n    const result = Math.ceil((avgAttackHP * 3 + avgDefenseHP) * EXP_FACTOR_SCALING) + attackConditionBonus;\r\n    return result;\r\n}\r\nfunction div100(v = 0) {\r\n    return v / 100;\r\n}\r\nfunction getAttacksPerTurn(maxAP = 10, attackCost) {\r\n    return Math.floor(maxAP / attackCost);\r\n}\r\n\r\nexport default calculateExp;\r\n","import React, { Component } from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport debug, { doIfDebug } from '../utils/debug'\r\nimport PropsRoute from './PropsRoute';\r\nimport Menu from './Menu.jsx';\r\nimport Home from './Home';\r\nimport ItemCategoriesTable from './ItemCategoriesTable.jsx';\r\nimport ItemsPage from './items/ItemsPage.jsx';\r\nimport ConditionsPage from './conditions/ConditionsPage';\r\nimport MonstersPage from './monsters/MonstersPage';\r\nimport NpcPage from './npc/NpcPage';\r\nimport QuestsPage from './quests/QuestsPage';\r\nimport MapPage from './maps/MapPage';\r\nimport calculateCost from './CostCalculator';\r\nimport expCalculator from './ExpCalculator';\r\n\r\nexport default class Main extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={\r\n            expandedSubMenu: false,\r\n        };\r\n        this.temp={};\r\n        this.toggleExpandSubMenu = this.toggleExpandSubMenu.bind(this);\r\n    }\r\n\r\n    toggleExpandSubMenu() {\r\n        this.setState({ expandedSubMenu: !this.state.expandedSubMenu, });\r\n    }\r\n\r\n    getJsonResources=(resources)=>{\r\n      var downcounter = {progress:0};\r\n      this.getJsonResource(resources.loadresource_itemcategories, \"itemcategories\", downcounter);\r\n      this.getJsonResource(resources.loadresource_items, \"items\", downcounter);\r\n      this.getJsonResource(resources.loadresource_actorconditions, \"actorconditions\", downcounter);\r\n      this.getJsonResource(resources.loadresource_monsters, \"monsters\", downcounter);\r\n      this.getJsonResource(resources.loadresource_droplists, \"droplists\", downcounter);\r\n      this.getJsonResource(resources.loadresource_conversationlists, \"conversations\", downcounter);\r\n      this.getJsonResource(resources.loadresource_quests, \"quests\", downcounter);\r\n\r\n    }\r\n\r\n    getJsonResource=(resource, name, downcounter)=>{\r\n      const that = this;\r\n      downcounter.progress+=resource.length;\r\n      resource.forEach((path)=>{\r\n          that.getJsonData(path.replace('@','/'), name, that, downcounter);\r\n      });\r\n    }\r\n    countConditions = (effect, item, type) => {\r\n        var count =  effect?.addedConditions?.length||0;\r\n        count += effect?.conditionsTarget?.length||0;\r\n        count += effect?.conditionsSource?.length||0;\r\n        count += (effect?.increaseCurrentAP)?1:0; \r\n        count += (effect?.increaseCurrentHP)?0.9:0; // for potions\r\n        return count;\r\n    }\r\n    linkConditions = (effect, item, type) => {\r\n        effect?.addedConditions?.forEach((e)=>this.linkCondition(e, item, type, \"On source\"));\r\n        effect?.conditionsTarget?.forEach((e)=>this.linkCondition(e, item, type, \"On target\"));\r\n        effect?.conditionsSource?.forEach((e)=>this.linkCondition(e, item, type, \"On source\"));\r\n    }\r\n    getStub = (item, condition, type, aim) => {\r\n\r\n        let {id, name, category, iconID, displaytype, rootLink} = item;\r\n        let {chance, duration, magnitude} = condition;\r\n        return {id, name, category, iconID, displaytype, chance, duration, magnitude, type, aim, rootLink};\r\n    }\r\n    linkCondition = (condition, item, type, aim) => {\r\n        condition.link = this.temp.maps.conditions[condition.condition];\r\n        condition.link.links = condition.link.links||[];\r\n        const stub = this.getStub(item, condition, type, aim);\r\n        condition.link.links.push(stub);\r\n    }\r\n    getItemRootLink = (category) => {\r\n       if (category.actionType == \"use\") return \"/items/use#\";\r\n       if (category.actionType == \"equip\") return \"/items/\" + category.inventorySlot + \"#\";\r\n       return \"/items/other#\";\r\n    }\r\n    isMerchant = (monster) => {\r\n        if (!monster.droplistLink?.items?.length) return false;\r\n        if (monster.droplistLink.items.length > 1) return true;\r\n        if (monster.droplistLink.items[0].itemID == \"gold\") return false;\r\n        return true;\r\n    }\r\n    \r\n    getMonsterRootLink = (monster) => {\r\n       const monsterClass = monster.monsterClass || 'other' ;\r\n       if (monster.attackChance || monster.maxHP) return  \"/monsters/\" + monsterClass + \"#\";\r\n       if (this.isMerchant(monster)) return \"/npc/merchant#\";\r\n       if (monster.name.charAt(0).toUpperCase()<='G') return \"/npc/a-g#\";\r\n       if (monster.name.charAt(0).toUpperCase()<='R') return \"/npc/h-r#\";\r\n       return \"/npc/s-z#\";\r\n    }\r\n    getItemIconBg = (o) => {\r\n        switch(o.displaytype) {\r\n            case 'legendary': return  -4;\r\n            case 'extraordinary': return  -2;\r\n            case 'rare': return  -3;\r\n            case 'quest': return  -1;\r\n            default: return 1;\r\n        }\r\n    }\r\n\r\n    linkConversationInner(c, conversations){\r\n        if (!c) return\r\n        if (conversations[c.id]) return\r\n        conversations[c.id] = c;\r\n\r\n        c.replies?.forEach((r) => {\r\n            this.linkConversationInner(r.next, conversations);\r\n        })\r\n    }\r\n    \r\n    linkConversation = (monster) => {\r\n         const root = monster.conversationLink;\r\n         if (!root) return;\r\n         var conversations = {};\r\n         this.linkConversationInner(root, conversations);\r\n\r\n         conversations = Object.values(conversations);\r\n         monster.rewards = conversations.filter((e) => e.rewards?.length);\r\n         monster.requires = conversations.flatMap((e) => e.replies).filter((e) => e?.requires?.length);\r\n\r\n         monster.questLinks = monster.rewards\r\n            .flatMap((e) => e.rewards)\r\n            .map((e) => e.link)\r\n            .filter((e) => e)\r\n            .filter(unique)\r\n            .filter((e) => !!e.showInLog)\r\n         monster.questItemsLinks = monster.rewards\r\n            .flatMap((e) => e.rewards)\r\n            .filter((e) => [\"inventoryKeep\", \"inventoryRemove\", \"wear\", \"usedItem\", \"wearRemove\", \"giveItem\", ].indexOf(e.rewardType) >= 0)\r\n         monster.questDropListLinks = monster.rewards\r\n            .flatMap((e) => e.rewards)\r\n            .filter((e) => [\"dropList\", ].indexOf(e.rewardType) >= 0)\r\n\r\n\r\n\r\n         monster.questLinks?.forEach((e) => {\r\n             e.links = e.links || [];\r\n             e.links.push(monster);\r\n         });\r\n         monster.questItemsLinks?.forEach((e) => {\r\n             //console.log(e);\r\n             const link = e.link;\r\n             link.droplists = link.droplists || [];\r\n             const droplist = {\r\n                 droplist:{\r\n                     links: [ monster ]\r\n                 },\r\n                 type:\"quest\"\r\n             }\r\n             link.droplists.push(droplist);\r\n         });\r\n         monster.questDropListLinks?.forEach((e) => {\r\n             //console.log(e);\r\n             const droplist = e.link;\r\n             droplist.links = droplist.links || [];\r\n             droplist.links.push(monster);\r\n             droplist.type = \"quest\";\r\n         });\r\n\r\n         /**/\r\n    }\r\n\r\n    linkTemp(){\r\n        this.temp.scripts = [];\r\n        this.temp.containers = [];\r\n\r\n        \r\n        this.temp.maps = {};\r\n\r\n        this.temp.maps.conditions = this.temp.actorconditions.reduce((obj, item) => Object.assign(obj, { [item.id]: item }), {});\r\n        this.temp.maps.categories = this.temp.itemcategories.reduce((obj, item) => Object.assign(obj, { [item.id]: item }), {});\r\n        this.temp.maps.droplists = this.temp.droplists.reduce((obj, item) => Object.assign(obj, { [item.id]: item }), {});\r\n        this.temp.maps.items = this.temp.items.reduce((obj, item) => Object.assign(obj, { [item.id]: item }), {});\r\n        this.temp.maps.monsters = this.temp.monsters.reduce((obj, item) => Object.assign(obj, { [item.id]: item }), {});\r\n        this.temp.maps.conversations = this.temp.conversations.reduce((obj, item) => Object.assign(obj, { [item.id]: item }), {});\r\n        this.temp.maps.quests = this.temp.quests.reduce((obj, item) => Object.assign(obj, { [item.id]: item }), {});\r\n        this.temp.maps.spawngroups = {};\r\n        this.temp.maps.containers = {};\r\n        this.temp.maps.scripts = {};\r\n\r\n        Object.values(this.props.maps).forEach((map)=>{\r\n            map.rootLink = \"/map/\";\r\n            map.objectgroups?.spawn?.forEach((spawn)=> {\r\n                const key = (spawn.spawngroup || spawn.name).toLowerCase();\r\n                spawn.link = this.temp.maps.spawngroups[key]||{ maps:[], monsters: []};\r\n                spawn.link.key = key;\r\n                spawn.link.maps.push(map);\r\n                this.temp.maps.spawngroups[key] = spawn.link;\r\n            })\r\n            map.objectgroups?.signs?.forEach((sign)=> {\r\n                sign.message = this.temp.maps.conversations[sign.name]?.message;\r\n            })\r\n            map.objectgroups?.scripts?.forEach((script)=> {\r\n                script.rootLink = \"/map/\" + map.name + \"#\";\r\n                this.temp.scripts.push(script);\r\n            })\r\n            map.objectgroups?.containers?.forEach((container)=> {\r\n                container.rootLink = \"/map/\" + map.name + \"#\";\r\n                this.temp.containers.push(container);\r\n            })\r\n        })\r\n\r\n        this.temp.conversations.forEach((c) => {\r\n            const doLink = (req) => {\r\n                const type = req.requireType||req.rewardType;\r\n                const id = req.requireID||req.rewardID;\r\n                if ([\"questProgress\", \"questLatestProgress\", \"removeQuestProgress\"].indexOf(type) >= 0) {\r\n                    req.link = this.temp.maps.quests[id];\r\n                    if (!req.link) {debug(req); return}\r\n                    req.link.conv_links = req.link.conv_links || [];\r\n                    req.link.conv_links.push(c);\r\n                } else if ([\"inventoryKeep\", \"inventoryRemove\", \"wear\", \"usedItem\", \"wearRemove\", \"giveItem\"].indexOf(type) >= 0) {\r\n                    req.link = this.temp.maps.items[id];\r\n                    if (!req.link) {debug(req); return}\r\n                    req.link.conv_links = req.link.conv_links || [];\r\n                    req.link.conv_links.push(c);\r\n                } else if (type == \"dropList\") {\r\n                    req.link = this.temp.maps.droplists[id];\r\n                    req.link.conv_links = req.link.conv_links || [];\r\n                    req.link.conv_links.push(c);\r\n                } else if (type == \"killedMonster\") {\r\n                    req.link = this.temp.maps.monsters[id];\r\n                    req.link.conv_links = req.link.conv_links || [];\r\n                    req.link.conv_links.push(c);\r\n                } else if ([\r\n                    \"removeSpawnArea\", \"spawnAll\", \"deactivateSpawnArea\", \r\n                    \"skillIncrease\", \r\n                    \"dropList\", \r\n                    \"actorCondition\", \"hasActorCondition\",\r\n                    \"factionScore\", \"factionScoreEquals\", \"alignmentChange\", \"alignmentSet\",\r\n                    \"random\",\r\n                    \"timerElapsed\", \"createTimer\",\r\n                    \"changeMapFilter\",\"deactivateMapObjectGroup\",\"activateMapObjectGroup\"\r\n                    ].indexOf(type) >= 0) {\r\n                    // do nothing\r\n                } else {\r\n                    debug(type + \" \"+id, true)\r\n                }\r\n            }\r\n            c.replies?.forEach((r) => {\r\n                r.next = this.temp.maps.conversations[r.nextPhraseID];\r\n                r.requires?.forEach(doLink);\r\n\r\n            })\r\n            c.rewards?.forEach(doLink);\r\n            \r\n        })\r\n\r\n        this.temp.scripts.forEach((script) => {\r\n\r\n            script.iconID = \"items_books:8\";\r\n            script.id = script.name;\r\n            script.conversationLink = this.temp.maps.conversations[script.name];\r\n            this.linkConversation(script);\r\n        });\r\n        this.temp.containers.forEach((container) => {\r\n            container.iconID = \"items_g03_package_omi1:0\";\r\n            container.id = container.name;\r\n            container.droplistLink = this.temp.maps.droplists[container.name];\r\n            if (container.droplistLink) {\r\n                container.droplistLink.links = container.droplistLink.links||[];\r\n                container.droplistLink.links.push(container);\r\n                container.droplistLink.type = \"container\";\r\n            }\r\n        });\r\n        this.temp.items.forEach((item, index) => {\r\n            if (this.temp.maps.items[item.id] != item) {\r\n                console.warn(\"More than one item with id '\" + item.id + \"'\");\r\n                console.warn(item);\r\n                this.temp.items.splice(index, 1, false);\r\n            } else {\r\n                item.displaytype = item.displaytype||'ordinary';\r\n                item.iconBg = this.getItemIconBg(item);\r\n                item.categoryLink = this.temp.maps.categories[item.category];\r\n                item.rootLink=this.getItemRootLink(item.categoryLink);\r\n                item.baseMarketCost=calculateCost(item, item.categoryLink.inventorySlot==\"weapon\");\r\n\r\n                item.conditionsCount = this.countConditions(item.equipEffect)\r\n                    + this.countConditions(item.hitEffect)\r\n                    + this.countConditions(item.hitReceivedEffect)\r\n                    + this.countConditions(item.killEffect)\r\n                    + this.countConditions(item.useEffect);\r\n\r\n                this.linkConditions(item.equipEffect, item, \"equipEffect\");\r\n                this.linkConditions(item.hitEffect, item, \"hitEffect\");\r\n                this.linkConditions(item.hitReceivedEffect, item, \"hitReceivedEffect\");\r\n                this.linkConditions(item.killEffect, item, \"killEffect\");\r\n                this.linkConditions(item.useEffect, item, \"useEffect\");\r\n                \r\n                item.conv_links = item.conv_links?.filter(unique)\r\n            }\r\n        });\r\n        this.temp.items = this.temp.items.filter((e)=>e);\r\n\r\n        this.temp.monsters.forEach((monster, index) => {\r\n            if (this.temp.maps.monsters[monster.id] != monster) {\r\n                doIfDebug(() => {\r\n                    console.warn(\"More than one monster with id '\" + monster.id + \"'\");\r\n                    console.warn(monster);\r\n                });\r\n                this.temp.monsters.splice(index, 1, false);\r\n            } else {\r\n                monster.iconBg = monster.unique? -0 : 1;\r\n                monster.exp = expCalculator(monster);\r\n                monster.droplistLink = this.temp.maps.droplists[monster.droplistID];\r\n                if (monster.droplistLink) {\r\n                    monster.droplistLink.links = monster.droplistLink.links||[];\r\n                    monster.droplistLink.links.push(monster);\r\n                }\r\n                monster.rootLink = this.getMonsterRootLink(monster);\r\n\r\n                monster.conditionsCount = this.countConditions(monster.hitEffect)\r\n                    + this.countConditions(monster.hitReceivedEffect)\r\n                    + this.countConditions(monster.killEffect);\r\n\r\n                this.linkConditions(monster.hitEffect, monster, \"hitEffect\");\r\n                this.linkConditions(monster.hitReceivedEffect, monster, \"hitReceivedEffect\");\r\n                this.linkConditions(monster.killEffect, monster, \"killEffect\");\r\n\r\n                monster.spawnGroupLinks = [];\r\n\r\n                var spawngroupLink = this.temp.maps.spawngroups[monster.id.toLowerCase()] \r\n                if (spawngroupLink) {\r\n                    spawngroupLink.monsters.push(monster);\r\n                    monster.spawnGroupLinks.push(spawngroupLink);\r\n                }\r\n                if (monster.spawnGroup && (monster.spawnGroup?.toLowerCase() != monster.id.toLowerCase())){\r\n                    spawngroupLink = this.temp.maps.spawngroups[monster.spawnGroup?.toLowerCase()] \r\n                    if (spawngroupLink) {\r\n                        spawngroupLink.monsters.push(monster);\r\n                        monster.spawnGroupLinks.push(spawngroupLink);\r\n                    }\r\n                }\r\n\r\n                doIfDebug(() => {\r\n                    if (monster.spawnGroupLinks.length == 0) {\r\n                         console.warn(\"Monster have no spawn\");\r\n                         console.warn(monster);\r\n                    }\r\n                })\r\n\r\n                monster.conversationLink = this.temp.maps.conversations[monster.phraseID];\r\n                this.linkConversation(monster);\r\n            }\r\n        });\r\n        this.temp.monsters = this.temp.monsters.filter((e)=>e);\r\n\r\n        this.temp.droplists.forEach((droplist) => {\r\n                droplist.items.forEach((item) => {\r\n                    item.droplist = droplist;\r\n                    item.link = this.temp.maps.items[item.itemID];\r\n                    item.link.droplists=item.link.droplists||[];\r\n                    item.link.droplists.push(item);\r\n                    item.type = droplist.type;\r\n                })\r\n            }\r\n        );\r\n        this.temp.actorconditions.forEach((condition)=>{\r\n            condition.iconBg = 1;\r\n            condition.rootLink=\"/conditions#\";\r\n        })\r\n        this.temp.quests.forEach((condition)=>{\r\n            condition.rootLink=\"/quests#\";\r\n        })\r\n        this.props.globalMap.segments.forEach((segment)=>{\r\n            segment.rootLink = \"/map/g/\";\r\n            segment.maxY = -9999;\r\n            segment.minY = +9999;\r\n            segment.maps.forEach((map)=>{\r\n                map.link = this.props.maps[map.id];\r\n                if (map.link.segmentLink && (map.link.segmentLink.id != segment.id)) {\r\n                    doIfDebug(() => {\r\n                        console.warn(`Map '${map.id}' lined with 2 segments: ${map.link.segmentLink.id}, ${segment.id}`);\r\n                    });\r\n                } else {\r\n                    map.link.globalMapLink = map;\r\n                    map.link.segmentLink = segment;\r\n                }\r\n                segment.maxY = Math.max(segment.maxY, map.y + map.link.height);\r\n                segment.minY = Math.min(segment.minY, map.y);\r\n            })\r\n            segment.height = segment.maxY - segment.minY;\r\n        })\r\n\r\n        this.temp.monsters.sort((a,b) => (a.id.localeCompare(b.id)));\r\n\r\n        debug(this.temp, true);\r\n    }\r\n    \r\n    getJsonData=(fileName, name, that, downcounter)=>{\r\n        fetch(fileName+\".json\"\r\n        ,{\r\n            headers : { \r\n            'Content-Type': 'application/json',\r\n            'Accept': 'application/json'\r\n            }\r\n        })\r\n        .then(function(response){\r\n            return response.json();\r\n        })\r\n        .then(json => {\r\n          that.temp[name] = that.temp[name]||[];\r\n          that.temp[name] = that.temp[name].concat(json);\r\n          downcounter.progress--;\r\n          if (downcounter.progress == 0){\r\n              that.linkTemp()\r\n              that.setState(that.temp);\r\n          }\r\n        });\r\n    }\r\n\r\n    componentDidMount() {\r\n       debug(this.props);\r\n       this.getJsonResources(this.props.resources);\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.items) return <Home />;\r\n        const style = { minHeight: (window.innerHeight - 46), paddingTop:1 };\r\n        return (\r\n            <div>\r\n                <div style={style}>\r\n                    <Switch>\r\n                        <Menu />\r\n                    </Switch>\r\n                    <Switch>\r\n                        <Route exact path='/' component={Home}/>\r\n                        <PropsRoute path='/items' component={ItemsPage} data = { this.state.items }/>\r\n                        <PropsRoute path='/conditions' component={ConditionsPage} data = { this.state.actorconditions }/>\r\n                        <PropsRoute path='/monsters' component={MonstersPage} data = { this.state.monsters }/>\r\n                        <PropsRoute path='/categories' component={ItemCategoriesTable} data = { this.state.itemcategories }/> \r\n                        <PropsRoute path='/npc' component={NpcPage} data = { this.state.monsters }/> \r\n                        <PropsRoute path='/quests' component={QuestsPage} data = { this.state.quests }/> \r\n                        <PropsRoute path='/map' component={MapPage} data = { this.props.maps } globalMap = { this.props.globalMap }\r\n                            expanded={this.state.expandedSubMenu} toggleExpand={this.toggleExpandSubMenu}/> \r\n                    </Switch>\r\n                </div>\r\n                <div className=\"signature\">\r\n                    <div style={{float:'left'}}>\r\n                        2021, Powered by <a href=\"https://github.com/reizy/andors-trail-wiki\">Reizy</a>\r\n                    </div>\r\n                    <div style={{float:'right'}}>Game version 0.7.13</div>\r\n                </div>\r\n            </div> \r\n        );\r\n    }\r\n}\r\n\r\nfunction unique(item, pos, self) {\r\n    return self.indexOf(item) == pos;\r\n}","import pako from 'pako'\r\nimport { doIfDebug } from './debug'\r\n\r\nexport default function parseXmlMap(r, name) {\r\n    var map = {\r\n        name,\r\n        properties: [],\r\n        tilesets: [],\r\n        layers: {},\r\n        layerList: [],\r\n        objectgroups: {\r\n                spawn: [],\r\n                rests: [],\r\n                signs: [],\r\n                keys: [],\r\n                scripts: [],\r\n                containers: [],\r\n                mapchange: [],\r\n                replaces: [],\r\n                other: [],\r\n        },\r\n    }\r\n    if (r.name == \"DOCTYPE\") {\r\n        r = r.children[0];\r\n    }\r\n    if (r.name == \"map\") {\r\n        r.children.forEach((e) => {\r\n            if (e.name == \"objectgroup\") {\r\n                parseObjectgroups(e, map);\r\n            } else if (e.name == \"layer\") {\r\n                parseLayer(e, map, name);\r\n            } else if (e.name == \"tileset\") {\r\n                parseTileset(e, map, name);\r\n            } else if (e.name == \"properties\") {\r\n                map[e.name].push(e); // TODO\r\n            } else {\r\n                console.warn(\"Custom map section at '\" + name + \"':\");\r\n                console.warn(e);\r\n                map[e.name].push(e);\r\n            }\r\n        });\r\n    }\r\n    validateTilesets(map);\r\n    mapLayers(map);\r\n    return map;\r\n}\r\nfunction parseObjectgroups(r, map) {\r\n    var objectgroup = { name: r?.attributes?.name };\r\n    r.children?.forEach((e) => {\r\n        if (e.name == 'properties') {\r\n            e.children?.forEach((p) => {\r\n                const key = p.attributes?.name;\r\n                const value = p?.attributes?.value;\r\n                objectgroup[key] = value;\r\n            });\r\n        } else {\r\n            switch(e.attributes.type) {\r\n                case \"spawn\":\r\n                  map.objectgroups.spawn.push(mapSpawn(e, map, objectgroup));\r\n                  break;\r\n                case \"key\":\r\n                  map.objectgroups.keys.push(e);\r\n                  break;\r\n                case \"rest\":\r\n                  map.objectgroups.rests.push(e);\r\n                  break;\r\n                case \"sign\":\r\n                  map.objectgroups.signs.push(mapSign(e, map, objectgroup));\r\n                  break;\r\n                case \"script\":\r\n                  map.objectgroups.scripts.push(mapScript(e, map, objectgroup));\r\n                  break;\r\n                case \"container\":\r\n                  map.objectgroups.containers.push(mapContainers(e, map, objectgroup));\r\n                  break;\r\n                case \"mapchange\":\r\n                  map.objectgroups.mapchange.push(mapMapchange(e, map, objectgroup));\r\n                  break;\r\n                case \"replace\":\r\n                  map.objectgroups.replaces.push(e);\r\n                  break;\r\n                default:\r\n                  console.warn(map);\r\n                  console.warn(e);\r\n                  map.objectgroups.other.push(e);\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\nfunction mapSpawn(e, map, objectgroup) {\r\n    oneChildCheck(e);\r\n\r\n    var spawn = {\r\n        ...e.attributes,\r\n        ...e.children[0]?.attributes,\r\n        objectgroup,\r\n        width: e.attributes.width - 0,\r\n        height: e.attributes.height - 0,\r\n        x: e.attributes.x - 0,\r\n        y: e.attributes.y - 0,\r\n    }\r\n    e.children[0]?.children?.forEach((c) => {\r\n        propertyCheck(c, spawn, [\"spawngroup\", \"quantity\", \"ignoreAreas\", \"active\"]);\r\n        spawn[c.attributes.name] = c.attributes.value;\r\n    });\r\n    return spawn;\r\n}\r\n\r\nfunction mapScript(e, map, objectgroup) {\r\n    oneChildCheck(e);\r\n\r\n    var script = {\r\n        ...e.attributes,\r\n        objectgroup,\r\n        width: e.attributes.width - 0,\r\n        height: e.attributes.height - 0,\r\n        x: e.attributes.x - 0,\r\n        y: e.attributes.y - 0,\r\n    }\r\n    e.children[0]?.children?.forEach((c) => {\r\n        propertyCheck(c, script, [\"when\"]);\r\n        script[c.attributes.name] = c.attributes.value;\r\n    });\r\n    return script;\r\n}\r\nfunction mapContainers(e, map, objectgroup) {\r\n    noChildCheck(e);\r\n\r\n    var container = {\r\n        ...e.attributes,\r\n        objectgroup,\r\n        width: e.attributes.width - 0,\r\n        height: e.attributes.height - 0,\r\n        x: e.attributes.x - 0,\r\n        y: e.attributes.y - 0,\r\n    }\r\n    e.children[0]?.children?.forEach((c) => {\r\n        propertyCheck(c, container, [\"when\"]);\r\n        container[c.attributes.name] = c.attributes.value;\r\n    });\r\n    return container;\r\n}\r\nfunction mapMapchange(e, map, objectgroup) {\r\n    oneChildCheck(e);\r\n\r\n    var event = {\r\n        ...e.attributes,\r\n        ...e.children[0]?.attributes,\r\n        objectgroup,\r\n        width: e.attributes.width - 0,\r\n        height: e.attributes.height - 0,\r\n        x: e.attributes.x - 0,\r\n        y: e.attributes.y - 0,\r\n        xxx:e\r\n    }\r\n    e.children[0]?.children?.forEach((c) => {\r\n        propertyCheck(c, event, [\"place\", \"map\"]);\r\n        event[c.attributes.name] = c.attributes.value;\r\n    });\r\n    return event;\r\n}\r\n\r\nfunction mapSign(e, map, objectgroup) {\r\n    noChildCheck(e);\r\n\r\n    var event = {\r\n        ...e.attributes,\r\n        objectgroup,\r\n        width: e.attributes.width - 0,\r\n        height: e.attributes.height - 0,\r\n        x: e.attributes.x - 0,\r\n        y: e.attributes.y - 0,\r\n    }\r\n  \r\n    return event;\r\n}\r\n\r\nfunction parseTileset(e, map, name) {\r\n    var tileset = {\r\n        //...e.attributes,\r\n        //...e.children[0].attributes,\r\n        height: e.children[0].attributes.height - 0,\r\n        width: e.children[0].attributes.width - 0,\r\n        name: e.attributes.name,\r\n        firstgid: e.attributes.firstgid - 0,\r\n        tileheight: e.attributes.tileheight - 0,\r\n        tilewidth: e.attributes.tilewidth - 0,\r\n    };\r\n    tileset.columns = tileset.width / tileset.tilewidth;\r\n    tileset.tilecount = tileset.height / tileset.tileheight * tileset.columns;\r\n\r\n\r\n    map.tilesets.push(tileset);\r\n}\r\nfunction parseLayerDebug(e, map, name) {\r\n    if (map.width && (map.width != e.attributes.width))\r\n        console.warn(name + \" has different layers(\" + map.width + \"!=\" + e.attributes.width + \")\");\r\n    if (map.height && (map.height != e.attributes.height))\r\n        console.warn(name + \" has different layers(\" + map.height + \"!=\" + e.attributes.height + \")\");\r\n    if (map.layers[e.attributes.name]) {\r\n        console.warn(name + \" has several layers: \" + e.attributes.name);\r\n    }\r\n    if (e.children.length != 1) {\r\n        console.warn(name + \" has multi layer: \" + e.attributes.name);\r\n    }\r\n}\r\nfunction parseLayer(e, map, name) {\r\n    doIfDebug(() => parseLayerDebug(e, map, name));\r\n    map.layerList.push({\r\n        name: e.attributes.name.toLowerCase(),\r\n        visible: (e.attributes.visible != \"0\"),\r\n    });\r\n    map.width = e.attributes.width - 0;\r\n    map.height = e.attributes.height - 0;\r\n    try {\r\n        var b64Data = e.children[0].value;\r\n        var strData = atob(b64Data);\r\n        var charData = strData.split('').map((x) => x.charCodeAt(0));\r\n        var binData = new Uint8Array(charData);\r\n        const tmp = pako.inflate(binData);\r\n        map.layers[e.attributes.name.toLowerCase()] = new Uint32Array(tmp.buffer);\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n}\r\nfunction validateTilesets(map) {\r\n    map.tilesets.forEach((t) => {\r\n        const id = t.firstgid;\r\n        var tileset = map.tilesets.find((e) => ((id >= e.firstgid) && (id < (e.firstgid + e.tilecount))));\r\n        if (tileset != t) {\r\n            tileset.firstgid = -9999; // current game use last tileset, so we disable prevoious ones\r\n            doIfDebug(() => {\r\n                console.warn(\"Intersecting tilesets indexes at '\" + map.name + \"'\");\r\n                console.warn(tileset);\r\n                console.warn(t);\r\n            });\r\n        }\r\n    });\r\n}\r\nfunction mapLayers(map) {\r\n    map.field = [];\r\n    for (let y = 0; y < map.height; y++) {\r\n        map.field[y] = [];\r\n        for (let x = 0; x < map.width; x++) {\r\n            map.field[y][x] = {};\r\n            map.layerList.forEach((e) => setTileByLayerXY(map, e.name, x, y));\r\n        }\r\n    }\r\n}\r\nfunction setTileByLayerXY(map, layer, x, y) {\r\n    if (map.layers[layer]) {\r\n        map.field[y][x][layer] = getTileById(map, layer, map.layers[layer][y * map.width + x]);\r\n    }\r\n}\r\nfunction getTileById(map, layer, id) {\r\n    if (id == 0)\r\n        return;\r\n    var tileset = map.tilesets.find((e) => ((id >= e.firstgid) && (id < (e.firstgid + e.tilecount))));\r\n    if (!tileset) {\r\n        doIfDebug(() => console.warn(\"No tileset for '\" + map.name + \".\" + layer + \"' \" + id));\r\n    }\r\n    return {\r\n        id,\r\n        tileset: tileset,\r\n        localid: (id - tileset?.firstgid),\r\n    };\r\n}\r\n\r\nfunction oneChildCheck(e) {\r\n    doIfDebug(() => {\r\n        if (e.children?.length > 1) {\r\n             console.warn(\"More then one children!\");\r\n             console.warn(e);\r\n        }\r\n    }, true);\r\n}\r\nfunction noChildCheck(e) {\r\n    doIfDebug(() => {\r\n        if (e.children?.length > 0) {\r\n             console.warn(\"More then zero children!\");\r\n             console.warn(e);\r\n        }\r\n    }, true);\r\n}\r\nfunction propertyCheck(c, e, names) {\r\n        doIfDebug(() => {\r\n            if (e[c.attributes.name]) {\r\n                console.warn(\"More then one children '\" + c.attributes.name + \"':\");\r\n                console.warn(e[c.attributes.name]);\r\n                console.warn(c);\r\n            }\r\n            if (c.name != \"property\") {\r\n                 console.warn(\"Unknown children!\");\r\n                 console.warn(c);\r\n            }\r\n            if (c.children?.length) {\r\n                 console.warn(\"More then zero children!\");\r\n                 console.warn(c);\r\n            }\r\n            if (names.indexOf(c.attributes.name) == -1 ) {\r\n                 console.warn(\"Unknown children!\");\r\n                 console.warn(c);\r\n            }\r\n            if (Object.keys(c.attributes).filter(x => ![\"name\", \"value\", \"type\"].includes(x)).length) {\r\n                 console.warn(\"Unknown children!\");\r\n                 console.warn(c);\r\n            }\r\n        }, true);\r\n}\r\n","export default function parseGlobalMap(myXml) {\r\n    var result = {\r\n        segments: [],\r\n        segmentsMap: {},\r\n    };\r\n    myXml.children.forEach((segment) => {\r\n        var value = parseSegment(segment);\r\n        result.segments.push(value);\r\n        result.segmentsMap[segment.attributes.id] = value;\r\n    });\r\n    return result;\r\n}\r\n\r\nfunction parseSegment(segment) {\r\n    var result = {\r\n        id: segment.attributes.id,\r\n        x: segment.attributes.x * 1,\r\n        y: segment.attributes.y * 1,\r\n        areas: parseArea(segment.children),\r\n    }\r\n    result = {\r\n        ...result,\r\n        ...parseMaps(segment.children, result.areas),\r\n    }\r\n    return result;\r\n}\r\nfunction parseArea(children) {\r\n    var result = {};\r\n    children.filter((e) => e.name == \"namedarea\").forEach((e) => {\r\n        result[e.attributes.id] = e.attributes;\r\n    });\r\n    return result;\r\n}\r\nfunction parseMaps(children, areas) {\r\n    var result = {\r\n        maps: [],\r\n        mapsMap: {},\r\n    };\r\n    children.filter((e) => e.name == \"map\").forEach((e) => {\r\n        var map = {\r\n            ...e.attributes,\r\n            x: e.attributes.x * 1,\r\n            y: e.attributes.y * 1,\r\n        };\r\n        if (map.area) {\r\n            map.areaLink = areas[map.area];\r\n            map.areaLink.maps = map.areaLink.maps || [];\r\n            map.areaLink.maps.push(map);\r\n        }\r\n        result.maps.push(map);\r\n        result.mapsMap[e.attributes.id] = map;\r\n    });\r\n\r\n    return result;\r\n}\r\n","import React,{useState,useEffect} from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport Main from './components/Main.jsx';\nimport XMLParser from 'react-xml-parser';\nimport parseXmlMap from './utils/MapParser.jsx';\nimport parseGlobalMap from './utils/GlobalMapParser.jsx';\n\nfunction App() {\n  const [data,setData]=useState([]);\n  var  temp = { maps: {} };\n  String.prototype.capitalize = function() {\n    return this.charAt(0).toUpperCase() + this.slice(1);\n  }\n\n  const getXmlData=(fileName, thenDo)=>{\n     const headers = {\n        'Content-Type': 'text/xml',\n        'Accept': 'text/xml'\n     };\n    fetch(''+fileName, {headers})\n      .then(response => {\n        return response.text();\n      })\n      .then(str => {\n          return str.replace(/<!--.*-->/g,'');\n      })\n      .then(thenDo);\n      ;\n  }\n  const saveTempResources = (str) => {\n      var parser = new XMLParser();\n      var myXml = parser.parseFromString(str);\n\n      var xmlData=myXml.getElementsByTagName(\"array\");\n      const resources = xmlData.reduce(function(map, obj) {\n                map[obj.attributes.name] = obj.children.map(o=>o.value).filter(e=>e);\n                return map;\n        }, {});\n      temp = {\n          ...temp,\n          resources\n      };\n      getMaps(temp, setData);\n  }\n\n  const getXmlMap=(resource, name, downcounter)=>{\n      const thenDo = (xmlString) => {\n          var parser = new XMLParser();\n          var myXml = parser.parseFromString(xmlString);\n          \n          temp.maps[name] = parseXmlMap(myXml, name);\n          downcounter.progress--\n          if (downcounter.progress==0){\n            downcounter.tryDo();\n          }\n      }\n      getXmlData(resource, thenDo)\n  }\n\n  const getGlobalMap =(downcounter) => {\n      const thenDo = (xmlString) => {\n          var parser = new XMLParser();\n          var myXml = parser.parseFromString(xmlString);\n          \n          temp.globalMap = parseGlobalMap(myXml);\n          downcounter.progress--\n          if (downcounter.progress==0){\n            downcounter.tryDo();\n          }\n      }\n      getXmlData(\"/xml/worldmap.xml\", thenDo);\n  }\n\n  const getMaps=(temp, thenDo)=>{\n      var maps = temp.resources.loadresource_maps;\n      var downcounter = {progress:maps.length+1, tryDo:()=>thenDo(temp)};\n      getGlobalMap(downcounter);\n      maps.forEach((path)=>{\n          getXmlMap(path.replace('@','/')+\".tmx\", path.replace('@xml/',''), downcounter);\n      });\n  }\n  useEffect(()=>{\n      getXmlData('/values/loadresources.xml', saveTempResources);\n  },[])\n\n  return (\n    <div className=\"App\">\n        { data.resources && <Main resources = { data.resources } maps = { data.maps } globalMap = { data.globalMap }/> }\n    </div>\n\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render((\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>\n), document.getElementById('root'));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}
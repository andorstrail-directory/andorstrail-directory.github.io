(this.webpackJsonpreactapp=this.webpackJsonpreactapp||[]).push([[0],{18:function(t,e,n){},37:function(t,e,n){},38:function(t,e,n){},50:function(t,e,n){},51:function(t,e,n){},52:function(t,e,n){"use strict";n.r(e);var i=n(1),r=n.n(i),a=n(26),o=n.n(a),s=(n(37),n(8)),c=n(23),l=(n.p,n(38),n(16)),u=n(20),d=n(27),h=n(2),p=n(3),f=n(6),v=n(4),m=n(5),b=n(10);function g(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(x||e)&&console.warn(t)}function j(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(x||e)&&t()}var x=!1,O=n(30),y=n(0),w=["component"],k=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var a=Object.assign.apply(Object,[{}].concat(n));return r.a.createElement(t,a)},C=function(t){var e=t.component,n=Object(O.a)(t,w);return Object(y.jsx)(b.a,Object(s.a)(Object(s.a)({},n),{},{render:function(t){return k(e,t,n)}}))},E=n(11),M=function(t){Object(v.a)(n,t);var e=Object(m.a)(n);function n(t){return Object(h.a)(this,n),e.call(this,t)}return Object(p.a)(n,[{key:"render",value:function(){return Object(y.jsx)("menu",{children:Object(y.jsxs)("ul",{className:"hr",children:[Object(y.jsx)("li",{className:"/"===window.location.pathname?"selected":"",children:Object(y.jsx)(E.b,{to:"",children:"Home"})}),R("items","/body"),R("monsters","/animal"),R("NPC","/merchant"),R("conditions"),R("quests"),R("categories"),R("map")]})})}}]),n}(r.a.Component),R=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n="/"+t+e,i=window.location.pathname.toUpperCase().startsWith("/"+t.toUpperCase())?"selected":"";return Object(y.jsx)("li",{className:i,children:Object(y.jsx)(E.b,{to:n.toLowerCase(),children:t.capitalize()})})},L=function(t){Object(v.a)(n,t);var e=Object(m.a)(n);function n(t){return Object(h.a)(this,n),e.call(this,t)}return Object(p.a)(n,[{key:"render",value:function(){return Object(y.jsxs)("div",{style:{textAlign:"left",margin:10},children:[Object(y.jsxs)("p",{children:["Welcome to ",Object(y.jsx)("b",{children:"Andor's Trail Directory V2"})," the fan page about amazing, beautiful a great game ",Object(y.jsx)("a",{href:"https://play.google.com/store/apps/details?id=com.gpl.rpg.AndorsTrail",children:"Andor's Trail"}),"."]}),Object(y.jsx)("h2",{children:"About"}),Object(y.jsxs)("p",{children:[Object(y.jsx)("b",{children:"Andor's Trail"})," is quest-driven Roguelike fantasy dungeon crawler RPG with a powerful story on Android, with open source code (GPL)."]}),Object(y.jsxs)("p",{children:["I created this web because ",Object(y.jsx)("a",{href:"http://andorstrail.irkalla.cz/0.7.0/",children:"previous one"})," was abandoned for years."]}),Object(y.jsx)("p",{children:"This pages get data directly from source files, witch are in easy-to-read JSON and XML format, and redner it birectly in your browser. "}),Object(y.jsx)("h2",{children:"Spoiler alert"}),Object(y.jsx)("p",{children:"This whole web \xefs a little bit of spoiler and it contains some informations witch you probably shouldn't know and can reveal some surprises and story twists. It is not such big deal, just be careful a consider yourself warned."}),Object(y.jsxs)("p",{children:["But if you are affraid of spoilers, stay away from ",Object(y.jsx)("b",{children:"quest page"}),"."]}),Object(y.jsx)("h2",{children:"Contact and links"}),Object(y.jsxs)("p",{children:["If you want more information about game, please visit the ",Object(y.jsx)("a",{href:"https://play.google.com/store/apps/details?id=com.gpl.rpg.AndorsTrail",children:"official game page on Google Play"})," or the ",Object(y.jsx)("a",{href:"https://www.andorstrail.com",children:"main game forum"}),". "]})]})}}]),n}(r.a.Component),P=function(t){Object(v.a)(n,t);var e=Object(m.a)(n);function n(t){var i;return Object(h.a)(this,n),(i=e.call(this,t)).getKeys=function(){return[["name",function(t){return t.name}],["id",function(t){return t.id}],["size",function(t){return t.size}],["inventorySlot",function(t){return t.inventorySlot}],["actionType",function(t){return t.actionType}]]},i.getHeader=function(){return this.getKeys().map((function(t,e){return Object(y.jsxs)("th",{children:[" ",t[0]," "]},t[0])}))},i.getRowsData=function(){var t=this,e=this.props.data;if(!e)return"";this.props.filter&&this.props.filter.length>0&&(e=e.filter((function(e){return t.props.filter.indexOf(e.category)>-1})));var n=this.getKeys();return e.map((function(t,e){return Object(y.jsx)("tr",{children:Object(y.jsx)(S,{data:t,keys:n},e)},e)}))},i.getHeader=i.getHeader.bind(Object(f.a)(i)),i.getRowsData=i.getRowsData.bind(Object(f.a)(i)),i.getKeys=i.getKeys.bind(Object(f.a)(i)),i}return Object(p.a)(n,[{key:"render",value:function(){return Object(y.jsx)("div",{children:Object(y.jsxs)("table",{border:"1",children:[Object(y.jsx)("thead",{children:Object(y.jsx)("tr",{children:this.getHeader()})}),Object(y.jsx)("tbody",{children:this.getRowsData()})]})})}}]),n}(r.a.Component),S=function(t){return t.keys.map((function(e,n){return Object(y.jsxs)("td",{children:[" ",e[1](t.data)," "]},e[0])}))},D=n(7),A=n.n(D),I=(n(18),n(9)),q={monsters_demon1:{x:64,y:64},monsters_demon2:{x:64,y:64},monsters_hydra1:{x:64,y:64},monsters_cyclops:{x:64,y:96},monsters_bosses_2x2:{x:64,y:64},monsters_giantbasilisk:{x:64,y:64}},T=function(t){return H(null===t||void 0===t?void 0:t.split(":")[0])},H=function(t){return q[t]||{x:32,y:32}},N=function(t){Object(v.a)(n,t);var e=Object(m.a)(n);function n(t){return Object(h.a)(this,n),e.call(this,t)}return Object(p.a)(n,[{key:"render",value:function(){var t,e=this.props,n=e.data,i=e.prefix,r=e.noBackground,a=this.props.zoom||32,o=(n.rootLink||i)+(n.id||n.name),c="i"+(new Date-0)+"_"+Math.random(),l=null===(t=n.iconID)||void 0===t?void 0:t.split(":"),u=l[0],d=l[1],h=_(u),p=H(u);p.x=p.x*a/32,p.y=p.y*a/32;var f={width:p.x,height:p.y,overflow:"hidden"};return r||(f=Object(s.a)(Object(s.a)({},f),{},{backgroundImage:'url("/drawable/ui_selections.png")',backgroundRepeat:"no-repeat",backgroundPosition:n.iconBg*p.x+"px 0px",backgroundSize:5*p.x+"px "+p.y+"px"})),Object(y.jsx)("div",{style:{display:"flex"},children:Object(y.jsxs)(I.a,{style:f,title:n.displaytype,to:o,children:[Object(y.jsx)("div",{id:n.id,className:"TableAncor"}),Object(y.jsx)("img",{id:c,src:h,onLoad:V(d,p,c)})]})})}}]),n}(r.a.Component),_=function(t){if(t)return"/drawable/"+t+".png"},V=function(t,e,n){return function(){if(t){var i=document.getElementById(n),r=function(t,e,n){var i=-t%e*n.x;return{x:i,y:(-t*n.y-i)/e}}(t,i.width/e.x,e);i.style="margin: ".concat(r.y,"px 0 0 ").concat(r.x,"px; display: 'block'")}}},B={root:{position:"relative",paddingLeft:"10px",paddingTop:"5px",display:"block",width:"100%",height:"100%",alignItems:"center"}},K=function(t){t.tableManager,t.value,t.onChange,t.isEdit;var e=t.data;t.column,t.rowIndex,t.searchText,t.isFirstEditableCell;return Object(y.jsx)("div",{style:B.root,children:Object(y.jsx)(N,{data:e})})},z={root:{position:"relative",padding:"5px 20px",display:"flex",width:"100%",height:"100%"},text:{marginLeft:1,whiteSpace:"nowrap"},aimg:{width:32,height:32,overflow:"hidden"}},F=function(t){return"/drawable/"+(null===t||void 0===t?void 0:t.split(":"))[0]+".png"},U=function(t,e,n){return t+"_"+e+"_"+n},W=function(t,e,n){return function(){var i=document.getElementById(U(t,e,n)),r=function(t,e){var n=null===t||void 0===t?void 0:t.split(":")[1],i=-n%e*32;return{x:i,y:(32*-n-i)/e}}(t,i.width/32);i.style="margin: ".concat(r.y,"px 0 0 ").concat(r.x,"px")}},G=function(t,e,n){return null===e||void 0===e?void 0:e.map(function(t,e){return function(n,i){var r=t;n.chance&&(r+=n.chance+"% chance of "),r+=n.link.name,r+=n.magnitude>=1?" x"+n.magnitude:" clearing",n.duration&&(r+=" ("+n.duration+" rounds)");var a="/conditions#"+n.link.id,o=U(n.link.iconID,e,i);return Object(y.jsx)(I.a,{style:z.aimg,title:r,to:a,children:Object(y.jsx)("img",{id:o,src:F(n.link.iconID),onLoad:W(n.link.iconID,e,i)})},o)}}(t,n))},J=function(t,e,n,i){return e?Object(y.jsx)("span",{style:z.text,title:t+" "+e.min+"-"+e.max,children:n}):""},Y=function(t){t.tableManager,t.value,t.onChange,t.isEdit;var e,n,i,a,o,s,c,l,u,d,h=t.data,p=(t.column,t.rowIndex);t.searchText,t.isFirstEditableCell;return Object(y.jsx)("div",{style:z.root,children:Object(y.jsxs)(r.a.Fragment,{children:[G("On equip\n ",null===(e=h.equipEffect)||void 0===e?void 0:e.addedConditions,p),G("On hit\n On target\n  ",null===(n=h.hitEffect)||void 0===n?void 0:n.conditionsTarget,p),G("On hit\n On source\n  ",null===(i=h.hitEffect)||void 0===i?void 0:i.conditionsSource,p),J("On hit\n On source\n  ",null===(a=h.hitEffect)||void 0===a?void 0:a.increaseCurrentHP,"+HP"),G("On kill\n On source\n  ",null===(o=h.killEffect)||void 0===o?void 0:o.conditionsSource,p),J("On kill\n On source\n  ",null===(s=h.killEffect)||void 0===s?void 0:s.increaseCurrentHP,"+HP"),J("On kill\n On source\n  ",null===(c=h.killEffect)||void 0===c?void 0:c.increaseCurrentAP,"+AP"),G("On hit received\n On source\n  ",null===(l=h.hitReceivedEffect)||void 0===l?void 0:l.conditionsSource,p),G("On hit received\n On target\n  ",null===(u=h.hitReceivedEffect)||void 0===u?void 0:u.conditionsTarget,p),G("On use\n ",null===(d=h.useEffect)||void 0===d?void 0:d.conditionsSource,p)]})})},X={root:{position:"relative",padding:"0 20px",display:"flex",width:"100%",height:"100%",alignItems:"center"},text:{marginLeft:10,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},Q=["increaseAttackDamage","increaseAttackCost","increaseAttackChance","increaseBlockChance","increaseCriticalSkill","setCriticalMultiplier","increaseMaxHP","setNonWeaponDamageModifier","increaseMaxAP","increaseDamageResistance","addedConditions","conditionsTarget","increaseMoveCost","increaseUseItemCost","increaseReequipCost","",""],Z=["conditionsTarget","conditionsSource","increaseCurrentHP","",""],$=["conditionsSource","increaseCurrentHP","increaseCurrentAP",""],tt=["conditionsSource","conditionsTarget","",""],et=["conditionsSource","increaseCurrentHP",""],nt=["increaseAttackChance","increaseBlockChance","increaseDamageResistance","increaseAttackDamage","increaseMaxAP","increaseMoveCost","increaseAttackCost","increaseMaxHP","increaseCriticalSkill","increaseUseItemCost","increaseReequipCost","visualEffectID",""],it=["increaseCurrentHP","visualEffectID","increaseCurrentAP","","",""],rt=function(t,e,n){if(!e)return"";var i=Object.keys(e).filter((function(t){return-1==n.indexOf(t)})).map((function(t){return[t,e[t]]}));return i.length>0?t+JSON.stringify(i):""},at=function(t){t.tableManager,t.value,t.onChange,t.isEdit;var e=t.data;t.column,t.rowIndex,t.searchText,t.isFirstEditableCell;return Object(y.jsx)("div",{style:X.root,children:Object(y.jsxs)(r.a.Fragment,{children:[rt("On equip:",e.equipEffect,Q),rt("On hit:",e.hitEffect,Z),rt("On get hit:",e.hitReceivedEffect,tt),rt("On kill: ",e.killEffect,$),rt("On use: ",e.useEffect,et),rt("",e.abilityEffect,nt),rt("",e.roundEffect,it)]})})},ot={root:{position:"relative",padding:"10px 20px",display:"block",width:"100%",height:"100%",alignItems:"center"},text:{margin:"auto",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},st=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){t.tableManager;var n=t.value,i=(t.onChange,t.isEdit,t.data),r=(t.column,t.rowIndex,t.searchText,t.isFirstEditableCell,{data:i});return e.forEach((function(t){r.data=r.data[t]||{}})),"0"==n?"":r.data.min==r.data.max?Object(y.jsx)("div",{style:ot.root,children:Object(y.jsx)("span",{style:ot.text,children:n})}):Object(y.jsx)("div",{style:ot.root,children:Object(y.jsxs)("span",{style:ot.text,children:[n,"(",r.data.min,"/",r.data.max,")"]})})}},ct=function(t){Object(v.a)(n,t);var e=Object(m.a)(n);function n(t){var i;return Object(h.a)(this,n),(i=e.call(this,t)).state={scrollY:window.scrollY,scrollX:window.scrollX},i.onScroll=i.onScroll.bind(Object(f.a)(i)),i}return Object(p.a)(n,[{key:"onScroll",value:function(){this.setState({scrollY:window.scrollY,scrollX:window.scrollX})}},{key:"componentDidMount",value:function(){var t=this;if(window.onscroll){var e=window.onscroll;window.onscroll=function(){e(),t.onScroll()}}else window.onscroll=this.onScroll}},{key:"componentWillUnmount",value:function(){window.onscroll=void 0}},{key:"render",value:function(){var t=this.props.columns,e=this.props.size;this.props.bot;if(window.scrollY<e.top)return"";if(window.scrollY>e.top+e.height-50)return"";var n={marginLeft:2-this.state.scrollX,width:3e3};return Object(y.jsx)("div",{children:Object(y.jsx)(lt,{style1:n,columns:t})})}}]),n}(r.a.Component),lt=function(t){return Object(y.jsx)("div",{className:"absHeader",style:t.style1,children:t.columns.filter((function(t){return!(0==t.visible)})).map((function(t){return Object(y.jsx)("div",{className:"absSubHeader",style:{width:"".concat(t.width)},children:Object(y.jsx)("div",{className:"absSubHeaderInner",children:t.label})},t.id)}))})},ut=function(t){Object(v.a)(n,t);var e=Object(m.a)(n);function n(t){var i;return Object(h.a)(this,n),(i=e.call(this,t)).getKeys=function(){var t=this;return[["",function(t){return Object(y.jsx)(N,{data:t.monster})}],["Name",function(t){return ht(t.monster)},{textAlign:"left"}],["Quantity",function(t){return pt(t.quantity)}],["Chance",function(e){return e.type||(e.monster.maxHP?t.renderChance(e.chance):"sell")}]]},i.renderChance=function(t){return t.indexOf("/")>0?t:t+"%"},i.getHeader=function(){return this.getKeys().map((function(t,e){var n=t.length>=2?t[2]:{};return Object(y.jsxs)("th",{style:n,children:[" ",t[0]," "]},t[0])}))},i.getRowsData=function(){var t=this,e=this.props.data;if(!e)return"";this.props.filter&&this.props.filter.length>0&&(e=e.filter((function(e){return t.props.filter.indexOf(e.category)>-1})));var n=this.getKeys();return e.map((function(t,e){return Object(y.jsx)("tr",{children:Object(y.jsx)(dt,{data:t,keys:n},e)},e)}))},i.getHeader=i.getHeader.bind(Object(f.a)(i)),i.getRowsData=i.getRowsData.bind(Object(f.a)(i)),i.getKeys=i.getKeys.bind(Object(f.a)(i)),i}return Object(p.a)(n,[{key:"render",value:function(){return Object(y.jsxs)("table",{style:{width:400},children:[Object(y.jsx)("thead",{style:{display:"none"},children:Object(y.jsx)("tr",{children:this.getHeader()})}),Object(y.jsx)("tbody",{children:this.getRowsData()})]})}}]),n}(r.a.Component),dt=function(t){return t.keys.map((function(e,n){var i=e.length>=2?e[2]:{};return Object(y.jsx)("td",{style:i,children:e[1](t.data)},e[0])}))},ht=function(t){var e=t.rootLink+t.id;return Object(y.jsx)(I.a,{to:e,children:t.name})},pt=function(t){return(null===t||void 0===t?void 0:t.max)==(null===t||void 0===t?void 0:t.min)?null===t||void 0===t?void 0:t.max:t.min+"-"+t.max},ft={text:{marginLeft:10,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},table:{paddingTop:10,marginLeft:-10}},vt=function(t){Object(v.a)(n,t);var e=Object(m.a)(n);function n(t){var i;return Object(h.a)(this,n),(i=e.call(this,t)).state={expanded:window.location.href.endsWith(i.props.data.id.toLowerCase())},i.toggleExpand=i.toggleExpand.bind(Object(f.a)(i)),i}return Object(p.a)(n,[{key:"toggleExpand",value:function(){this.setState({expanded:!this.state.expanded})}},{key:"render",value:function(){var t,e,n=this.props.data,i=this.props.value,a=[];return null===(t=n.droplists)||void 0===t||null===(e=t.flatMap((function(t){return mt(t)})))||void 0===e||e.filter((function(t){return!!t})).forEach((function(t){return a.push(t)})),a&&a.length?Object(y.jsxs)(r.a.Fragment,{children:[Object(y.jsxs)("div",{style:{display:"flex"},onClick:this.toggleExpand,children:[Object(y.jsx)("img",{src:"../image/sort_desc.png"}),Object(y.jsx)("span",{style:ft.text,children:i})]}),Object(y.jsx)("div",{style:ft.table,children:this.state.expanded&&Object(y.jsx)(ut,{data:a})})]}):Object(y.jsx)(r.a.Fragment,{children:Object(y.jsxs)("div",{style:{display:"flex"},children:[Object(y.jsx)("div",{style:{width:19}}),Object(y.jsx)("span",{style:ft.text,children:i})]})})}}]),n}(r.a.Component),mt=function(t){var e,n,i=[];return null===(e=t.droplist)||void 0===e||null===(n=e.links)||void 0===n||n.forEach((function(e){i.push(Object(s.a)({monster:e},t))})),i},bt={root:{position:"relative",padding:"10px",display:"block",width:"100%",height:"100%",alignItems:"center"}},gt=function(t){t.tableManager;var e=t.value,n=(t.onChange,t.isEdit,t.data);t.column,t.rowIndex,t.searchText,t.isFirstEditableCell;return Object(y.jsx)("div",{style:bt.root,children:Object(y.jsx)(vt,{data:n,value:e})})},jt=function(t){var e=t.a,n=t.b,i=t.isAscending,r=e||"",a=n||"";return r>a?i?1:-1:r<a?i?-1:1:0},xt=function(t){var e=t.a,n=t.b,i=t.isAscending,r=e||0,a=n||0;return r>a?i?1:-1:r<a?i?-1:1:0},Ot=function(t){var e=t.a,n=t.b,i=t.isAscending,r=["ordinary","quest","rare","extraordinary","legendary",""],a=r.indexOf(e),o=r.indexOf(n);return a>o?i?1:-1:a<o?i?-1:1:0},yt=function(){var t=window.location.hash;""!==t&&setTimeout((function(){var e=t.replace("#",""),n=document.getElementById(e);n&&n.scrollIntoView()}),100)},wt=function(t){Object(v.a)(n,t);var e=Object(m.a)(n);function n(t){var i;return Object(h.a)(this,n),(i=e.call(this,t)).getRows=function(){var t=this,e=this.props.data;return this.props.filter&&(e=e.filter((function(e){return t.props.filter(e)}))),e},i.isEmptyColumn=function(t){return!!this.rows.find((function(e){return t(e)}))},i.getColumns=function(){var t=1;return[{id:t++,field:"displaytype",label:"",pinned:!0,cellRenderer:K,sort:Ot,width:"50px"},{id:t++,field:"name",label:"Name",pinned:!0,cellRenderer:gt,width:"290px"},{id:t++,field:"equipEffect",label:"Atk Cost",getValue:function(t){var e=t.value;t.column;return null===e||void 0===e?void 0:e.increaseAttackCost},sort:xt,width:"85px",visible:this.isEmptyColumn((function(t){var e;return null===(e=t.equipEffect)||void 0===e?void 0:e.increaseAttackCost}))},{id:t++,field:"equipEffect",label:"Dmg",getValue:function(t){var e,n,i=t.value;t.column;return(((null===i||void 0===i||null===(e=i.increaseAttackDamage)||void 0===e?void 0:e.min)||0)+((null===i||void 0===i||null===(n=i.increaseAttackDamage)||void 0===n?void 0:n.max)||0))/2},sort:xt,cellRenderer:st("equipEffect","increaseAttackDamage"),width:"120px",visible:this.isEmptyColumn((function(t){var e;return null===(e=t.equipEffect)||void 0===e?void 0:e.increaseAttackDamage}))},{id:t++,field:"equipEffect",label:"AC",getValue:function(t){var e=t.value;t.column;return null===e||void 0===e?void 0:e.increaseAttackChance},sort:xt,width:"50px",visible:this.isEmptyColumn((function(t){var e;return null===(e=t.equipEffect)||void 0===e?void 0:e.increaseAttackChance}))},{id:t++,field:"equipEffect",label:"BC",getValue:function(t){var e=t.value;t.column;return null===e||void 0===e?void 0:e.increaseBlockChance},sort:xt,width:"50px",visible:this.isEmptyColumn((function(t){var e;return null===(e=t.equipEffect)||void 0===e?void 0:e.increaseBlockChance}))},{id:t++,field:"equipEffect",label:"Crit",getValue:function(t){var e=t.value;t.column;return null===e||void 0===e?void 0:e.increaseCriticalSkill},sort:xt,width:"60px",visible:this.isEmptyColumn((function(t){var e;return null===(e=t.equipEffect)||void 0===e?void 0:e.increaseCriticalSkill}))},{id:t++,field:"equipEffect",label:"Crit*",getValue:function(t){var e=t.value;t.column;return null===e||void 0===e?void 0:e.setCriticalMultiplier},sort:xt,width:"55px",visible:this.isEmptyColumn((function(t){var e;return null===(e=t.equipEffect)||void 0===e?void 0:e.setCriticalMultiplier}))},{id:t++,field:"equipEffect",label:"MaxHP",getValue:function(t){var e=t.value;t.column;return null===e||void 0===e?void 0:e.increaseMaxHP},sort:xt,width:"75px",visible:this.isEmptyColumn((function(t){var e;return null===(e=t.equipEffect)||void 0===e?void 0:e.increaseMaxHP}))},{id:t++,field:"equipEffect",label:"MaxAP",getValue:function(t){var e=t.value;t.column;return null===e||void 0===e?void 0:e.increaseMaxAP},sort:xt,width:"75px",visible:this.isEmptyColumn((function(t){var e;return null===(e=t.equipEffect)||void 0===e?void 0:e.increaseMaxAP}))},{id:t++,field:"equipEffect",label:"MC",getValue:function(t){var e=t.value;t.column;return null===e||void 0===e?void 0:e.increaseMoveCost},sort:xt,width:"80px",visible:this.isEmptyColumn((function(t){var e;return null===(e=t.equipEffect)||void 0===e?void 0:e.increaseMoveCost}))},{id:t++,field:"equipEffect",label:"UC",getValue:function(t){var e=t.value;t.column;return null===e||void 0===e?void 0:e.increaseUseItemCost},sort:xt,width:"50px",visible:this.isEmptyColumn((function(t){var e;return null===(e=t.equipEffect)||void 0===e?void 0:e.increaseUseItemCost}))},{id:t++,field:"equipEffect",label:"EC",getValue:function(t){var e=t.value;t.column;return null===e||void 0===e?void 0:e.increaseReequipCost},sort:xt,width:"50px",visible:this.isEmptyColumn((function(t){var e;return null===(e=t.equipEffect)||void 0===e?void 0:e.increaseReequipCost}))},{id:t++,field:"equipEffect",label:"Dmg*%",getValue:function(t){var e=t.value;t.column;return(null===e||void 0===e?void 0:e.setNonWeaponDamageModifier)||100},sort:xt,width:"75px",visible:this.isEmptyColumn((function(t){var e;return null===(e=t.equipEffect)||void 0===e?void 0:e.setNonWeaponDamageModifier}))},{id:t++,field:"equipEffect",label:"Res",getValue:function(t){var e=t.value;t.column;return null===e||void 0===e?void 0:e.increaseDamageResistance},sort:xt,width:"50px",visible:this.isEmptyColumn((function(t){var e;return null===(e=t.equipEffect)||void 0===e?void 0:e.increaseDamageResistance}))},{id:t++,field:"conditionsCount",label:"Conditions",sort:xt,width:"140px",cellRenderer:Y},{id:t++,field:"priceCost",label:"Price",sort:xt,width:"60px",visible:!0},{id:t++,field:"categoryLink",label:"Category",getValue:function(t){var e=t.value;t.column;return null===e||void 0===e?void 0:e.name},width:"180px"},{id:t++,field:"equipEffect",label:"Other",getValue:function(t){var e=t.value;t.column;return e},width:"100px",sort:jt,cellRenderer:at,visible:!1}]},i.state={},i.getColumns=i.getColumns.bind(Object(f.a)(i)),i.getRows=i.getRows.bind(Object(f.a)(i)),i.id="ItemTable"+Math.random(),i}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var t=document.getElementById(this.id).offsetTop;this.setState({top:t,height:999999})}},{key:"render",value:function(){A.a.defaultProps.isPaginated=!1,A.a.defaultProps.minColumnResizeWidth=30,A.a.defaultProps.isVirtualScroll=!1,A.a.defaultProps.showSearch=!1,A.a.defaultProps.showColumnVisibilityManager=!1,this.rows=this.getRows();var t=this.getColumns();return Object(y.jsxs)("div",{id:this.id,children:[Object(y.jsx)(ct,{columns:t,size:this.state}),Object(y.jsx)(A.a,{columns:t,rows:this.rows,onLoad:yt},this.props.title)]})}}]),n}(r.a.Component),kt=function(t){var e=t.a,n=t.b,i=t.isAscending,r=e||"",a=n||"";return r>a?i?1:-1:r<a?i?-1:1:0},Ct=function(t){var e=t.a,n=t.b,i=t.isAscending,r=e||0,a=n||0;return r>a?i?1:-1:r<a?i?-1:1:0},Et=function(t){var e=t.a,n=t.b,i=t.isAscending,r=["ordinary","quest","rare","extraordinary","legendary",""],a=r.indexOf(e),o=r.indexOf(n);return a>o?i?1:-1:a<o?i?-1:1:0},Mt=function(){var t=window.location.hash;""!==t&&setTimeout((function(){var e=t.replace("#",""),n=document.getElementById(e);n&&n.scrollIntoView()}),100)},Rt=function(t){Object(v.a)(n,t);var e=Object(m.a)(n);function n(t){var i;return Object(h.a)(this,n),(i=e.call(this,t)).getRows=function(){var t=this,e=this.props.data;return this.props.filter&&(e=e.filter((function(e){return t.props.filter(e)}))),e},i.getColumns=function(){var t=1;return[{id:t++,field:"displaytype",label:"",pinned:!0,cellRenderer:K,sort:Et,width:"50px"},{id:t++,field:"name",label:"Name",pinned:!0,cellRenderer:gt,width:"290px"},{id:t++,field:"categoryLink",label:"Category",getValue:function(t){var e=t.value;t.column;return e.name},width:"140px"},{id:t++,field:"useEffect",label:"HP",getValue:function(t){var e,n,i=t.value;t.column;return(((null===i||void 0===i||null===(e=i.increaseCurrentHP)||void 0===e?void 0:e.min)||0)+((null===i||void 0===i||null===(n=i.increaseCurrentHP)||void 0===n?void 0:n.max)||0))/2},sort:Ct,width:"130px",cellRenderer:st("useEffect","increaseCurrentHP")},{id:t++,field:"conditionsCount",label:"Conditions",sort:Ct,width:"250px",cellRenderer:Y},{id:t++,field:"priceCost",label:"Price",getValue:function(t){var e=t.value;t.column;return e?e+" gold":""},sort:Ct,width:"100px",visible:!0},{id:t++,field:"equipEffect",label:"Other",getValue:function(t){var e=t.value;t.column;return e},width:"100px",sort:kt,cellRenderer:at,visible:!1}]},i.state={},i.getColumns=i.getColumns.bind(Object(f.a)(i)),i.getRows=i.getRows.bind(Object(f.a)(i)),i.id="PotionTable"+Math.random(),i}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var t=document.getElementById(this.id).offsetTop;this.setState({top:t,height:999999})}},{key:"render",value:function(){A.a.defaultProps.isPaginated=!1,A.a.defaultProps.minColumnResizeWidth=30,A.a.defaultProps.isVirtualScroll=!1,A.a.defaultProps.showSearch=!1,A.a.defaultProps.showColumnVisibilityManager=!1,this.rows=this.getRows();var t=this.getColumns();return Object(y.jsxs)("div",{id:this.id,children:[Object(y.jsx)(ct,{columns:t,size:this.state}),Object(y.jsx)(A.a,{columns:t,rows:this.rows,onLoad:Mt})]})}}]),n}(r.a.Component);function Lt(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,r=t+e,a=n.toUpperCase()==r.toUpperCase()?"selected":"";return Object(y.jsx)("li",{className:a,children:Object(y.jsx)(E.b,{to:r.toLowerCase(),children:i.capitalize()})},e)}var Pt=function(t){Object(v.a)(n,t);var e=Object(m.a)(n);function n(t){return Object(h.a)(this,n),e.call(this,t)}return Object(p.a)(n,[{key:"render",value:function(){return Object(y.jsxs)("div",{children:[Object(y.jsxs)("ul",{className:"hr",children:[Lt("/items/","body",this.props.location.pathname,"Armor"),Lt("/items/","weapon",this.props.location.pathname),Lt("/items/","shield",this.props.location.pathname),Lt("/items/","head",this.props.location.pathname,"Helm"),Lt("/items/","hand",this.props.location.pathname,"Glove"),Lt("/items/","feet",this.props.location.pathname,"Boot"),Lt("/items/","leftring",this.props.location.pathname,"ring"),Lt("/items/","neck",this.props.location.pathname,"Necklace"),Lt("/items/","use",this.props.location.pathname,"Usable"),Lt("/items/","other",this.props.location.pathname)]}),Object(y.jsxs)(b.c,{children:[St("body",this.props.data),St("weapon",this.props.data),St("shield",this.props.data),St("head",this.props.data),St("hand",this.props.data),St("feet",this.props.data),St("neck",this.props.data),St("leftring",this.props.data),Object(y.jsx)(C,{path:"/items/use",component:Rt,data:this.props.data,title:"Usable",filter:function(t){return"use"==t.categoryLink.actionType}}),Object(y.jsx)(C,{path:"/items/other",component:wt,data:this.props.data,title:"Other",filter:function(t){var e;return!(null!==(e=t.categoryLink)&&void 0!==e&&e.actionType)}})]})]})}}]),n}(r.a.Component),St=function(t,e){var n="/items/"+t;return Object(y.jsx)(C,{path:n,component:wt,data:e,title:t,filter:function(e){return e.categoryLink.inventorySlot==t}})},Dt=function(t){Object(v.a)(n,t);var e=Object(m.a)(n);function n(t){var i;return Object(h.a)(this,n),(i=e.call(this,t)).getKeys=function(){return[["",function(t){return Object(y.jsx)(N,{data:t})}],["Name",function(t){return It(t)},{textAlign:"left"}],["Type",function(t){return t.type}],["Aim",function(t){return t.aim}],["Chance",function(t){return t.chance?t.chance+"%":""}],["Magnitude",function(t){return t.magnitude?t.magnitude+"x":"clears"}],["Duration",function(t){return t.duration?t.duration+" rounds":""}]]},i.getHeader=function(){return this.getKeys().map((function(t,e){var n=t.length>=2?t[2]:{};return Object(y.jsxs)("th",{style:n,children:[" ",t[0]," "]},t[0])}))},i.getRowsData=function(){var t=this,e=this.props.data;if(!e)return"";this.props.filter&&this.props.filter.length>0&&(e=e.filter((function(e){return t.props.filter.indexOf(e.category)>-1})));var n=this.getKeys();return e.map((function(t,e){return Object(y.jsx)("tr",{children:Object(y.jsx)(At,{data:t,keys:n},e)},e)}))},i.getHeader=i.getHeader.bind(Object(f.a)(i)),i.getRowsData=i.getRowsData.bind(Object(f.a)(i)),i.getKeys=i.getKeys.bind(Object(f.a)(i)),i}return Object(p.a)(n,[{key:"render",value:function(){return Object(y.jsxs)("table",{style:{width:700},children:[Object(y.jsx)("thead",{style:{display:"none"},children:Object(y.jsx)("tr",{children:this.getHeader()})}),Object(y.jsx)("tbody",{children:this.getRowsData()})]})}}]),n}(r.a.Component),At=function(t){return t.keys.map((function(e,n){var i=e.length>=2?e[2]:{};return Object(y.jsx)("td",{style:i,children:e[1](t.data)},e[0])}))},It=function(t){var e=t.rootLink+t.id;return Object(y.jsx)(I.a,{to:e,children:t.name})},qt={text:{marginLeft:10,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},table:{paddingTop:10,marginLeft:-10}},Tt=function(t){Object(v.a)(n,t);var e=Object(m.a)(n);function n(t){var i;return Object(h.a)(this,n),(i=e.call(this,t)).state={expanded:window.location.href.endsWith(i.props.data.id.toLowerCase())},i.toggleExpand=i.toggleExpand.bind(Object(f.a)(i)),i}return Object(p.a)(n,[{key:"toggleExpand",value:function(){this.setState({expanded:!this.state.expanded})}},{key:"render",value:function(){var t=this.props.data,e=this.props.value,n=t.links;return n&&n.length?Object(y.jsxs)(r.a.Fragment,{children:[Object(y.jsxs)("div",{style:{display:"flex"},onClick:this.toggleExpand,children:[Object(y.jsx)("img",{src:"../image/sort_desc.png"}),Object(y.jsx)("span",{style:qt.text,children:e})]}),Object(y.jsx)("div",{style:qt.table,children:this.state.expanded&&Object(y.jsx)(Dt,{data:n})})]}):Object(y.jsx)(r.a.Fragment,{children:Object(y.jsxs)("div",{style:{display:"flex"},children:[Object(y.jsx)("div",{style:{width:19}}),Object(y.jsx)("span",{style:qt.text,children:e})]})})}}]),n}(r.a.Component),Ht={root:{position:"relative",padding:"10px 5px 0px",display:"block",width:"100%",height:"100%",alignItems:"center"}},Nt=function(t){t.tableManager;var e=t.value,n=(t.onChange,t.isEdit,t.data);t.column,t.rowIndex,t.searchText,t.isFirstEditableCell;return Object(y.jsx)("div",{style:Ht.root,children:Object(y.jsx)(Tt,{data:n,value:e})})},_t={root:{position:"relative",padding:"0 20px",display:"flex",width:"100%",alignItems:"center"},img:{width:32,height:32}},Vt=function(t){t.tableManager;var e=t.value;t.onChange,t.isEdit,t.data,t.column,t.rowIndex,t.searchText,t.isFirstEditableCell;return Object(y.jsx)("div",{style:_t.root,children:e&&Object(y.jsx)("img",{style:_t.img,src:"/image/yes.png"})})},Bt=function(t){var e=t.a,n=t.b,i=t.isAscending,r=e||0,a=n||0;return r>a?i?1:-1:r<a?i?-1:1:0},Kt=function(){var t=window.location.hash;""!==t&&setTimeout((function(){var e=t.replace("#",""),n=document.getElementById(e);n&&n.scrollIntoView()}),100)},zt=function(t){Object(v.a)(n,t);var e=Object(m.a)(n);function n(t){var i;return Object(h.a)(this,n),(i=e.call(this,t)).getRows=function(){var t=this,e=this.props.data;return this.props.filter&&(e=e.filter((function(e){return t.props.filter.indexOf(e.category)>-1}))),e},i.isEmptyColumn=function(t){return!!this.rows.find((function(e){return t(e)}))},i.getColumns=function(){var t=1;return[{id:t++,field:"displaytype",label:"",pinned:!0,cellRenderer:K,width:"50px"},{id:t++,field:"name",label:"Name",pinned:!0,cellRenderer:Nt,width:"300px"},{id:t++,field:"category",label:"Category",width:"120px"},{id:t++,field:"isStacking",label:"Stack",cellRenderer:Vt,sort:Bt,width:"80px"},{id:t++,field:"abilityEffect",label:"HP",getValue:function(t){var e=t.value;t.column;return null===e||void 0===e?void 0:e.increaseMaxHP},sort:Bt,width:"62px",visible:this.isEmptyColumn((function(t){var e;return null===(e=t.abilityEffect)||void 0===e?void 0:e.increaseMaxHP}))},{id:t++,field:"abilityEffect",label:"AC",getValue:function(t){var e=t.value;t.column;return null===e||void 0===e?void 0:e.increaseAttackChance},sort:Bt,width:"62px",visible:this.isEmptyColumn((function(t){var e;return null===(e=t.abilityEffect)||void 0===e?void 0:e.increaseAttackChance}))},{id:t++,field:"abilityEffect",label:"Dmg",getValue:function(t){var e,n,i=t.value;t.column;return(((null===i||void 0===i||null===(e=i.increaseAttackDamage)||void 0===e?void 0:e.min)||0)+((null===i||void 0===i||null===(n=i.increaseAttackDamage)||void 0===n?void 0:n.max)||0))/2},cellRenderer:st("abilityEffect","increaseAttackDamage"),width:"78px",visible:this.isEmptyColumn((function(t){var e;return null===(e=t.abilityEffect)||void 0===e?void 0:e.increaseAttackDamage}))},{id:t++,field:"abilityEffect",label:"Crit",getValue:function(t){var e=t.value;t.column;return null===e||void 0===e?void 0:e.increaseCriticalSkill},sort:Bt,width:"70px",visible:this.isEmptyColumn((function(t){var e;return null===(e=t.abilityEffect)||void 0===e?void 0:e.increaseCriticalSkill}))},{id:t++,field:"abilityEffect",label:"BC",getValue:function(t){var e=t.value;t.column;return null===e||void 0===e?void 0:e.increaseBlockChance},sort:Bt,width:"60px",visible:this.isEmptyColumn((function(t){var e;return null===(e=t.abilityEffect)||void 0===e?void 0:e.increaseBlockChance}))},{id:t++,field:"abilityEffect",label:"Resist",getValue:function(t){var e=t.value;t.column;return null===e||void 0===e?void 0:e.increaseDamageResistance},sort:Bt,width:"82px",visible:this.isEmptyColumn((function(t){var e;return null===(e=t.abilityEffect)||void 0===e?void 0:e.increaseDamageResistance}))},{id:t++,field:"abilityEffect",label:"AP",getValue:function(t){var e=t.value;t.column;return null===e||void 0===e?void 0:e.increaseMaxAP},sort:Bt,width:"60px",visible:this.isEmptyColumn((function(t){var e;return null===(e=t.abilityEffect)||void 0===e?void 0:e.increaseMaxAP}))},{id:t++,field:"abilityEffect",label:"Atk cost",getValue:function(t){var e=t.value;t.column;return null===e||void 0===e?void 0:e.increaseAttackCost},sort:Bt,width:"100px",visible:this.isEmptyColumn((function(t){var e;return null===(e=t.abilityEffect)||void 0===e?void 0:e.increaseAttackCost}))},{id:t++,field:"abilityEffect",label:"Move cost",getValue:function(t){var e=t.value;t.column;return null===e||void 0===e?void 0:e.increaseMoveCost},sort:Bt,width:"115px",visible:this.isEmptyColumn((function(t){var e;return null===(e=t.abilityEffect)||void 0===e?void 0:e.increaseMoveCost}))},{id:t++,field:"abilityEffect",label:"Use cost",getValue:function(t){var e=t.value;t.column;return null===e||void 0===e?void 0:e.increaseUseItemCost},sort:Bt,width:"105px",visible:this.isEmptyColumn((function(t){var e;return null===(e=t.abilityEffect)||void 0===e?void 0:e.increaseUseItemCost}))},{id:t++,field:"abilityEffect",label:"Equip cost",getValue:function(t){var e=t.value;t.column;return null===e||void 0===e?void 0:e.increaseReequipCost},sort:Bt,width:"115px",visible:this.isEmptyColumn((function(t){var e;return null===(e=t.abilityEffect)||void 0===e?void 0:e.increaseReequipCost}))},{id:t++,field:"roundEffect",label:"Round HP",getValue:function(t){var e,n,i=t.value;t.column;return(((null===i||void 0===i||null===(e=i.increaseCurrentHP)||void 0===e?void 0:e.min)||0)+((null===i||void 0===i||null===(n=i.increaseCurrentHP)||void 0===n?void 0:n.max)||0))/2},cellRenderer:st("roundEffect","increaseCurrentHP"),sort:Bt,width:"115px",visible:this.isEmptyColumn((function(t){var e;return null===(e=t.roundEffect)||void 0===e?void 0:e.increaseCurrentHP}))},{id:t++,field:"roundEffect",label:"Round AP",getValue:function(t){var e,n,i=t.value;t.column;return(((null===i||void 0===i||null===(e=i.increaseCurrentAP)||void 0===e?void 0:e.min)||0)+((null===i||void 0===i||null===(n=i.increaseCurrentAP)||void 0===n?void 0:n.max)||0))/2},cellRenderer:st("roundEffect","increaseCurrentAP"),sort:Bt,width:"115px",visible:this.isEmptyColumn((function(t){var e;return null===(e=t.roundEffect)||void 0===e?void 0:e.increaseCurrentAP}))},{id:t++,field:"abilityEffect",label:"abilityEffect",getValue:function(t){var e=t.value;t.column;return JSON.stringify(e)},cellRenderer:at,width:"400px",visible:!1},{id:t++,field:"fullRoundEffect",label:"Full Round HP",getValue:function(t){var e,n,i=t.value;t.column;return(((null===i||void 0===i||null===(e=i.increaseCurrentHP)||void 0===e?void 0:e.min)||0)+((null===i||void 0===i||null===(n=i.increaseCurrentHP)||void 0===n?void 0:n.max)||0))/2},cellRenderer:st("fullRoundEffect","increaseCurrentHP"),sort:Bt,width:"115px",visible:this.isEmptyColumn((function(t){var e;return null===(e=t.fullRoundEffect)||void 0===e?void 0:e.increaseCurrentHP}))},{id:t++,field:"roundEffect",label:"roundEffect",getValue:function(t){var e=t.value;t.column;return JSON.stringify(e)},cellRenderer:at,width:"400px",visible:!1}]},i.state={},i.getColumns=i.getColumns.bind(Object(f.a)(i)),i.getRows=i.getRows.bind(Object(f.a)(i)),i.id="CondinionTable"+Math.random(),i}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var t=document.getElementById(this.id).clientHeight,e=document.getElementById(this.id).offsetTop;this.setState({top:e,height:t})}},{key:"render",value:function(){A.a.defaultProps.isPaginated=!1,A.a.defaultProps.minColumnResizeWidth=30,A.a.defaultProps.isVirtualScroll=!1,A.a.defaultProps.showSearch=!1,A.a.defaultProps.showColumnVisibilityManager=!1,this.rows=this.getRows();var t=this.getColumns();return Object(y.jsxs)("div",{id:this.id,children:[Object(y.jsx)(ct,{columns:t,size:this.state}),Object(y.jsx)(A.a,{columns:t,rows:this.rows,onLoad:Kt},this.props.title)]})}}]),n}(r.a.Component),Ft=function(t){Object(v.a)(n,t);var e=Object(m.a)(n);function n(t){return Object(h.a)(this,n),e.call(this,t)}return Object(p.a)(n,[{key:"render",value:function(){return Object(y.jsxs)("div",{children:[Object(y.jsx)("h2",{children:"Positive"}),Object(y.jsx)(zt,{data:this.props.data.filter((function(t){return t.isPositive}))}),Object(y.jsx)("h2",{children:"Negative"}),Object(y.jsx)(zt,{data:this.props.data.filter((function(t){return!t.isPositive}))})]})}}]),n}(r.a.Component),Ut={root:{width:1e3},img:{width:32,height:32,marginTop:-5,marginRight:5},link:{color:"white",textTransform:"capitalize",float:"left",display:"flex",margin:10}},Wt=function(t){Object(v.a)(n,t);var e=Object(m.a)(n);function n(t){var i;return Object(h.a)(this,n),(i=e.call(this,t)).getRowsData=function(t){var e;if(!t)return"";var n=null===t||void 0===t||null===(e=t.flatMap((function(t){return t.maps})))||void 0===e?void 0:e.filter(Gt);return null===n||void 0===n?void 0:n.map((function(e,n){return Object(y.jsxs)(I.a,{to:e.rootLink+e.name+"#"+t[0].key,style:Ut.link,children:[Object(y.jsx)("img",{style:Ut.img,src:"/image/ui_icon_map.png"}),e.name]},n)}))},i.getRowsData=i.getRowsData.bind(Object(f.a)(i)),i}return Object(p.a)(n,[{key:"render",value:function(){return Object(y.jsx)("div",{style:Ut.root,children:this.getRowsData(this.props.data)})}}]),n}(r.a.Component);function Gt(t,e,n){return n.indexOf(t)==e}var Jt=function(t){Object(v.a)(n,t);var e=Object(m.a)(n);function n(t){var i;return Object(h.a)(this,n),(i=e.call(this,t)).getKeys=function(){return[["",function(t){return Object(y.jsx)(N,{data:t.link})}],["Name",function(t){return Xt(t.link)},{textAlign:"left"}],["Quantity",function(t){return Qt(t.quantity)}],["Chance",function(t){return t.chance+"%"}]]},i.getHeader=function(){return this.getKeys().map((function(t,e){var n=t.length>=2?t[2]:{};return Object(y.jsxs)("th",{style:n,children:[" ",t[0]," "]},t[0])}))},i.getRowsData=function(t){var e=this;this.props.filter&&this.props.filter.length>0&&(t=t.filter((function(t){return e.props.filter.indexOf(t.category)>-1})));var n=this.getKeys();return t.map((function(t,e){return Object(y.jsx)("tr",{children:Object(y.jsx)(Yt,{data:t,keys:n},e)},e)}))},i.getHeader=i.getHeader.bind(Object(f.a)(i)),i.getRowsData=i.getRowsData.bind(Object(f.a)(i)),i.getKeys=i.getKeys.bind(Object(f.a)(i)),i}return Object(p.a)(n,[{key:"render",value:function(){var t=this.props.data;return null!==t&&void 0!==t&&t.length?Object(y.jsxs)("table",{style:{width:400},children:[Object(y.jsx)("thead",{style:{display:"none"},children:Object(y.jsx)("tr",{children:this.getHeader()})}),Object(y.jsx)("tbody",{children:this.getRowsData(t)})]}):""}}]),n}(r.a.Component),Yt=function(t){return t.keys.map((function(e,n){var i=e.length>=2?e[2]:{};return Object(y.jsx)("td",{style:i,children:e[1](t.data)},e[0])}))},Xt=function(t){var e=t.rootLink+t.id;return Object(y.jsx)(I.a,{to:e,children:t.name})},Qt=function(t){return t.max==t.min?t.max:t.min+"-"+t.max},Zt={text:{marginLeft:10,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},table:{paddingTop:10,marginLeft:-10}},$t=function(t){Object(v.a)(n,t);var e=Object(m.a)(n);function n(t){var i;return Object(h.a)(this,n),(i=e.call(this,t)).state={expanded:window.location.href.endsWith(i.props.data.id.toLowerCase())},i.toggleExpand=i.toggleExpand.bind(Object(f.a)(i)),i}return Object(p.a)(n,[{key:"toggleExpand",value:function(){this.setState({expanded:!this.state.expanded})}},{key:"render",value:function(){var t,e=this.props.data,n=this.props.value,i=null===(t=e.droplistLink)||void 0===t?void 0:t.items,a=e.spawnGroupLinks;return i||a?Object(y.jsxs)(r.a.Fragment,{children:[Object(y.jsxs)("div",{style:{display:"flex"},onClick:this.toggleExpand,children:[Object(y.jsx)("img",{src:"../image/sort_desc.png"}),Object(y.jsx)("span",{style:Zt.text,children:n})]}),Object(y.jsxs)("div",{style:Zt.table,children:[this.state.expanded&&Object(y.jsx)(Jt,{data:i}),this.state.expanded&&Object(y.jsx)(Wt,{data:a})]})]}):Object(y.jsx)(r.a.Fragment,{children:Object(y.jsxs)("div",{style:{display:"flex"},children:[Object(y.jsx)("div",{style:{width:19}}),Object(y.jsx)("span",{style:Zt.text,children:n})]})})}}]),n}(r.a.Component),te={root:{position:"relative",padding:"10px",display:"block",width:"100%",height:"100%",alignItems:"center"}},ee=function(t){t.tableManager;var e=t.value,n=(t.onChange,t.isEdit,t.data);t.column,t.rowIndex,t.searchText,t.isFirstEditableCell;return Object(y.jsx)("div",{style:te.root,children:Object(y.jsx)($t,{data:n,value:e})})},ne=function(t){var e=t.a,n=t.b,i=t.isAscending,r=e||0,a=n||0;return r>a?i?1:-1:r<a?i?-1:1:0},ie=function(){var t=window.location.hash;""!==t&&setTimeout((function(){var e=t.replace("#",""),n=document.getElementById(e);n&&n.scrollIntoView()}),100)},re=function(t){Object(v.a)(n,t);var e=Object(m.a)(n);function n(t){var i;return Object(h.a)(this,n),(i=e.call(this,t)).getRows=function(){var t=this,e=this.props.data;return this.props.filter&&(e=e.filter((function(e){return t.props.filter(e)}))),e},i.maxIconWidth=function(){return this.rows.map((function(t){return T(t.iconID).x})).reduce((function(t,e){return Math.max(t,e)}),32)+10+"px"},i.getColumns=function(){var t=1;return[{id:t++,field:"unique",label:"",pinned:!0,cellRenderer:K,sort:ne,width:this.maxIconWidth()},{id:t++,field:"name",label:"Name",pinned:!0,cellRenderer:ee,width:"300px"},{id:t++,field:"maxHP",label:"HP",sort:ne,width:"50px"},{id:t++,field:"attackChance",label:"AC",sort:ne,width:"50px"},{id:t++,field:"attackDamage",label:"Dmg",getValue:function(t){var e=t.value;t.column;return(((null===e||void 0===e?void 0:e.min)||0)+((null===e||void 0===e?void 0:e.max)||0))/2},sort:ne,cellRenderer:st("attackDamage"),width:"120px"},{id:t++,field:"criticalSkill",label:"Crit",sort:ne,width:"60px"},{id:t++,field:"criticalMultiplier",label:"Crit*",sort:ne,width:"55px"},{id:t++,field:"blockChance",label:"BC",sort:ne,width:"50px"},{id:t++,field:"damageResistance",label:"Res",sort:ne,width:"50px"},{id:t++,field:"maxAP",label:"AP",sort:ne,width:"50px"},{id:t++,field:"attackCost",label:"Atk Cost",sort:ne,width:"85px"},{id:t++,field:"moveCost",label:"Move Cost",sort:ne,width:"100px"},{id:t++,field:"exp",label:"XP",sort:ne,width:"75px"},{id:t++,field:"conditionsCount",label:"Conditions",sort:ne,width:"130px",cellRenderer:Y}]},i.state={},i.getColumns=i.getColumns.bind(Object(f.a)(i)),i.getRows=i.getRows.bind(Object(f.a)(i)),i.id="MonsterTable"+Math.random(),i}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var t=document.getElementById(this.id).offsetTop;this.setState({top:t,height:999999})}},{key:"render",value:function(){A.a.defaultProps.isPaginated=!1,A.a.defaultProps.minColumnResizeWidth=30,A.a.defaultProps.isVirtualScroll=!1,A.a.defaultProps.showSearch=!1,A.a.defaultProps.showColumnVisibilityManager=!1,this.rows=this.getRows();var t=this.getColumns();return Object(y.jsxs)("div",{id:this.id,children:[Object(y.jsx)(ct,{columns:t,size:this.state}),Object(y.jsx)(A.a,{columns:t,rows:this.rows,onLoad:ie},this.props.title)]})}}]),n}(r.a.Component),ae=function(t){Object(v.a)(n,t);var e=Object(m.a)(n);function n(t){return Object(h.a)(this,n),e.call(this,t)}return Object(p.a)(n,[{key:"render",value:function(){return Object(y.jsxs)("div",{children:[Object(y.jsxs)("ul",{className:"hr",children:[Lt("/monsters/","animal",this.props.location.pathname),Lt("/monsters/","insect",this.props.location.pathname),Lt("/monsters/","reptile",this.props.location.pathname),Lt("/monsters/","undead",this.props.location.pathname),Lt("/monsters/","giant",this.props.location.pathname),Lt("/monsters/","ghost",this.props.location.pathname),Lt("/monsters/","construct",this.props.location.pathname),Lt("/monsters/","humanoid",this.props.location.pathname),Lt("/monsters/","demon",this.props.location.pathname),Lt("/monsters/","other",this.props.location.pathname)]}),Object(y.jsxs)(b.c,{children:[oe("animal",this.props.data),oe("humanoid",this.props.data),oe("insect",this.props.data),oe("undead",this.props.data),oe("giant",this.props.data),oe("reptile",this.props.data),oe("construct",this.props.data),oe("demon",this.props.data),oe("ghost",this.props.data),Object(y.jsx)(C,{path:"/monsters/other",component:re,data:this.props.data,title:"Other",filter:function(t){return"/monsters/other#"==t.rootLink}})]})]})}}]),n}(r.a.Component),oe=function(t,e){var n="/monsters/"+t;return Object(y.jsx)(C,{path:n,component:re,data:e,title:t,filter:function(e){return!(!e.attackChance&&!e.maxHP)&&e.monsterClass==t}})},se=function(t){Object(v.a)(n,t);var e=Object(m.a)(n);function n(t){var i;return Object(h.a)(this,n),(i=e.call(this,t)).getKeys=function(){return[["",function(t){return Object(y.jsx)(N,{data:t.link})},{width:40}],["Name",function(t){return le(t.link)},{textAlign:"left",width:250}],["Quantity",function(t){return ue(t.quantity)},{width:40}],["Price",function(t){return t.link.priceCost+" gold"},{textAlign:"right"}],["Buy",function(t){return de(t.link,-.15)+" gold"},{textAlign:"right"}]]},i.getHeader=function(){return this.getKeys().map((function(t,e){var n=t.length>=2?t[2]:{};return Object(y.jsxs)("th",{style:n,children:[" ",t[0]," "]},t[0])}))},i.getRowsData=function(t){var e=this;this.props.filter&&this.props.filter.length>0&&(t=t.filter((function(t){return e.props.filter.indexOf(t.category)>-1})));var n=this.getKeys();return t.map((function(t,e){return Object(y.jsx)("tr",{children:Object(y.jsx)(ce,{data:t,keys:n},e)},e)}))},i.getHeader=i.getHeader.bind(Object(f.a)(i)),i.getRowsData=i.getRowsData.bind(Object(f.a)(i)),i.getKeys=i.getKeys.bind(Object(f.a)(i)),i}return Object(p.a)(n,[{key:"render",value:function(){var t=this.props.data;return t?Object(y.jsxs)("table",{style:{width:500},children:[Object(y.jsx)("thead",{style:{display:"none"},children:Object(y.jsx)("tr",{children:this.getHeader()})}),Object(y.jsx)("tbody",{children:this.getRowsData(t)})]}):""}}]),n}(r.a.Component),ce=function(t){return t.keys.map((function(e,n){var i=e.length>=2?e[2]:{};return Object(y.jsx)("td",{style:i,children:e[1](t.data)},e[0])}))},le=function(t){var e=t.rootLink+t.id;return Object(y.jsx)(I.a,{to:e,children:t.name})},ue=function(t){return t.max==t.min?t.max:t.min+"-"+t.max},de=function(t,e){var n=t.baseMarketCost;return n+Math.trunc(n*e)},he=function(t){Object(v.a)(n,t);var e=Object(m.a)(n);function n(t){var i;return Object(h.a)(this,n),(i=e.call(this,t)).getKeys=function(){return[["",function(t){return Object(y.jsx)(N,{data:t.link})},{width:40}],["Name",function(t){return fe(t.link)},{textAlign:"left",width:250}],["Quantity",function(t){return ve(t.quantity)}],["By quest",function(t){return"give by quest"}]]},i.getHeader=function(){return this.getKeys().map((function(t,e){var n=t.length>=2?t[2]:{};return Object(y.jsxs)("th",{style:n,children:[" ",t[0]," "]},t[0])}))},i.getRowsData=function(t){var e=this;this.props.filter&&this.props.filter.length>0&&(t=t.filter((function(t){return e.props.filter.indexOf(t.category)>-1})));var n=this.getKeys();return t.map((function(t,e){return Object(y.jsx)("tr",{children:Object(y.jsx)(pe,{data:t,keys:n},e)},e)}))},i.getHeader=i.getHeader.bind(Object(f.a)(i)),i.getRowsData=i.getRowsData.bind(Object(f.a)(i)),i.getKeys=i.getKeys.bind(Object(f.a)(i)),i}return Object(p.a)(n,[{key:"render",value:function(){var t=this.props.data;return t?Object(y.jsxs)("table",{style:{width:500},children:[Object(y.jsx)("thead",{style:{display:"none"},children:Object(y.jsx)("tr",{children:this.getHeader()})}),Object(y.jsx)("tbody",{children:this.getRowsData(t)})]}):""}}]),n}(r.a.Component),pe=function(t){return t.keys.map((function(e,n){var i=e.length>=2?e[2]:{};return Object(y.jsx)("td",{style:i,children:e[1](t.data)},e[0])}))},fe=function(t){var e=t.rootLink+t.id;return Object(y.jsx)(I.a,{to:e,children:t.name})},ve=function(t){return(null===t||void 0===t?void 0:t.max)==(null===t||void 0===t?void 0:t.min)?null===t||void 0===t?void 0:t.max:t.min+"-"+t.max},me=function(t){Object(v.a)(n,t);var e=Object(m.a)(n);function n(t){var i;return Object(h.a)(this,n),(i=e.call(this,t)).getKeys=function(){return[["",function(t){return ge(t)},{width:40}],["Name",function(t){return t.name},{textAlign:"left"}]]},i.getHeader=function(){return this.getKeys().map((function(t,e){var n=t.length>=2?t[2]:{};return Object(y.jsxs)("th",{style:n,children:[" ",t[0]," "]},t[0])}))},i.getRowsData=function(t){var e=this;this.props.filter&&this.props.filter.length>0&&(t=t.filter((function(t){return e.props.filter.indexOf(t.category)>-1})));var n=this.getKeys();return t.map((function(t,e){return Object(y.jsx)("tr",{children:Object(y.jsx)(be,{data:t,keys:n},e)},e)}))},i.getHeader=i.getHeader.bind(Object(f.a)(i)),i.getRowsData=i.getRowsData.bind(Object(f.a)(i)),i.getKeys=i.getKeys.bind(Object(f.a)(i)),i}return Object(p.a)(n,[{key:"render",value:function(){var t=this.props.data;return t?Object(y.jsxs)("table",{style:{width:500},children:[Object(y.jsx)("thead",{style:{display:"none"},children:Object(y.jsx)("tr",{children:this.getHeader()})}),Object(y.jsx)("tbody",{children:this.getRowsData(t)})]}):""}}]),n}(r.a.Component),be=function(t){return t.keys.map((function(e,n){var i=e.length>=2?e[2]:{};return Object(y.jsx)("td",{style:i,children:e[1](t.data)},e[0])}))},ge=function(t){var e=t.rootLink+t.id;return Object(y.jsx)(I.a,{to:e,children:Object(y.jsx)("img",{title:t.id,src:"/image/ui_icon_quest.png"})})},je=(n(50),function(t,e,n){return n.indexOf(t)==e}),xe=function(t){Object(v.a)(n,t);var e=Object(m.a)(n);function n(t){var i;Object(h.a)(this,n);var r=(i=e.call(this,t)).props.data.spawnGroupLinks;return r.length>0&&(r=r[0].maps.filter(je)),i.fixedHeight=19.8+29.8*(r.length-1),i.state={expanded:window.location.href.endsWith(i.props.data.id.toLowerCase())},i.toggleExpand=i.toggleExpand.bind(Object(f.a)(i)),i}return Object(p.a)(n,[{key:"toggleExpand",value:function(){this.setState({expanded:!this.state.expanded})}},{key:"render",value:function(){var t,e,n,i,a=this.props.data,o=this.props.value,s=null===(t=a.droplistLink)||void 0===t?void 0:t.items,c=a.questLinks,l=[];return null===(e=a.questItemsLinks)||void 0===e||e.forEach((function(t){return l.push(t)})),null===(n=a.questDropListLinks)||void 0===n||null===(i=n.flatMap((function(t){return t.link.items})))||void 0===i||i.forEach((function(t){return l.push(t)})),s||null!==c&&void 0!==c&&c.length||null!==l&&void 0!==l&&l.length?Object(y.jsxs)(r.a.Fragment,{children:[Object(y.jsxs)("div",{className:"expandedLink",style:{height:this.fixedHeight},onClick:this.toggleExpand,children:[Object(y.jsx)("img",{src:"../image/sort_desc.png"}),Object(y.jsx)("span",{className:"expandedText",children:o})]}),Object(y.jsxs)("div",{className:"expandedTable",children:[this.state.expanded&&Object(y.jsx)(se,{data:s}),this.state.expanded&&Object(y.jsx)(he,{data:l}),this.state.expanded&&Object(y.jsx)(me,{data:c})]})]}):Object(y.jsx)(r.a.Fragment,{children:Object(y.jsxs)("div",{style:{display:"flex"},children:[Object(y.jsx)("div",{style:{width:19}}),Object(y.jsx)("span",{className:"expandedText",children:o})]})})}}]),n}(r.a.Component),Oe={root:{position:"relative",padding:"10px",display:"block",width:"100%",height:"100%",alignItems:"center"}},ye=function(t){t.tableManager;var e=t.value,n=(t.onChange,t.isEdit,t.data);t.column,t.rowIndex,t.searchText,t.isFirstEditableCell;return Object(y.jsx)("div",{style:Oe.root,children:Object(y.jsx)(xe,{data:n,value:e})})};function we(t,e,n){return n.indexOf(t)==e}var ke=function(t){var e;if(!t)return"";var n=null===t||void 0===t||null===(e=t.flatMap((function(t){return t.maps})))||void 0===e?void 0:e.filter(we);return null===n||void 0===n?void 0:n.map((function(e,n){var i=e.rootLink+e.name+"#"+t[0].key;return Object(y.jsx)(I.a,{to:i,className:"npc-location-cell",children:e.name},n)}))},Ce=function(t){t.tableManager,t.value,t.onChange,t.isEdit;var e=t.data;t.column,t.rowIndex,t.searchText,t.isFirstEditableCell;return Object(y.jsx)("div",{children:ke(e.spawnGroupLinks)})},Ee=function(t){var e,n,i,r,a=t.a,o=t.b,s=t.isAscending,c=(null===(e=a[0])||void 0===e?void 0:e.maps)&&(null===(n=a[0].maps[0])||void 0===n?void 0:n.name)||"",l=(null===(i=o[0])||void 0===i?void 0:i.maps)&&(null===(r=o[0].maps[0])||void 0===r?void 0:r.name)||"";return c>l?s?1:-1:c<l?s?-1:1:0},Me=function(t){var e=t.a,n=t.b,i=t.isAscending,r=e||0,a=n||0;return r>a?i?1:-1:r<a?i?-1:1:0},Re=function(){var t=window.location.hash;""!==t&&setTimeout((function(){var e=t.replace("#",""),n=document.getElementById(e);n&&n.scrollIntoView()}),100)},Le=function(t){Object(v.a)(n,t);var e=Object(m.a)(n);function n(t){var i;return Object(h.a)(this,n),(i=e.call(this,t)).getRows=function(){var t=this,e=this.props.data;return this.props.filter&&(e=e.filter((function(e){return t.props.filter(e)}))),e},i.maxIconWidth=function(){return this.rows.map((function(t){return T(t.iconID).x})).reduce((function(t,e){return Math.max(t,e)}),32)+10+"px"},i.getColumns=function(){var t=1;return[{id:t++,field:"unique",label:"",pinned:!0,cellRenderer:K,sort:Me,width:this.maxIconWidth()},{id:t++,field:"name",label:"Name",pinned:!0,cellRenderer:ye,width:"300px"},{id:t++,field:"spawnGroupLinks",label:"Locations",sort:Ee,cellRenderer:Ce,width:"300px"},{id:t++,field:"questLinks",label:"questLinks",getValue:function(t){var e=t.value;t.column;return null===e||void 0===e?void 0:e.length},width:"300px"}]},i.state={},i.getColumns=i.getColumns.bind(Object(f.a)(i)),i.getRows=i.getRows.bind(Object(f.a)(i)),i.id="NpcTable"+Math.random(),i}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var t=document.getElementById(this.id).offsetTop;this.setState({top:t,height:999999})}},{key:"render",value:function(){A.a.defaultProps.isPaginated=!1,A.a.defaultProps.minColumnResizeWidth=30,A.a.defaultProps.isVirtualScroll=!1,A.a.defaultProps.showSearch=!1,A.a.defaultProps.showColumnVisibilityManager=!1,this.rows=this.getRows();var t=this.getColumns();return Object(y.jsxs)("div",{id:this.id,children:[Object(y.jsx)(ct,{columns:t,size:this.state}),Object(y.jsx)(A.a,{columns:t,rows:this.rows,onLoad:Re})]})}}]),n}(r.a.Component),Pe=function(t){Object(v.a)(n,t);var e=Object(m.a)(n);function n(t){return Object(h.a)(this,n),e.call(this,t)}return Object(p.a)(n,[{key:"render",value:function(){return Object(y.jsxs)("div",{children:[Object(y.jsxs)("ul",{className:"hr",children:[Lt("/npc/","merchant",this.props.location.pathname),Lt("/npc/","A-G",this.props.location.pathname),Lt("/npc/","H-R",this.props.location.pathname),Lt("/npc/","S-Z",this.props.location.pathname)]}),Object(y.jsxs)(b.c,{children:[Object(y.jsx)(C,{path:"/npc/a-g",component:Le,data:this.props.data,title:"NPC",filter:function(t){return"/npc/a-g#"==t.rootLink}}),Object(y.jsx)(C,{path:"/npc/h-r",component:Le,data:this.props.data,title:"NPC",filter:function(t){return"/npc/h-r#"==t.rootLink}}),Object(y.jsx)(C,{path:"/npc/s-z",component:Le,data:this.props.data,title:"NPC",filter:function(t){return"/npc/s-z#"==t.rootLink}}),Object(y.jsx)(C,{path:"/npc/merchant",component:Le,data:this.props.data,title:"Merchant",filter:function(t){return"/npc/merchant#"==t.rootLink}})]})]})}}]),n}(r.a.Component),Se=function(t){Object(v.a)(n,t);var e=Object(m.a)(n);function n(t){var i;return Object(h.a)(this,n),(i=e.call(this,t)).getKeys=function(){return[["",function(t){return Object(y.jsx)(N,{data:t})}],["Name",function(t){return Ae(t)},{textAlign:"left"}]]},i.getHeader=function(){return this.getKeys().map((function(t,e){var n=t.length>=2?t[2]:{};return Object(y.jsxs)("th",{style:n,children:[" ",t[0]," "]},t[0])}))},i.getRowsData=function(){var t=this,e=this.props.data;if(!e)return"";this.props.filter&&this.props.filter.length>0&&(e=e.filter((function(e){return t.props.filter.indexOf(e.category)>-1})));var n=this.getKeys();return e.map((function(t,e){return Object(y.jsx)("tr",{children:Object(y.jsx)(De,{data:t,keys:n},e)},e)}))},i.getHeader=i.getHeader.bind(Object(f.a)(i)),i.getRowsData=i.getRowsData.bind(Object(f.a)(i)),i.getKeys=i.getKeys.bind(Object(f.a)(i)),i}return Object(p.a)(n,[{key:"render",value:function(){return Object(y.jsxs)("table",{style:{width:400},children:[Object(y.jsx)("thead",{style:{display:"none"},children:Object(y.jsx)("tr",{children:this.getHeader()})}),Object(y.jsx)("tbody",{children:this.getRowsData()})]})}}]),n}(r.a.Component),De=function(t){return t.keys.map((function(e,n){var i=e.length>=2?e[2]:{};return Object(y.jsx)("td",{style:i,children:e[1](t.data)},e[0])}))},Ae=function(t){var e=t.rootLink+t.id;return Object(y.jsx)(I.a,{to:e,children:t.name})},Ie={root:{marginLeft:50,width:1e3,textAlign:"left"}},qe=function(t){Object(v.a)(n,t);var e=Object(m.a)(n);function n(t){var i;return Object(h.a)(this,n),(i=e.call(this,t)).getRowsData=function(){var t=this.props.data;return t?t.sort((function(t,e){return t.progress-e.progress})).map((function(t,e){var n=t.finishesQuest?"end":t.rewardExperience?"exp":void 0;return Object(y.jsxs)("li",{className:n,children:[t.logText,!!t.rewardExperience&&Object(y.jsxs)("b",{children:[" (",t.rewardExperience,"XP)"]}),!!t.finishesQuest&&Object(y.jsx)("b",{children:"[End of quest]"})]},e)})):""},i}return Object(p.a)(n,[{key:"render",value:function(){return Object(y.jsx)("ul",{style:Ie.root,children:this.getRowsData()})}}]),n}(r.a.Component),Te={text:{marginLeft:10,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},table:{paddingTop:10,marginLeft:-10}},He=function(t){Object(v.a)(n,t);var e=Object(m.a)(n);function n(t){var i;return Object(h.a)(this,n),(i=e.call(this,t)).state={expanded:window.location.href.endsWith(i.props.data.id.toLowerCase())},i.toggleExpand=i.toggleExpand.bind(Object(f.a)(i)),i}return Object(p.a)(n,[{key:"toggleExpand",value:function(){this.setState({expanded:!this.state.expanded})}},{key:"render",value:function(){var t=this.props.data,e=this.props.value,n=t.stages,i=t.links;return i||n?Object(y.jsxs)(r.a.Fragment,{children:[Object(y.jsxs)("div",{style:{display:"flex"},onClick:this.toggleExpand,children:[Object(y.jsx)("img",{src:"../image/sort_desc.png"}),Object(y.jsx)("span",{style:Te.text,children:e})]}),Object(y.jsxs)("div",{style:Te.table,children:[this.state.expanded&&Object(y.jsx)(qe,{data:n}),this.state.expanded&&Object(y.jsx)(Se,{data:i})]})]}):Object(y.jsx)(r.a.Fragment,{children:Object(y.jsxs)("div",{style:{display:"flex"},children:[Object(y.jsx)("div",{style:{width:19}}),Object(y.jsx)("span",{style:Te.text,children:e})]})})}}]),n}(r.a.Component),Ne={root:{position:"relative",padding:"10px",display:"block",width:"100%",height:"100%",alignItems:"center"}},_e=function(t){t.tableManager;var e=t.value,n=(t.onChange,t.isEdit,t.data);t.column,t.rowIndex,t.searchText,t.isFirstEditableCell;return Object(y.jsx)("div",{style:Ne.root,children:Object(y.jsx)(He,{data:n,value:e})})},Ve=function(t){var e=t.a,n=t.b,i=t.isAscending,r=e||"",a=n||"";return r>a?i?1:-1:r<a?i?-1:1:0},Be=function(t){var e=t.a,n=t.b,i=t.isAscending,r=["ordinary","quest","rare","extraordinary","legendary",""],a=r.indexOf(e),o=r.indexOf(n);return a>o?i?1:-1:a<o?i?-1:1:0},Ke=function(){var t=window.location.hash;""!==t&&setTimeout((function(){var e=t.replace("#",""),n=document.getElementById(e);n&&n.scrollIntoView()}),100)},ze=function(t){Object(v.a)(n,t);var e=Object(m.a)(n);function n(t){var i;return Object(h.a)(this,n),(i=e.call(this,t)).getRows=function(){var t=this,e=this.props.data;return this.props.filter&&(e=e.filter((function(e){return t.props.filter(e)}))),e},i.getColumns=function(){var t=1;return[{id:t++,field:"id",label:"",pinned:!0,cellRenderer:Fe,sort:Be,width:"50px"},{id:t++,field:"name",label:"Name",pinned:!0,cellRenderer:_e,width:"300px"},{id:t++,field:"stages",label:"Text",width:"800px",getValue:function(t){var e,n=t.value;t.column;return null===(e=n[0])||void 0===e?void 0:e.logText},cellRenderer:Ue,sort:Ve}]},i.state={},i.getColumns=i.getColumns.bind(Object(f.a)(i)),i.getRows=i.getRows.bind(Object(f.a)(i)),i.id="PotionTable"+Math.random(),i}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var t=document.getElementById(this.id).offsetTop;this.setState({top:t,height:999999})}},{key:"render",value:function(){A.a.defaultProps.isPaginated=!1,A.a.defaultProps.minColumnResizeWidth=30,A.a.defaultProps.isVirtualScroll=!1,A.a.defaultProps.showSearch=!1,A.a.defaultProps.showColumnVisibilityManager=!1,this.rows=this.getRows();var t=this.getColumns();return Object(y.jsxs)("div",{id:this.id,children:[Object(y.jsx)(ct,{columns:t,size:this.state}),Object(y.jsx)(A.a,{columns:t,rows:this.rows,onLoad:Ke})]})}}]),n}(r.a.Component),Fe=function(t){t.tableManager;var e=t.value,n=(t.onChange,t.isEdit,t.data),i=(t.column,t.rowIndex,t.searchText,t.isFirstEditableCell,n.rootLink+n.id);return Object(y.jsxs)(I.a,{to:i,children:[Object(y.jsx)("div",{id:e,className:"TableAncor"}),Object(y.jsx)("img",{style:{paddingLeft:1,paddingTop:5},src:"/image/ui_icon_quest.png"})]})},Ue=function(t){t.tableManager;var e=t.value;t.onChange,t.isEdit,t.data,t.column,t.rowIndex,t.searchText,t.isFirstEditableCell;return Object(y.jsx)("p",{style:{textAlign:"left",marginLeft:10,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e})},We=function(t){Object(v.a)(n,t);var e=Object(m.a)(n);function n(t){return Object(h.a)(this,n),e.call(this,t)}return Object(p.a)(n,[{key:"render",value:function(){return Object(y.jsx)("div",{children:Object(y.jsx)(ze,{data:this.props.data,title:"Usable",filter:function(t){return t.showInLog&&"base_nondisplay"!=t.id}})})}}]),n}(r.a.Component),Ge=function(t){Object(v.a)(n,t);var e=Object(m.a)(n);function n(t){return Object(h.a)(this,n),e.call(this,t)}return Object(p.a)(n,[{key:"render",value:function(){var t=this.props,e=t.data,n=t.zoom,i=e.tileset;if(!i)return Object(y.jsx)("div",{style:{position:"absolute",top:this.props.y,left:this.props.x,width:32,height:32,backgroundColor:"red",opacity:.5}});var r=i.name,a=e.localid,o=Je(r),s=i.tilewidth*n/32,c=i.tileheight*n/32,l=Ye(a,i,s,c,n),u={margin:"".concat(l.y,"px 0 0 ").concat(l.x,"px"),width:"".concat(l.w,"px"),display:"block"};return Object(y.jsx)("div",{style:{width:"".concat(s,"px"),height:"".concat(c,"px"),overflow:"hidden",position:"absolute",left:this.props.x,top:this.props.y},children:Object(y.jsx)("img",{src:o,style:u})})}}]),n}(r.a.Component),Je=function(t){if(t)return"/drawable/"+t+".png"},Ye=function(t,e,n,i,r){var a=e.width*r/32,o=e.width/e.tilewidth,s=-t%o*n;return{x:s,y:(-t*i-s)/o,w:a}},Xe=function(t,e){return t=t.spawngroup||t.name||"",e=e.spawngroup||e.name||"",t.localeCompare(e)},Qe=function(t){Object(v.a)(n,t);var e=Object(m.a)(n);function n(t){var i;return Object(h.a)(this,n),(i=e.call(this,t)).drawLayerByName=function(t,e,n){var i=t.field;if(!i)return"";var r=t.layerList.filter((function(t,e){return t.name==n}));return i.map((function(t,n){return Object(y.jsx)(Ze,{data:t,layers:r,y:n,zoom:e},n)}))},i.renderSpawn=function(t,e){var n=this;if(!t)return"";var i=0;return t.sort(Xe).map((function(t){var r,a=t.link;if(!a)return"";var o="mapspawn",s=null===(r=n.props.location)||void 0===r?void 0:r.hash;s!="#"+t.name&&s!="#"+t.spawngroup||(o+=" active");for(var c=(t.quantity||1)-0,l=[],u=0;u<c;u++){i++;var d={left:t.x+tn(t.width-32),top:t.y+tn(t.height-32)},h=a.monsters[i%a.monsters.length];if(h){var p=h.id+"_"+i;l.push(Object(y.jsx)("div",{style:d,className:o,title:h.name,children:Object(y.jsx)(N,{data:h,zoom:e,noBackground:"true"})},p))}}return l}))},i.renderScript=function(t,e){var n=this;return t?t.map((function(t){var e,i="script";(null===(e=n.props.location)||void 0===e?void 0:e.hash)=="#"+t.name&&(i+=" active");var r=[],a={left:t.x,top:t.y,width:t.width,height:t.height},o=t.name;return r.push(Object(y.jsx)("div",{style:a,className:i,title:t.name},o)),r})):""},i.renderMapchange=function(t,e){var n=this;return t?t.map((function(t,e){var i,r={marginLeft:t.x,marginTop:t.y,width:t.width,height:t.height},a="mapchange";(null===(i=n.props.location)||void 0===i?void 0:i.hash)=="#"+t.name&&(a+=" active");var o="/map/"+t.map+"#"+t.place;return Object(y.jsx)(I.a,{style:r,title:t.map,to:o,className:a},e)})):""},i.renderSign=function(t,e){return t?t.map((function(t,e){var n={marginLeft:t.x,marginTop:t.y,width:t.width,height:t.height};return Object(y.jsx)("div",{style:n,title:t.message,className:"sign"},e)})):""},i.renderObjectgroups=function(t,e){return Object(y.jsxs)("div",{className:"objectgroups",children:[this.renderScript(null===t||void 0===t?void 0:t.scripts),this.renderScript(null===t||void 0===t?void 0:t.containers),this.renderSpawn(null===t||void 0===t?void 0:t.spawn),this.renderMapchange(null===t||void 0===t?void 0:t.mapchange),this.renderSign(null===t||void 0===t?void 0:t.signs)]})},i}return Object(p.a)(n,[{key:"render",value:function(){var t=this.props.data,e=this.props.renderObjectgroupsData,n=this.props.zoom||32;if(!t)return"Wrong URL!";e&&g(this.props.data);var i=n*t.width,r=n*t.height;return Object(y.jsxs)("div",{style:{backgroundColor:"white",width:i,height:r,position:"relative",margin:"auto"},children:[this.drawLayerByName(t,n,"base"),this.drawLayerByName(t,n,"ground"),this.drawLayerByName(t,n,"objects"),this.drawLayerByName(t,n,"objects_1"),this.drawLayerByName(t,n,"above"),this.drawLayerByName(t,n,"top"),e&&Object(y.jsx)("div",{style:{position:"absolute"},children:this.renderObjectgroups(t.objectgroups,n)})]})}}]),n}(r.a.Component),Ze=function(t){var e=t.data,n=t.layers,i=t.y,r=t.zoom;return e.map((function(t,e){return Object(y.jsx)($e,{data:t,layers:n,x:e*r,y:i*r,zoom:r},e)}))},$e=function(t){var e=t.data,n=t.layers,i=t.x,r=t.y,a=t.zoom;return n.map((function(t){return e[t.name]})).filter((function(t){return t})).map((function(t,e){return Object(y.jsx)(Ge,{data:t,x:i,y:r,zoom:a},e)}))};function tn(t){return Math.floor(Math.random()*(t+1))}var en=function(t){Object(v.a)(n,t);var e=Object(m.a)(n);function n(t){var i;return Object(h.a)(this,n),(i=e.call(this,t)).getRowsData=function(t,e){var n=t.maps;return n?n.map((function(n,i){var r={left:(n.x-t.x)*e,top:(n.y-t.y)*e,width:n.link.width*e,height:n.link.height*e},a={width:n.link.width*e,height:n.link.height*e},o="/map/"+n.id,s="/backgrounds/"+n.id+".jpg";return Object(y.jsx)(E.b,{style:r,title:n.id,to:o,children:Object(y.jsx)("img",{style:a,src:s})},i)})):""},i}return Object(p.a)(n,[{key:"render",value:function(){var t=this.props,e=t.globalMap,n=t.location.pathname.substring("/map/g/".length);n||(n="world1");var i=e.segmentsMap[n];if(!i)return"Wrong URL!";g(i);var r=i.maps.length>100?2:i.maps.length>18?6:i.maps.length>3?8:10,a={height:i.height*r};return Object(y.jsx)("div",{style:a,className:"GlobalMap",children:this.getRowsData(i,r)})}}]),n}(r.a.Component),nn=function(t){Object(v.a)(n,t);var e=Object(m.a)(n);function n(t){var i;return Object(h.a)(this,n),(i=e.call(this,t)).getSegmentLinks=function(t,e){var n=t.segments;return n?n.map((function(t,n){return Lt("/map/g/",t.id,e,t.id+" ("+t.maps.length+")")})):""},i}return Object(p.a)(n,[{key:"render",value:function(){var t=this.props,e=t.data,n=t.globalMap,i=t.location,r=i.pathname.substring("/map/".length);return e?Object(y.jsxs)("div",{children:[Object(y.jsxs)("ul",{className:"hr",children:[Object(y.jsx)("img",{src:"/image/sort_desc.png",style:{float:"left",marginTop:-10},onClick:this.props.toggleExpand}),this.props.expanded&&this.getSegmentLinks(n,i.pathname)]}),Object(y.jsxs)(b.c,{children:[!r&&Object(y.jsx)(en,{data:e,globalMap:n}),Object(y.jsx)(C,{path:"/map/g",component:en,data:e,globalMap:n}),Object(y.jsx)(Qe,{data:e[r],renderObjectgroupsData:"true"})]})]}):""}}]),n}(r.a.Component),rn=function(t,e){if(!t)return 0;var n=t.increaseBlockChance,i=t.increaseAttackChance,r=t.increaseAttackCost,a=t.increaseDamageResistance,o=t.increaseAttackDamage,s=t.increaseCriticalSkill,c=t.setCriticalMultiplier,l=t.increaseMaxHP,u=t.increaseMaxAP,d=t.increaseMoveCost,h=t.increaseUseItemCost,p=t.increaseReequipCost;return[3*Math.pow(Math.max(0,n),2.5)+28*n,.4*Math.pow(Math.max(0,i),2.5)-6*Math.pow(Math.abs(Math.min(0,i)),2.7),e?.2*Math.pow(10/r,8)-25*r:-3125*r,1325*a,e?10*Math.pow(Math.max(0,null===o||void 0===o?void 0:o.min),2.5):10*Math.pow(Math.max(0,null===o||void 0===o?void 0:o.min),3)+80*(null===o||void 0===o?void 0:o.min),e?2*Math.pow(Math.max(0,null===o||void 0===o?void 0:o.max),2.1):2*Math.pow(Math.max(0,null===o||void 0===o?void 0:o.max),3)+20*(null===o||void 0===o?void 0:o.max),2.2*Math.pow(s,3),50*Math.pow(Math.max(0,c),2),30*Math.pow(Math.max(0,l),1.2)+70*l,50*Math.pow(Math.max(0,u),3)+750*u,510*Math.pow(Math.max(0,-d),2.5)-350*d,915*Math.pow(Math.max(0,-h),3)-430*h,450*Math.pow(Math.max(0,-p),2)-250*p].reduce((function(t,e){return Math.trunc(t||0)+Math.trunc(e||0)}),0)},an=function(t){if(!t)return 0;var e=sn(t.increaseCurrentHP);if(0==e)return 0;var n=.1*on(e)*Math.pow(Math.abs(e),2)+3*e;return Math.trunc(n)},on=function(t){return t>0?1:t<0?-1:0},sn=function(t){return(((null===t||void 0===t?void 0:t.max)||0)+((null===t||void 0===t?void 0:t.min)||0))/2},cn=function(t,e,n){if(!t)return 0;var i=sn(t.increaseCurrentHP),r=sn(t.increaseCurrentAP);if(0==i&&0==r)return 0;var a=e*Math.pow(Math.max(0,i),2.5)+450*i,o=n*Math.pow(Math.max(0,r),2.5)+300*r;return Math.trunc(a)+Math.trunc(o)},ln=function(t){return cn(t,2770,3100)},un=function(t){return cn(t,923,1033)},dn=function(t,e){if(t.hasManualPrice)return t.baseMarketCost;var n=rn(t.equipEffect,e),i=an(t.useEffect),r=ln(t.hitEffect),a=un(t.killEffect);return Math.max(1,n+i+r+a)};function hn(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t/100}var pn=function(t){var e,n=t.attackCost,i=t.attackChance,r=t.attackDamage,a=t.criticalSkill,o=t.criticalMultiplier,s=t.blockChance,c=t.damageResistance,l=t.hitEffect,u=t.maxHP,d=t.maxAP,h=r?(r.min+r.max)/2:0,p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e=arguments.length>1?arguments[1]:void 0;return Math.floor(t/e)}(d,n)*hn(i)*h*(1+hn(a)*(o||0)),f=u*(1+hn(s))+9*(c||0),v=0;return null!==l&&void 0!==l&&null!==(e=l.conditionsTarget)&&void 0!==e&&e.length&&(v+=50),Math.ceil(.7*(3*p+f))+v};n(51);function fn(t){var e=t.maxProgress,n=t.progress,i=(e-n)/e*100;return Object(y.jsx)("div",{className:"loading-base",children:Object(y.jsx)("div",{className:"loading-container",children:void 0===t.progress?Object(y.jsx)("h3",{children:"Loading TMS..."}):Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{className:"progress",children:Object(y.jsx)("div",{className:"progress-value",style:{width:"".concat(i,"%")}})}),Object(y.jsxs)("h3",{children:["Loading JSON...",e-n," / ",e]})]})})})}var vn=function(t){Object(v.a)(n,t);var e=Object(m.a)(n);function n(t){var i;return Object(h.a)(this,n),(i=e.call(this,t)).getJsonResources=function(){var t=Object(d.a)(Object(u.a)().mark((function t(e){var n,r,a;return Object(u.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={progress:0},r=[[e.loadresource_itemcategories,"itemcategories"],[e.loadresource_items,"items"],[e.loadresource_actorconditions,"actorconditions"],[e.loadresource_monsters,"monsters"],[e.loadresource_droplists,"droplists"],[e.loadresource_conversationlists,"conversations"],[e.loadresource_quests,"quests"]],a=r.map((function(t){return t[0].length})).reduce((function(t,e){return t+e}),0),i.setState({progress:a,maxProgress:a}),t.next=6,Promise.all(r.map((function(t){var e=Object(c.a)(t,2),r=e[0],a=e[1];return i.getJsonResource(r,a,n)})));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),i.getJsonResource=function(){var t=Object(d.a)(Object(u.a)().mark((function t(e,n,r){var a;return Object(u.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(f.a)(i),r.progress+=e.length,t.next=4,Promise.all(e.map((function(t){return a.getJsonData(t.replace("@","/"),n,a,r)})));case 4:i.setState({progress:i.state.progress-e.length});case 5:case"end":return t.stop()}}),t)})));return function(e,n,i){return t.apply(this,arguments)}}(),i.countConditions=function(t,e,n){var i,r,a,o=(null===t||void 0===t||null===(i=t.addedConditions)||void 0===i?void 0:i.length)||0;return o+=(null===t||void 0===t||null===(r=t.conditionsTarget)||void 0===r?void 0:r.length)||0,o+=(null===t||void 0===t||null===(a=t.conditionsSource)||void 0===a?void 0:a.length)||0,o+=null!==t&&void 0!==t&&t.increaseCurrentAP?1:0,o+=null!==t&&void 0!==t&&t.increaseCurrentHP?.9:0},i.linkConditions=function(t,e,n){var r,a,o;null===t||void 0===t||null===(r=t.addedConditions)||void 0===r||r.forEach((function(t){return i.linkCondition(t,e,n,"On source")})),null===t||void 0===t||null===(a=t.conditionsTarget)||void 0===a||a.forEach((function(t){return i.linkCondition(t,e,n,"On target")})),null===t||void 0===t||null===(o=t.conditionsSource)||void 0===o||o.forEach((function(t){return i.linkCondition(t,e,n,"On source")}))},i.getStub=function(t,e,n,i){var r=t.id,a=t.name,o=t.category,s=t.iconID,c=t.displaytype,l=t.rootLink;return{id:r,name:a,category:o,iconID:s,displaytype:c,chance:e.chance,duration:e.duration,magnitude:e.magnitude,type:n,aim:i,rootLink:l}},i.linkCondition=function(t,e,n,r){t.link=i.temp.maps.conditions[t.condition],t.link.links=t.link.links||[];var a=i.getStub(e,t,n,r);t.link.links.push(a)},i.getItemRootLink=function(t){return"use"==t.actionType?"/items/use#":"equip"==t.actionType?"/items/"+t.inventorySlot+"#":"/items/other#"},i.isMerchant=function(t){var e,n;return!(null===(e=t.droplistLink)||void 0===e||null===(n=e.items)||void 0===n||!n.length)&&(t.droplistLink.items.length>1||"gold"!=t.droplistLink.items[0].itemID)},i.getMonsterRootLink=function(t){var e=t.monsterClass||"other";return t.attackChance||t.maxHP?"/monsters/"+e+"#":i.isMerchant(t)?"/npc/merchant#":t.name.charAt(0).toUpperCase()<="G"?"/npc/a-g#":t.name.charAt(0).toUpperCase()<="R"?"/npc/h-r#":"/npc/s-z#"},i.getItemIconBg=function(t){switch(t.displaytype){case"legendary":return-4;case"extraordinary":return-2;case"rare":return-3;case"quest":return-1;default:return 1}},i.linkConversation=function(t){var e,n,r,a=t.conversationLink;if(a){var o={};i.linkConversationInner(a,o),o=Object.values(o),t.rewards=o.filter((function(t){var e;return null===(e=t.rewards)||void 0===e?void 0:e.length})),t.requires=o.flatMap((function(t){return t.replies})).filter((function(t){var e;return null===t||void 0===t||null===(e=t.requires)||void 0===e?void 0:e.length})),t.questLinks=t.rewards.flatMap((function(t){return t.rewards})).map((function(t){return t.link})).filter((function(t){return t})).filter(mn).filter((function(t){return!!t.showInLog})),t.questItemsLinks=t.rewards.flatMap((function(t){return t.rewards})).filter((function(t){return["inventoryKeep","inventoryRemove","wear","usedItem","wearRemove","giveItem"].indexOf(t.rewardType)>=0})),t.questDropListLinks=t.rewards.flatMap((function(t){return t.rewards})).filter((function(t){return["dropList"].indexOf(t.rewardType)>=0})),null===(e=t.questLinks)||void 0===e||e.forEach((function(e){e.links=e.links||[],e.links.push(t)})),null===(n=t.questItemsLinks)||void 0===n||n.forEach((function(e){var n=e.link;n.droplists=n.droplists||[];var i={droplist:{links:[t]},type:"quest"};n.droplists.push(i)})),null===(r=t.questDropListLinks)||void 0===r||r.forEach((function(e){var n=e.link;n.links=n.links||[],n.links.push(t),n.type="quest"}))}},i.getJsonData=function(t,e,n,i){return fetch(t+".json",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(t){return t.json()})).then((function(t){n.temp[e]=n.temp[e]||[],n.temp[e]=n.temp[e].concat(t),i.progress--,0==i.progress&&(n.linkTemp(),n.setState(n.temp))}))},i.state={expandedSubMenu:!1,loadJson:!0},i.temp={},i.toggleExpandSubMenu=i.toggleExpandSubMenu.bind(Object(f.a)(i)),i}return Object(p.a)(n,[{key:"toggleExpandSubMenu",value:function(){this.setState({expandedSubMenu:!this.state.expandedSubMenu})}},{key:"linkConversationInner",value:function(t,e){var n,i=this;t&&(e[t.id]||(e[t.id]=t,null===(n=t.replies)||void 0===n||n.forEach((function(t){i.linkConversationInner(t.next,e)}))))}},{key:"linkTemp",value:function(){var t=this;this.temp.scripts=[],this.temp.containers=[],this.temp.maps={},this.temp.maps.conditions=this.temp.actorconditions.reduce((function(t,e){return Object.assign(t,Object(l.a)({},e.id,e))}),{}),this.temp.maps.categories=this.temp.itemcategories.reduce((function(t,e){return Object.assign(t,Object(l.a)({},e.id,e))}),{}),this.temp.maps.droplists=this.temp.droplists.reduce((function(t,e){return Object.assign(t,Object(l.a)({},e.id,e))}),{}),this.temp.maps.items=this.temp.items.reduce((function(t,e){return Object.assign(t,Object(l.a)({},e.id,e))}),{}),this.temp.maps.monsters=this.temp.monsters.reduce((function(t,e){return Object.assign(t,Object(l.a)({},e.id,e))}),{}),this.temp.maps.conversations=this.temp.conversations.reduce((function(t,e){return Object.assign(t,Object(l.a)({},e.id,e))}),{}),this.temp.maps.quests=this.temp.quests.reduce((function(t,e){return Object.assign(t,Object(l.a)({},e.id,e))}),{}),this.temp.maps.spawngroups={},this.temp.maps.containers={},this.temp.maps.scripts={},Object.values(this.props.maps).forEach((function(e){var n,i,r,a,o,s,c,l;e.rootLink="/map/",null===(n=e.objectgroups)||void 0===n||null===(i=n.spawn)||void 0===i||i.forEach((function(n){var i=(n.spawngroup||n.name).toLowerCase();n.link=t.temp.maps.spawngroups[i]||{maps:[],monsters:[]},n.link.key=i,n.link.maps.push(e),t.temp.maps.spawngroups[i]=n.link})),null===(r=e.objectgroups)||void 0===r||null===(a=r.signs)||void 0===a||a.forEach((function(e){var n;e.message=null===(n=t.temp.maps.conversations[e.name])||void 0===n?void 0:n.message})),null===(o=e.objectgroups)||void 0===o||null===(s=o.scripts)||void 0===s||s.forEach((function(n){n.rootLink="/map/"+e.name+"#",t.temp.scripts.push(n)})),null===(c=e.objectgroups)||void 0===c||null===(l=c.containers)||void 0===l||l.forEach((function(n){n.rootLink="/map/"+e.name+"#",t.temp.containers.push(n)}))})),this.temp.conversations.forEach((function(e){var n,i,r=function(n){var i=n.requireType||n.rewardType,r=n.requireID||n.rewardID;if(["questProgress","questLatestProgress","removeQuestProgress"].indexOf(i)>=0){if(n.link=t.temp.maps.quests[r],!n.link)return void g(n);n.link.conv_links=n.link.conv_links||[],n.link.conv_links.push(e)}else if(["inventoryKeep","inventoryRemove","wear","usedItem","wearRemove","giveItem"].indexOf(i)>=0){if(n.link=t.temp.maps.items[r],!n.link)return void g(n);n.link.conv_links=n.link.conv_links||[],n.link.conv_links.push(e)}else"dropList"==i?(n.link=t.temp.maps.droplists[r],n.link.conv_links=n.link.conv_links||[],n.link.conv_links.push(e)):"killedMonster"==i?(n.link=t.temp.maps.monsters[r],n.link.conv_links=n.link.conv_links||[],n.link.conv_links.push(e)):["removeSpawnArea","spawnAll","deactivateSpawnArea","skillIncrease","dropList","actorCondition","hasActorCondition","factionScore","factionScoreEquals","alignmentChange","alignmentSet","random","timerElapsed","createTimer","changeMapFilter","deactivateMapObjectGroup","activateMapObjectGroup"].indexOf(i)>=0||g(i+" "+r,!0)};null===(n=e.replies)||void 0===n||n.forEach((function(e){var n;e.next=t.temp.maps.conversations[e.nextPhraseID],null===(n=e.requires)||void 0===n||n.forEach(r)})),null===(i=e.rewards)||void 0===i||i.forEach(r)})),this.temp.scripts.forEach((function(e){e.iconID="items_books:8",e.id=e.name,e.conversationLink=t.temp.maps.conversations[e.name],t.linkConversation(e)})),this.temp.containers.forEach((function(e){e.iconID="items_g03_package_omi1:0",e.id=e.name,e.droplistLink=t.temp.maps.droplists[e.name],e.droplistLink&&(e.droplistLink.links=e.droplistLink.links||[],e.droplistLink.links.push(e),e.droplistLink.type="container")})),this.temp.items.forEach((function(e,n){var i;t.temp.maps.items[e.id]!=e?(console.warn("More than one item with id '"+e.id+"'"),console.warn(e),t.temp.items.splice(n,1,!1)):(e.displaytype=e.displaytype||"ordinary",e.iconBg=t.getItemIconBg(e),e.categoryLink=t.temp.maps.categories[e.category],e.rootLink=t.getItemRootLink(e.categoryLink),e.baseMarketCost=dn(e,"weapon"==e.categoryLink.inventorySlot),e.priceCost=e.baseMarketCost+Math.trunc(.15*e.baseMarketCost),e.conditionsCount=t.countConditions(e.equipEffect)+t.countConditions(e.hitEffect)+t.countConditions(e.hitReceivedEffect)+t.countConditions(e.killEffect)+t.countConditions(e.useEffect),t.linkConditions(e.equipEffect,e,"equipEffect"),t.linkConditions(e.hitEffect,e,"hitEffect"),t.linkConditions(e.hitReceivedEffect,e,"hitReceivedEffect"),t.linkConditions(e.killEffect,e,"killEffect"),t.linkConditions(e.useEffect,e,"useEffect"),e.conv_links=null===(i=e.conv_links)||void 0===i?void 0:i.filter(mn))})),this.temp.items=this.temp.items.filter((function(t){return t})),this.temp.monsters.forEach((function(e,n){if(t.temp.maps.monsters[e.id]!=e)j((function(){console.warn("More than one monster with id '"+e.id+"'"),console.warn(e)})),t.temp.monsters.splice(n,1,!1);else{var i;e.iconBg=e.unique?-0:1,e.exp=pn(e),e.droplistLink=t.temp.maps.droplists[e.droplistID],e.droplistLink&&(e.droplistLink.links=e.droplistLink.links||[],e.droplistLink.links.push(e)),e.rootLink=t.getMonsterRootLink(e),e.conditionsCount=t.countConditions(e.hitEffect)+t.countConditions(e.hitReceivedEffect)+t.countConditions(e.killEffect),t.linkConditions(e.hitEffect,e,"hitEffect"),t.linkConditions(e.hitReceivedEffect,e,"hitReceivedEffect"),t.linkConditions(e.killEffect,e,"killEffect"),e.spawnGroupLinks=[];var r,a=t.temp.maps.spawngroups[e.id.toLowerCase()];if(a&&(a.monsters.push(e),e.spawnGroupLinks.push(a)),e.spawnGroup&&(null===(i=e.spawnGroup)||void 0===i?void 0:i.toLowerCase())!=e.id.toLowerCase())(a=t.temp.maps.spawngroups[null===(r=e.spawnGroup)||void 0===r?void 0:r.toLowerCase()])&&(a.monsters.push(e),e.spawnGroupLinks.push(a));j((function(){0==e.spawnGroupLinks.length&&(console.warn("Monster have no spawn"),console.warn(e))})),e.conversationLink=t.temp.maps.conversations[e.phraseID],t.linkConversation(e)}})),this.temp.monsters=this.temp.monsters.filter((function(t){return t})),this.temp.droplists.forEach((function(e){e.items.forEach((function(n){n.droplist=e,n.link=t.temp.maps.items[n.itemID],n.link.droplists=n.link.droplists||[],n.link.droplists.push(n),n.type=e.type}))})),this.temp.actorconditions.forEach((function(t){t.iconBg=1,t.rootLink="/conditions#"})),this.temp.quests.forEach((function(t){t.rootLink="/quests#"})),this.props.globalMap.segments.forEach((function(e){e.rootLink="/map/g/",e.maxY=-9999,e.minY=9999,e.maps.forEach((function(n){n.link=t.props.maps[n.id],n.link.segmentLink&&n.link.segmentLink.id!=e.id?j((function(){console.warn("Map '".concat(n.id,"' lined with 2 segments: ").concat(n.link.segmentLink.id,", ").concat(e.id))})):(n.link.globalMapLink=n,n.link.segmentLink=e),e.maxY=Math.max(e.maxY,n.y+n.link.height),e.minY=Math.min(e.minY,n.y)})),e.height=e.maxY-e.minY})),this.temp.monsters.sort((function(t,e){return t.id.localeCompare(e.id)})),g(this.temp)}},{key:"componentDidMount",value:function(){g(this.props)}},{key:"componentDidUpdate",value:function(){!this.state.items&&this.state.loadJson&&(this.setState({loadJson:!1}),this.getJsonResources(this.props.resources))}},{key:"render",value:function(){var t={minHeight:window.innerHeight-46,paddingTop:1};return Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{className:"content",style:t,children:this.state.items?Object(y.jsxs)("div",{children:[Object(y.jsx)(b.c,{children:Object(y.jsx)(M,{})}),Object(y.jsxs)(b.c,{children:[Object(y.jsx)(b.a,{exact:!0,path:"/",component:L}),Object(y.jsx)(C,{path:"/items",component:Pt,data:this.state.items}),Object(y.jsx)(C,{path:"/conditions",component:Ft,data:this.state.actorconditions}),Object(y.jsx)(C,{path:"/monsters",component:ae,data:this.state.monsters}),Object(y.jsx)(C,{path:"/categories",component:P,data:this.state.itemcategories}),Object(y.jsx)(C,{path:"/npc",component:Pe,data:this.state.monsters}),Object(y.jsx)(C,{path:"/quests",component:We,data:this.state.quests}),Object(y.jsx)(C,{path:"/map",component:nn,data:this.props.maps,globalMap:this.props.globalMap,expanded:this.state.expandedSubMenu,toggleExpand:this.toggleExpandSubMenu})]})]}):Object(y.jsx)(fn,{progress:this.state.progress,maxProgress:this.state.maxProgress})}),Object(y.jsxs)("div",{className:"signature",children:[Object(y.jsxs)("div",{style:{float:"left"},children:["2022-2025, Powered by ",Object(y.jsx)("a",{href:"https://github.com/reizy/andors-trail-wiki",children:"Reizy"})]}),Object(y.jsxs)("div",{style:{float:"right"},children:["Game version ","0.8.14"]})]})]})}}]),n}(r.a.Component);function mn(t,e,n){return n.indexOf(t)==e}var bn=n(24),gn=n.n(bn),jn=n(32);function xn(t,e){var n={name:e,properties:[],tilesets:[],layers:{},layerList:[],objectgroups:{spawn:[],rests:[],signs:[],keys:[],scripts:[],containers:[],mapchange:[],replaces:[],other:[]}};return"DOCTYPE"==t.name&&(t=t.children[0]),"map"==t.name&&t.children.forEach((function(t){"objectgroup"==t.name?function(t,e){var n,i,r={name:null===t||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.name};null===(i=t.children)||void 0===i||i.forEach((function(t){var n;if("properties"==t.name)null===(n=t.children)||void 0===n||n.forEach((function(t){var e,n,i=null===(e=t.attributes)||void 0===e?void 0:e.name,a=null===t||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.value;r[i]=a}));else switch(t.attributes.type){case"spawn":e.objectgroups.spawn.push(function(t,e,n){var i,r,a;On(t);var o=Object(s.a)(Object(s.a)(Object(s.a)({},t.attributes),null===(i=t.children[0])||void 0===i?void 0:i.attributes),{},{objectgroup:n,width:t.attributes.width-0,height:t.attributes.height-0,x:t.attributes.x-0,y:t.attributes.y-0});return null===(r=t.children[0])||void 0===r||null===(a=r.children)||void 0===a||a.forEach((function(t){wn(t,o,["spawngroup","quantity","ignoreAreas","active"]),o[t.attributes.name]=t.attributes.value})),o}(t,0,r));break;case"key":e.objectgroups.keys.push(t);break;case"rest":e.objectgroups.rests.push(t);break;case"sign":e.objectgroups.signs.push(function(t,e,n){return yn(t),Object(s.a)(Object(s.a)({},t.attributes),{},{objectgroup:n,width:t.attributes.width-0,height:t.attributes.height-0,x:t.attributes.x-0,y:t.attributes.y-0})}(t,0,r));break;case"script":e.objectgroups.scripts.push(function(t,e,n){var i,r;On(t);var a=Object(s.a)(Object(s.a)({},t.attributes),{},{objectgroup:n,width:t.attributes.width-0,height:t.attributes.height-0,x:t.attributes.x-0,y:t.attributes.y-0});return null===(i=t.children[0])||void 0===i||null===(r=i.children)||void 0===r||r.forEach((function(t){wn(t,a,["when"]),a[t.attributes.name]=t.attributes.value})),a}(t,0,r));break;case"container":e.objectgroups.containers.push(function(t,e,n){var i,r;yn(t);var a=Object(s.a)(Object(s.a)({},t.attributes),{},{objectgroup:n,width:t.attributes.width-0,height:t.attributes.height-0,x:t.attributes.x-0,y:t.attributes.y-0});return null===(i=t.children[0])||void 0===i||null===(r=i.children)||void 0===r||r.forEach((function(t){wn(t,a,["when"]),a[t.attributes.name]=t.attributes.value})),a}(t,0,r));break;case"mapchange":e.objectgroups.mapchange.push(function(t,e,n){var i,r,a;On(t);var o=Object(s.a)(Object(s.a)(Object(s.a)({},t.attributes),null===(i=t.children[0])||void 0===i?void 0:i.attributes),{},{objectgroup:n,width:t.attributes.width-0,height:t.attributes.height-0,x:t.attributes.x-0,y:t.attributes.y-0,xxx:t});return null===(r=t.children[0])||void 0===r||null===(a=r.children)||void 0===a||a.forEach((function(t){wn(t,o,["place","map"]),o[t.attributes.name]=t.attributes.value})),o}(t,0,r));break;case"replace":e.objectgroups.replaces.push(t);break;default:console.warn(e),console.warn(t),e.objectgroups.other.push(t)}}))}(t,n):"layer"==t.name?function(t,e,n){j((function(){return function(t,e,n){e.width&&e.width!=t.attributes.width&&console.warn(n+" has different layers("+e.width+"!="+t.attributes.width+")");e.height&&e.height!=t.attributes.height&&console.warn(n+" has different layers("+e.height+"!="+t.attributes.height+")");e.layers[t.attributes.name]&&console.warn(n+" has several layers: "+t.attributes.name);1!=t.children.length&&console.warn(n+" has multi layer: "+t.attributes.name)}(t,e,n)})),e.layerList.push({name:t.attributes.name.toLowerCase(),visible:"0"!=t.attributes.visible}),e.width=t.attributes.width-0,e.height=t.attributes.height-0;try{var i=t.children[0].value,r=atob(i).split("").map((function(t){return t.charCodeAt(0)})),a=new Uint8Array(r),o=jn.a.inflate(a);e.layers[t.attributes.name.toLowerCase()]=new Uint32Array(o.buffer)}catch(s){console.log(s)}}(t,n,e):"tileset"==t.name?function(t,e,n){var i={height:t.children[0].attributes.height-0,width:t.children[0].attributes.width-0,name:t.attributes.name,firstgid:t.attributes.firstgid-0,tileheight:t.attributes.tileheight-0,tilewidth:t.attributes.tilewidth-0};i.columns=i.width/i.tilewidth,i.tilecount=i.height/i.tileheight*i.columns,e.tilesets.push(i)}(t,n):("properties"==t.name||(console.warn("Custom map section at '"+e+"':"),console.warn(t)),n[t.name].push(t))})),function(t){t.tilesets.forEach((function(e){var n=e.firstgid,i=t.tilesets.find((function(t){return n>=t.firstgid&&n<t.firstgid+t.tilecount}));i!=e&&(i.firstgid=-9999,j((function(){console.warn("Intersecting tilesets indexes at '"+t.name+"'"),console.warn(i),console.warn(e)})))}))}(n),function(t){t.field=[];for(var e=function(e){t.field[e]=[];for(var n=function(n){t.field[e][n]={},t.layerList.forEach((function(i){return function(t,e,n,i){t.layers[e]&&(t.field[i][n][e]=function(t,e,n){if(0==n)return;var i=t.tilesets.find((function(t){return n>=t.firstgid&&n<t.firstgid+t.tilecount}));i||j((function(){return console.warn("No tileset for '"+t.name+"."+e+"' "+n)}));return{id:n,tileset:i,localid:n-(null===i||void 0===i?void 0:i.firstgid)}}(t,e,t.layers[e][i*t.width+n]))}(t,i.name,n,e)}))},i=0;i<t.width;i++)n(i)},n=0;n<t.height;n++)e(n)}(n),n}function On(t){j((function(){var e;(null===(e=t.children)||void 0===e?void 0:e.length)>1&&(console.warn("More then one children!"),console.warn(t))}),!0)}function yn(t){j((function(){var e;(null===(e=t.children)||void 0===e?void 0:e.length)>0&&(console.warn("More then zero children!"),console.warn(t))}),!0)}function wn(t,e,n){j((function(){var i;e[t.attributes.name]&&(console.warn("More then one children '"+t.attributes.name+"':"),console.warn(e[t.attributes.name]),console.warn(t)),"property"!=t.name&&(console.warn("Unknown children!"),console.warn(t)),null!==(i=t.children)&&void 0!==i&&i.length&&(console.warn("More then zero children!"),console.warn(t)),-1==n.indexOf(t.attributes.name)&&(console.warn("Unknown children!"),console.warn(t)),Object.keys(t.attributes).filter((function(t){return!["name","value","type"].includes(t)})).length&&(console.warn("Unknown children!"),console.warn(t))}),!0)}function kn(t){var e={segments:[],segmentsMap:{}};return t.children.forEach((function(t){var n=function(t){var e={id:t.attributes.id,x:1*t.attributes.x,y:1*t.attributes.y,areas:Cn(t.children)};return e=Object(s.a)(Object(s.a)({},e),function(t,e){var n={maps:[],mapsMap:{}};return t.filter((function(t){return"map"==t.name})).forEach((function(t){var i=Object(s.a)(Object(s.a)({},t.attributes),{},{x:1*t.attributes.x,y:1*t.attributes.y});i.area&&(i.areaLink=e[i.area],i.areaLink.maps=i.areaLink.maps||[],i.areaLink.maps.push(i)),n.maps.push(i),n.mapsMap[t.attributes.id]=i})),n}(t.children,e.areas))}(t);e.segments.push(n),e.segmentsMap[t.attributes.id]=n})),e}function Cn(t){var e={};return t.filter((function(t){return"namedarea"==t.name})).forEach((function(t){e[t.attributes.id]=t.attributes})),e}var En=function(){var t=Object(i.useState)([]),e=Object(c.a)(t,2),n=e[0],r=e[1],a={maps:{}};String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)};var o=function(t,e){fetch(""+t,{headers:{"Content-Type":"text/xml",Accept:"text/xml"}}).then((function(t){return t.text()})).then((function(t){return t.replace(/<!--.*-->/g,"")})).then(e)},l=function(t){var e=(new gn.a).parseFromString(t).getElementsByTagName("array").reduce((function(t,e){return t[e.attributes.name]=e.children.map((function(t){return t.value})).filter((function(t){return t})),t}),{});a=Object(s.a)(Object(s.a)({},a),{},{resources:e}),h(a,r)},u=function(t,e,n){o(t,(function(t){var i=(new gn.a).parseFromString(t);a.maps[e]=xn(i,e),n.progress--,0==n.progress&&n.tryDo()}))},d=function(t){o("/xml/worldmap.xml",(function(e){var n=(new gn.a).parseFromString(e);a.globalMap=kn(n),t.progress--,0==t.progress&&t.tryDo()}))},h=function(t,e){var n=t.resources.loadresource_maps,i={progress:n.length+1,tryDo:function(){return e(t)}};d(i),n.forEach((function(t){u(t.replace("@","/")+".tmx",t.replace("@xml/",""),i)}))};return Object(i.useEffect)((function(){o("/values/loadresources.xml",l)}),[]),Object(y.jsx)("div",{className:"App",children:Object(y.jsx)(vn,{resources:n.resources,maps:n.maps,globalMap:n.globalMap})})},Mn=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,53)).then((function(e){var n=e.getCLS,i=e.getFID,r=e.getFCP,a=e.getLCP,o=e.getTTFB;n(t),i(t),r(t),a(t),o(t)}))};console.log("ENV: ",Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AT_VERSION:"0.8.14"})),o.a.render(Object(y.jsx)(E.a,{children:Object(y.jsx)(En,{})}),document.getElementById("root")),Mn()}},[[52,1,2]]]);
//# sourceMappingURL=main.bd6ba4da.chunk.js.map
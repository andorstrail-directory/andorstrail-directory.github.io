{"version":3,"sources":["logo.svg","utils/debug.jsx","components/PropsRoute.jsx","components/Menu.jsx","components/Home.jsx","components/ItemCategoriesTable.jsx","components/Icon.jsx","components/cells/IconCell.jsx","components/cells/ConditionsCell.jsx","components/cells/OtherCell.jsx","components/cells/RangeCell.jsx","components/TableAbsHeader.jsx","components/items/LinksTable.jsx","components/items/ExpandingName.jsx","components/items/NameCell.jsx","components/items/ItemsTable.jsx","components/items/PotionsTable.jsx","components/LiLink.jsx","components/items/ItemsPage.jsx","components/conditions/LinksTable.jsx","components/conditions/ExpandingName.jsx","components/conditions/NameCell.jsx","components/cells/BooleanCell.jsx","components/conditions/ConditionsTable.jsx","components/conditions/ConditionsPage.jsx","components/MapsList.jsx","components/monsters/LinksTable.jsx","components/monsters/ExpandingName.jsx","components/monsters/NameCell.jsx","components/monsters/MonstersTable.jsx","components/monsters/MonstersPage.jsx","components/npc/LinksTable.jsx","components/npc/QuestItemsTable.jsx","components/npc/QuestsTable.jsx","components/npc/ExpandingName.jsx","components/npc/NameCell.jsx","components/npc/LocationCell.jsx","components/npc/NpcTable.jsx","components/npc/NpcPage.jsx","components/quests/LinksTable.jsx","components/quests/StagesList.jsx","components/quests/ExpandingName.jsx","components/quests/NameCell.jsx","components/quests/QuestsTable.jsx","components/quests/QuestsPage.jsx","components/maps/MapIcon.jsx","components/maps/LocalMap.jsx","components/maps/GlobalMap.jsx","components/maps/MapPage.jsx","components/CostCalculator.jsx","components/ExpCalculator.jsx","components/Main.jsx","utils/MapParser.jsx","utils/GlobalMapParser.jsx","App.js","reportWebVitals.js","index.js"],"names":["debug","msg","force","DEBUG","console","warn","doIfDebug","f","renderMergedProps","component","rest","finalProps","Object","assign","React","createElement","PropsRoute","render","routeProps","Main","props","className","window","location","pathname","to","LiLink","Component","segment","def","liClass","toUpperCase","startsWith","toLowerCase","capitalize","Table","style","textAlign","margin","href","getKeys","o","name","id","size","inventorySlot","actionType","getHeader","this","map","key","index","getRowsData","items","data","filter","length","item","indexOf","category","keys","row","bind","border","RenderRow","custom","monsters_demon1","x","y","monsters_demon2","monsters_hydra1","monsters_cyclops","monsters_bosses_2x2","monsters_giantbasilisk","getDimentionById","getDimention","split","file","Icon","prefix","noBackground","zoom","rootLink","Date","Math","random","tmp","iconID","src","getSrc","d","width","height","overflow","backgroundImage","backgroundRepeat","backgroundPosition","iconBg","backgroundSize","display","title","displaytype","onLoad","onImgLoad","img","document","getElementById","p","i","getPosition","styles","root","position","paddingLeft","paddingTop","alignItems","IconCell","tableManager","value","onChange","isEdit","column","rowIndex","searchText","isFirstEditableCell","padding","text","marginLeft","whiteSpace","aimg","getImgId","values","chance","link","magnitude","duration","showCondition","getTextData","min","max","ConditionsCell","Fragment","equipEffect","addedConditions","hitEffect","conditionsTarget","conditionsSource","increaseCurrentHP","killEffect","increaseCurrentAP","hitReceivedEffect","useEffect","textOverflow","knownEquipEffects","knownHitEffects","knownKillEffects","knownReceivedEffects","knownUseEffects","knownAbilityEffects","knownRoundEffects","getOther","result","e","JSON","stringify","OtherCell","abilityEffect","roundEffect","RangeCell","field","range","forEach","TableAbsHeader","state","scrollY","scrollX","onScroll","setState","onscroll","undefined","columns","bot","top","style1","RenderHead","visible","label","monster","RenderHref","Range","quantity","type","maxHP","renderChance","table","ExpandingName","expanded","endsWith","toggleExpand","links","droplists","flatMap","getEnemyList","push","onClick","droplist","sortStr","a","b","isAscending","aa","bb","sortInt","sortDT","list","hashLinkScroll","hash","setTimeout","replace","element","scrollIntoView","getRows","isEmptyColumn","rows","find","getColumns","pinned","cellRenderer","sort","NameCell","getValue","increaseAttackCost","increaseAttackDamage","increaseAttackChance","increaseBlockChance","increaseCriticalSkill","setCriticalMultiplier","increaseMaxHP","increaseMaxAP","increaseMoveCost","increaseUseItemCost","increaseReequipCost","setNonWeaponDamageModifier","increaseDamageResistance","offsetTop","GridTable","defaultProps","isPaginated","minColumnResizeWidth","isVirtualScroll","showSearch","showColumnVisibilityManager","next","path","ItemsPage","ItemRoute","PotionsTable","categoryLink","ItemsTable","slot","aim","Cell","BooleanCell","fullRoundEffect","clientHeight","isPositive","marginTop","marginRight","color","textTransform","float","maps","unique","pos","self","droplistLink","spawnGroupLinks","maxIconWidth","reduce","MonstersPage","MonstersTable","c","attackChance","monsterClass","calculateCostWithMod","mod","cost","baseMarketCost","trunc","fixedHeight","quests","questLinks","questItemsLinks","questDropListLinks","sortLocations","LocationCell","NpcTable","progress","finishesQuest","rewardExperience","logText","stages","TextCell","showInLog","ts","tileset","left","backgroundColor","opacity","localid","dx","tilewidth","dy","tileheight","w","bySpawnGroup","spawngroup","localeCompare","drawLayerByName","layers","layerList","renderSpawn","spawn","getRandomInt","monsters","renderScript","script","renderMapchange","events","place","renderSign","signs","message","renderObjectgroups","scripts","containers","mapchange","renderOG","renderObjectgroupsData","objectgroups","tile","RenderCell","l","ld","floor","style2","globalMap","substring","segmentsMap","class","Page","getSegmentLinks","segments","GlobalMap","calculateCostEquipEffect","isWeapon","pow","abs","calculateUseCost","averageHPBoost","averagef","costBoostHP","signum","calculatePointsCost","hpBase","apBase","averageAPBoost","costBoostAP","calculateHitCost","calculateKillCost","calculateCost","hasManualPrice","costEquipStats","costUse","costHit","costKill","div100","v","calculateExp","attackCost","attackDamage","criticalSkill","criticalMultiplier","blockChance","damageResistance","maxAP","averageDamage","avgAttackHP","getAttacksPerTurn","avgDefenseHP","attackConditionBonus","ceil","Loading","mp","maxProgress","percentage","getJsonResources","resources","downcounter","jsonResourcList","loadresource_itemcategories","loadresource_items","loadresource_actorconditions","loadresource_monsters","loadresource_droplists","loadresource_conversationlists","loadresource_quests","r","Promise","all","loadResource","resourceName","getJsonResource","resource","that","getJsonData","countConditions","effect","count","linkConditions","linkCondition","getStub","condition","temp","conditions","stub","getItemRootLink","isMerchant","itemID","getMonsterRootLink","charAt","getItemIconBg","linkConversation","conversationLink","conversations","linkConversationInner","rewards","requires","replies","rewardType","fileName","fetch","headers","then","response","json","concat","linkTemp","expandedSubMenu","loadJson","toggleExpandSubMenu","actorconditions","obj","categories","itemcategories","spawngroups","sign","container","doLink","req","requireType","requireID","rewardID","conv_links","nextPhraseID","splice","conditionsCount","exp","expCalculator","droplistID","spawngroupLink","spawnGroup","phraseID","maxY","minY","segmentLink","globalMapLink","minHeight","innerHeight","exact","Home","ConditionsPage","ItemCategoriesTable","NpcPage","QuestsPage","MapPage","process","parseXmlMap","properties","tilesets","rests","replaces","other","children","objectgroup","attributes","oneChildCheck","propertyCheck","mapSpawn","noChildCheck","mapSign","mapScript","mapContainers","event","xxx","mapMapchange","parseObjectgroups","parseLayerDebug","b64Data","charData","atob","charCodeAt","binData","Uint8Array","pako","inflate","Uint32Array","buffer","err","log","parseLayer","firstgid","tilecount","parseTileset","t","validateTilesets","layer","getTileById","setTileByLayerXY","mapLayers","names","includes","parseGlobalMap","myXml","areas","parseArea","mapsMap","area","areaLink","parseMaps","parseSegment","App","useState","setData","String","prototype","slice","getXmlData","thenDo","str","saveTempResources","XMLParser","parseFromString","getElementsByTagName","getMaps","getXmlMap","xmlString","tryDo","getGlobalMap","loadresource_maps","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM"],"mappings":"oRAAe,I,wECAA,SAASA,EAAMC,GAAmB,IAAdC,EAAM,UAAD,+CAChCC,GAAOD,IAAOE,QAAQC,KAAKJ,EACnC,CACO,SAASK,EAAUC,GAAiB,IAAdL,EAAM,UAAD,+CAC1BC,GAAOD,IAAOK,GACtB,CAEA,IAAMJ,GAAkB,E,+BCGlBK,EAAoB,SAACC,GAAwB,IAAD,uBAATC,EAAI,iCAAJA,EAAI,kBAC3C,IAAMC,EAAaC,OAAOC,OAAM,MAAbD,OAAM,CAAQ,CAAC,GAAC,OAAKF,IACxC,OACEI,IAAMC,cAAcN,EAAWE,EAEnC,EAEeK,EAdI,SAAH,GAAgC,IAA1BP,EAAS,EAATA,UAAcC,EAAI,iBACtC,OACE,cAAC,IAAK,2BAAKA,GAAI,IAAEO,OAAQ,SAAAC,GACvB,OAAOV,EAAkBC,EAAWS,EAAYR,EAClD,IAEJ,E,QCLqBS,EAAI,kDACrB,WAAYC,GAAQ,uCACVA,EACV,CAmBC,OAnBA,mCAED,WACI,OACI,+BACI,qBAAIC,UAAU,KAAI,UACd,oBAAIA,UAAwC,MAA7BC,OAAOC,SAASC,SAAmB,WAAa,GAAG,SAC9D,cAAC,IAAI,CAACC,GAAG,GAAE,oBAEdC,EAAO,QAAS,SAChBA,EAAO,WAAY,WACnBA,EAAO,MAAO,aACdA,EAAO,cACPA,EAAO,UACPA,EAAO,cACPA,EAAO,WAIxB,KAAC,EAtBoB,CAASZ,IAAMa,WAwBlCD,EAAS,SAACE,GAAqB,IAAZC,EAAI,UAAD,6CAAC,GACnBJ,EAAK,IAAIG,EAAQC,EACjBC,EAAWR,OAAOC,SAASC,SAASO,cAAcC,WAAW,IAAIJ,EAAQG,eAAgB,WAAW,GAC1G,OAAQ,oBAAIV,UAAWS,EAAQ,SAAC,cAAC,IAAI,CAACL,GAAIA,EAAGQ,cAAc,SAAEL,EAAQM,gBACzE,EC7BqBC,EAAK,kDAEtB,WAAYf,GAAQ,uCACVA,EACV,CA2BC,OA3BA,mCAKD,WACI,OAAS,sBAAKgB,MAAO,CAACC,UAAU,OAAQC,OAAO,IAAI,UAC/C,4CAAc,2DAAiC,uDAAoD,mBAAGC,KAAK,wEAAuE,2BAAkB,OAEpM,uCACA,8BAAG,8CAAoB,2HAEvB,4DAA8B,mBAAGA,KAAK,uCAAsC,0BAAiB,+BAE7F,wKAEA,+CAEA,sQAEA,oFAAsD,2CAAiB,OAEvE,mDAEA,2FAA6D,mBAAGA,KAAK,wEAAuE,+CAAsC,WAAQ,mBAAGA,KAAK,8BAA6B,6BAAoB,UAG3P,KAAC,EA/BqB,CAASzB,IAAMa,WCDpBQ,EAAK,kDAEtB,WAAYf,GAAQ,IAAD,EAIwB,OAJxB,qBACf,cAAMA,IAMVoB,QAAU,WACN,MAAO,CACP,CAAC,OAAQ,SAACC,GAAC,OAAGA,EAAEC,IAAI,GACpB,CAAC,KAAK,SAACD,GAAC,OAAGA,EAAEE,EAAE,GACf,CAAC,OAAO,SAACF,GAAC,OAAGA,EAAEG,IAAI,GACnB,CAAC,gBAAgB,SAACH,GAAC,OAAGA,EAAEI,aAAa,GACrC,CAAC,aAAa,SAACJ,GAAC,OAAGA,EAAEK,UAAU,GAInC,EAAC,EAEDC,UAAY,WAER,OADWC,KAAKR,UACJS,KAAI,SAACC,EAAKC,GAClB,OAAQ,mCAAsBD,EAAI,GAAE,MAAjBA,EAAI,GAC3B,GACJ,EAAC,EAEDE,YAAc,WAAa,IAAD,OAClBC,EAAQL,KAAK5B,MAAMkC,KACvB,IAAKD,EAAO,MAAO,GACfL,KAAK5B,MAAMmC,QAAUP,KAAK5B,MAAMmC,OAAOC,OAAO,IAC9CH,EAAQA,EAAME,QAAO,SAACE,GAAI,OAAG,EAAKrC,MAAMmC,OAAOG,QAAQD,EAAKE,WAAa,CAAC,KAE9E,IAAIC,EAAOZ,KAAKR,UAChB,OAAOa,EAAMJ,KAAI,SAACY,EAAKV,GACnB,OAAO,6BAAgB,cAAC,EAAS,CAAaG,KAAMO,EAAKD,KAAMA,GAAxBT,IAAvBA,EACpB,GACJ,EAlCI,EAAKJ,UAAY,EAAKA,UAAUe,KAAK,gBACrC,EAAKV,YAAc,EAAKA,YAAYU,KAAK,gBACzC,EAAKtB,QAAU,EAAKA,QAAQsB,KAAK,gBAAM,CAC3C,CA2CC,OA3CA,mCAiCD,WACI,OACK,8BACI,wBAAOC,OAAO,IAAG,UACb,gCACI,6BAAKf,KAAKD,gBAEd,gCAAQC,KAAKI,oBAG9B,KAAC,EAlDqB,CAAStC,IAAMa,WAoDnCqC,EAAY,SAAC5C,GACf,OAAOA,EAAMwC,KAAKX,KAAI,SAACC,EAAKC,GACxB,OAAQ,mCAAqBD,EAAI,GAAG9B,EAAMkC,MAAK,MAA7BJ,EAAI,GAC1B,GACJ,E,+BCvDMe,EAAS,CACXC,gBAAgB,CAACC,EAAE,GAAIC,EAAE,IACzBC,gBAAgB,CAACF,EAAE,GAAIC,EAAE,IACzBE,gBAAgB,CAACH,EAAE,GAAIC,EAAE,IACzBG,iBAAiB,CAACJ,EAAE,GAAIC,EAAE,IAC1BI,oBAAoB,CAACL,EAAE,GAAIC,EAAE,IAC7BK,uBAAuB,CAACN,EAAE,GAAIC,EAAE,KAGvBM,EAAmB,SAAC/B,GAAE,OAAKgC,EAAe,OAAFhC,QAAE,IAAFA,OAAE,EAAFA,EAAIiC,MAAM,KAAK,GAAI,EAC3DD,EAAe,SAACE,GAAI,OAAKZ,EAAOY,IAAO,CAACV,EAAE,GAAGC,EAAE,GAAI,EAE3CU,EAAI,kDAErB,WAAY1D,GAAQ,uCACVA,EACV,CA6CC,OA7CA,mCAED,WAAU,IAAD,EACL,EAAoC4B,KAAK5B,MAAlCkC,EAAI,EAAJA,KAAMyB,EAAM,EAANA,OAAQC,EAAY,EAAZA,aACfC,EAAOjC,KAAK5B,MAAM6D,MAAQ,GAE1B1C,GAAQe,EAAK4B,UAAYH,IAAWzB,EAAKX,IAAIW,EAAKZ,MAClDQ,EAAM,KAAO,IAAIiC,KAAQ,GAAI,IAAKC,KAAKC,SACvCC,EAAiB,QAAd,EAAGhC,EAAKiC,cAAM,aAAX,EAAaX,MAAM,KACzBC,EAAOS,EAAI,GACXnC,EAAQmC,EAAI,GACZE,EAAMC,EAAOZ,GACba,EAAIf,EAAaE,GAEvBa,EAAEvB,EAAIuB,EAAEvB,EAAIc,EAAO,GACnBS,EAAEtB,EAAIsB,EAAEtB,EAAIa,EAAO,GAEnB,IAAI7C,EAAQ,CACRuD,MAAMD,EAAEvB,EACRyB,OAAOF,EAAEtB,EACTyB,SAAU,UAad,OAXKb,IACD5C,EAAK,2BACEA,GAAK,IACR0D,gBAAiB,qCACjBC,iBAAkB,YAClBC,mBAAqB1C,EAAK2C,OAASP,EAAEvB,EAAK,SAC1C+B,eAAuB,EAANR,EAAEvB,EAAS,MAAQuB,EAAEtB,EAAI,QAK3C,qBAAKhC,MAAO,CAAE+D,QAAQ,QAAQ,SAErB,eAAC,IAAI,CAAC/D,MAAOA,EACVgE,MAAO9C,EAAK+C,YACZ5E,GAAIc,EAAK,UACJ,qBAAKI,GAAIW,EAAKX,GAAItB,UAAU,eAC5B,qBAAKsB,GAAIO,EACLsC,IAAKA,EACLc,OAAQC,EAAUpD,EAAOuC,EAAGxC,SAI5D,KAAC,EAjDoB,CAASpC,IAAMa,WAmD9B8D,EAAS,SAACZ,GACZ,GAAKA,EACL,MAAO,aAAaA,EAAK,MAC7B,EAMM0B,EAAY,SAACpD,EAAOuC,EAAGxC,GACzB,OAAO,WACH,GAAKC,EAAL,CACA,IAAIqD,EAAMC,SAASC,eAAexD,GAC9ByD,EATQ,SAACC,EAAGjB,EAAOD,GAC3B,IAAIvB,GAAMyC,EAAIjB,EAAQD,EAAEvB,EAExB,MAAO,CAACA,IAAGC,IADAwC,EAAIlB,EAAEtB,EAAID,GAAKwB,EAE9B,CAKgBkB,CAAY1D,EAAOqD,EAAIb,MAAQD,EAAEvB,EAAGuB,GAC5Cc,EAAIpE,MAAK,kBAAcuE,EAAEvC,EAAC,kBAAUuC,EAAExC,EAAC,uBAHrB,CAItB,CACJ,EC/EE2C,EAAS,CACXC,KAAM,CACFC,SAAU,WACVC,YAAa,OACbC,WAAY,MACZf,QAAS,QACTR,MAAO,OACPC,OAAQ,OACRuB,WAAY,WAaLC,EARE,SAAH,GAAiB,EAAZC,aAAmB,EAALC,MAAe,EAARC,SAAgB,EAANC,OAAsE,IAA9DlE,EAAI,EAAJA,KAAY,EAANmE,OAAgB,EAARC,SAAoB,EAAVC,WAA+B,EAAnBC,oBAC1F,OACI,qBAAKxF,MAAO0E,EAAOC,KAAK,SACpB,cAAC,EAAI,CAACzD,KAAMA,KAGxB,ECnBMwD,EAAS,CACXC,KAAM,CACFC,SAAU,WACVa,QAAS,WACT1B,QAAS,OACTR,MAAO,OACPC,OAAQ,QAEZkC,KAAM,CACFC,WAAY,EACZC,WAAY,UAGhBC,KAAM,CACFtC,MAAM,GACNC,OAAO,GACPC,SAAU,WAIZJ,EAAS,SAAC9C,GAEZ,MAAO,cADO,OAAFA,QAAE,IAAFA,OAAE,EAAFA,EAAIiC,MAAM,MACE,GAAG,MAC/B,EAkBMsD,EAAW,SAACvF,EAAI+E,EAAUvE,GAC5B,OAAOR,EAAG,IAAI+E,EAAS,IAAIvE,CAC/B,EAEMoD,EAAY,SAAC5D,EAAI+E,EAAUvE,GAC7B,OAAO,WACH,IAAIqD,EAAMC,SAASC,eAAewB,EAASvF,EAAI+E,EAAUvE,IACrDwD,EAbQ,SAAChE,EAAIgD,GACrB,IAAML,EAAQ,OAAF3C,QAAE,IAAFA,OAAE,EAAFA,EAAIiC,MAAM,KAAK,GACvBT,GAAMmB,EAAMK,EAAQ,GAExB,MAAO,CAACxB,IAAGC,GADM,IAANkB,EAAWnB,GAAKwB,EAE/B,CAQgBkB,CAAYlE,EAAI6D,EAAIb,MAAM,IAClCa,EAAIpE,MAAK,kBAAcuE,EAAEvC,EAAC,kBAAUuC,EAAExC,EAAC,KAC3C,CACJ,EAkBMf,EAAc,SAAC2B,EAAQoD,EAAQT,GACjC,OAAa,OAANS,QAAM,IAANA,OAAM,EAANA,EAAQlF,IAjBG,SAAC8B,EAAQ2C,GAC3B,OAAO,SAAC7D,EAAKV,GACT,IAAIiD,EAAQrB,EACRlB,EAAIuE,SAAQhC,GAASvC,EAAIuE,OAAQ,gBACrChC,GAASvC,EAAIwE,KAAK3F,KAClB0D,GAAUvC,EAAIyE,WAAa,EAAI,KAAOzE,EAAIyE,UAAa,YACnDzE,EAAI0E,WAAUnC,GAAS,KAAOvC,EAAI0E,SAAW,YACjD,IAAMhG,EAAO,eAAesB,EAAIwE,KAAK1F,GAC/BA,EAAKuF,EAASrE,EAAIwE,KAAK9C,OAAQmC,EAAUvE,GAC/C,OAAO,cAAC,IAAI,CAACf,MAAO0E,EAAOmB,KAAM7B,MAAOA,EAAO3E,GAAIc,EAAK,SAC7C,qBAAKI,GAAIA,EAAI6C,IAAKC,EAAO5B,EAAIwE,KAAK9C,QAC7Be,OAAQC,EAAU1C,EAAIwE,KAAK9C,OAAQmC,EAAUvE,MAFCR,EAKlE,CACJ,CAEuB6F,CAAczD,EAAQ2C,GAC7C,EACMe,EAAc,SAAC1D,EAAQuC,EAAOQ,EAAMJ,GACtC,OAAKJ,EACE,sBAAMlF,MAAO0E,EAAOgB,KAAM1B,MAAOrB,EAAS,IAAMuC,EAAMoB,IAAM,IAAMpB,EAAMqB,IAAI,SAAEb,IADlE,EAEvB,EAwBec,EAtBQ,SAAH,GAAiB,EAAZvB,aAAmB,EAALC,MAAe,EAARC,SAAgB,EAANC,OAAsE,IAAD,oBAA7DlE,EAAI,EAAJA,KAAcoE,GAAF,EAAND,OAAgB,EAARC,UAAoB,EAAVC,WAA+B,EAAnBC,oBAEhG,OACI,qBAAKxF,MAAO0E,EAAOC,KAAK,SAEhB,eAAC,IAAM8B,SAAQ,WACVzF,EAAY,cAA+B,QAAlB,EAAEE,EAAKwF,mBAAW,aAAhB,EAAkBC,gBAAiBrB,GAC9DtE,EAAY,yBAAwC,QAAhB,EAAEE,EAAK0F,iBAAS,aAAd,EAAgBC,iBAAkBvB,GACxEtE,EAAY,yBAAwC,QAAhB,EAAEE,EAAK0F,iBAAS,aAAd,EAAgBE,iBAAkBxB,GACxEe,EAAY,yBAAwC,QAAhB,EAAEnF,EAAK0F,iBAAS,aAAd,EAAgBG,kBAAmB,OACzE/F,EAAY,0BAA0C,QAAjB,EAAEE,EAAK8F,kBAAU,aAAf,EAAiBF,iBAAkBxB,GAC1Ee,EAAY,0BAA0C,QAAjB,EAAEnF,EAAK8F,kBAAU,aAAf,EAAiBD,kBAAmB,OAC3EV,EAAY,0BAA0C,QAAjB,EAAEnF,EAAK8F,kBAAU,aAAf,EAAiBC,kBAAmB,OAC3EjG,EAAY,kCAAyD,QAAxB,EAAEE,EAAKgG,yBAAiB,aAAtB,EAAwBJ,iBAAkBxB,GACzFtE,EAAY,kCAAyD,QAAxB,EAAEE,EAAKgG,yBAAiB,aAAtB,EAAwBL,iBAAkBvB,GACzFtE,EAAY,YAA2B,QAAhB,EAAEE,EAAKiG,iBAAS,aAAd,EAAgBL,iBAAkBxB,OAKhF,EClGMZ,EAAS,CACXC,KAAM,CACFC,SAAU,WACVa,QAAS,SACT1B,QAAS,OACTR,MAAO,OACPC,OAAQ,OACRuB,WAAY,UAEhBW,KAAM,CACFC,WAAY,GACZC,WAAY,SACZnC,SAAU,SACV2D,aAAc,aAIhBC,EAAoB,CACR,uBACA,qBACA,uBACA,sBACA,wBACA,wBACA,gBACA,6BACA,gBACA,2BACA,kBACA,mBACA,mBACA,sBACA,sBACA,GACA,IAEZC,EAAkB,CACN,mBACA,mBACA,oBACA,GACA,IAEZC,EAAmB,CACP,mBACA,oBACA,oBACA,IAEZC,GAAuB,CACX,mBACA,mBACA,GACA,IAEZC,GAAkB,CACN,mBACA,oBACA,IAEZC,GAAsB,CACV,uBACA,sBACA,2BACA,uBACA,gBACA,mBACA,qBACA,gBACA,wBACA,sBACA,sBACA,iBACA,IAEZC,GAAoB,CACR,oBACA,iBACA,oBACA,GACA,GACA,IAGZC,GAAW,SAACjF,EAAQ+D,EAAavI,GACnC,IAAKuI,EAAa,MAAO,GACzB,IAAMmB,EAASrJ,OAAOgD,KAAKkF,GACtBvF,QAAO,SAAC2G,GAAC,OAAmB,GAAf3J,EAAEmD,QAAQwG,EAAM,IAC7BjH,KAAI,SAACC,GAAG,MAAK,CAACA,EAAK4F,EAAY5F,GAAK,IACzC,OAAQ+G,EAAOzG,OAAO,EAAKuB,EAASoF,KAAKC,UAAUH,GAAU,EACjE,EA2BeI,GAnBG,SAAH,GAAiB,EAAZhD,aAAmB,EAALC,MAAe,EAARC,SAAgB,EAANC,OAAsE,IAA9DlE,EAAI,EAAJA,KAAY,EAANmE,OAAgB,EAARC,SAAoB,EAAVC,WAA+B,EAAnBC,oBAE3F,OACI,qBAAKxF,MAAO0E,EAAOC,KAAK,SAEhB,eAAC,IAAM8B,SAAQ,WACVmB,GAAS,YAAa1G,EAAKwF,YAAaW,GACxCO,GAAS,UAAW1G,EAAK0F,UAAWU,GACpCM,GAAS,cAAe1G,EAAKgG,kBAAmBM,IAChDI,GAAS,YAAa1G,EAAK8F,WAAYO,GACvCK,GAAS,WAAY1G,EAAKiG,UAAWM,IACrCG,GAAS,GAAI1G,EAAKgH,cAAeR,IACjCE,GAAS,GAAI1G,EAAKiH,YAAaR,QAKpD,ECnHMjD,GAAS,CACXC,KAAM,CACFC,SAAU,WACVa,QAAS,YACT1B,QAAS,QACTR,MAAO,OACPC,OAAQ,OACRuB,WAAY,UAEhBW,KAAM,CACFxF,OAAQ,OACR0F,WAAY,SACZnC,SAAU,SACV2D,aAAc,aAoBPgB,GAfG,WAAa,IAAD,uBAARC,EAAK,yBAALA,EAAK,gBACvB,OAAO,YAAc,EAAZpD,aAAqG,IAAvFC,EAAK,EAALA,MAAyBhE,GAAV,EAARiE,SAAgB,EAANC,OAAY,EAAJlE,MACxCoH,GADoD,EAANjD,OAAgB,EAARC,SAAoB,EAAVC,WAA+B,EAAnBC,oBACpE,CAACtE,SAEb,OADAmH,EAAME,SAAQ,SAACpK,GAAKmK,EAAMpH,KAAOoH,EAAMpH,KAAK/C,IAAI,CAAC,CAAC,IACrC,KAAT+G,EAAqB,GACrBoD,EAAMpH,KAAKoF,KAAOgC,EAAMpH,KAAKqF,IAAa,qBAAKvG,MAAO0E,GAAOC,KAAK,SAAC,sBAAM3E,MAAO0E,GAAOgB,KAAK,SAAER,MAE9F,qBAAKlF,MAAO0E,GAAOC,KAAK,SACrB,uBAAM3E,MAAO0E,GAAOgB,KAAK,UAAER,EAAK,IAAGoD,EAAMpH,KAAKoF,IAAG,IAAGgC,EAAMpH,KAAKqF,IAAG,QAI7E,CACJ,EC/BqBiC,GAAc,kDAE/B,WAAYxJ,GAAQ,IAAD,EAM0B,OAN1B,qBACf,cAAMA,IACDyJ,MAAM,CACPC,QAASxJ,OAAOwJ,QAChBC,QAASzJ,OAAOyJ,SAEpB,EAAKC,SAAW,EAAKA,SAASlH,KAAK,gBAAM,CAC7C,CAoCC,OApCA,qCAED,WACId,KAAKiI,SAAS,CAAEH,QAASxJ,OAAOwJ,QAAUC,QAASzJ,OAAOyJ,SAC9D,GAAC,+BAED,WAAqB,IAAD,OACjB,GAAIzJ,OAAO4J,SAAU,CACjB,IAAM5F,EAAMhE,OAAO4J,SACnB5J,OAAO4J,SAAW,WAAO5F,IAAO,EAAK0F,UAAW,CACpD,MACI1J,OAAO4J,SAAWlI,KAAKgI,QAE9B,GAAC,kCAED,WACG1J,OAAO4J,cAAWC,CACrB,GAAC,oBAED,WAEI,IAAMC,EAAUpI,KAAK5B,MAAMgK,QACrBxI,EAAOI,KAAK5B,MAAMwB,KACZI,KAAK5B,MAAMiK,IAEvB,GAAI/J,OAAOwJ,QAAUlI,EAAK0I,IAAK,MAAO,GACtC,GAAIhK,OAAOwJ,QAAWlI,EAAK0I,IAAM1I,EAAKgD,OAAS,GAAK,MAAO,GAG3D,IAAIxD,EAAQ,CAAC2F,WAAW,EAAE/E,KAAK6H,MAAME,QAASpF,MAAO,KAErD,OAAQ,8BACA,cAAC,GAAU,CAAC4F,OAAQnJ,EAAOgJ,QAASA,KAIhD,KAAC,EA7C8B,CAAStK,IAAMa,WA+C5C6J,GAAa,SAACpK,GAChB,OAAO,qBAAKC,UAAU,YAAYe,MAAOhB,EAAMmK,OAAO,SACzCnK,EAAMgK,QACF7H,QAAO,SAAC2G,GAAC,QAAmB,GAAbA,EAAEuB,QAAiB,IAClCxI,KAAI,SAACiH,GAAK,OACH,qBAAgB7I,UAAU,eAAee,MAAO,CAACuD,MAAM,GAAD,OAAIuE,EAAEvE,QAAS,SACjE,qBAAKtE,UAAU,oBAAmB,SAAG6I,EAAEwB,SADjCxB,EAAEvH,GAGf,KAEzB,ECvDqBR,GAAK,kDAEtB,WAAYf,GAAQ,IAAD,EAIwB,OAJxB,qBACf,cAAMA,IAKVoB,QAAU,WAAa,IAAD,OAClB,MAAO,CACH,CAAC,GAAI,SAACC,GAAM,OAAO,cAAC,EAAI,CAACa,KAAMb,EAAEkJ,SAAY,GAC7C,CAAC,OAAQ,SAAClJ,GAAK,OAAOmJ,GAAWnJ,EAAEkJ,QAAQ,EAAG,CAAEtJ,UAAW,SAC3D,CAAC,WAAW,SAACI,GAAK,OAAOoJ,GAAMpJ,EAAEqJ,SAAS,GAC1C,CAAC,SAAS,SAACrJ,GAAK,OAAOA,EAAEsJ,OAAQtJ,EAAEkJ,QAAQK,MAAO,EAAKC,aAAaxJ,EAAE2F,QAAS,OAAO,GAE9F,EAAC,EACD6D,aAAe,SAAU7D,GACrB,OAAIA,EAAO1E,QAAQ,KAAO,EACf0E,EAEAA,EAAS,GAExB,EAAC,EACDrF,UAAY,WAER,OADWC,KAAKR,UACJS,KAAI,SAACC,EAAKC,GAClB,IAAIf,EAASc,EAAIM,QAAQ,EAAGN,EAAI,GAAG,CAAC,EACpC,OAAQ,qBAAId,MAAOA,EAAM,cAAmBc,EAAI,GAAE,MAAjBA,EAAI,GACzC,GACJ,EAAC,EAEDE,YAAc,WAAa,IAAD,OAClBE,EAAON,KAAK5B,MAAMkC,KACtB,IAAKA,EAAM,MAAO,GACdN,KAAK5B,MAAMmC,QAAUP,KAAK5B,MAAMmC,OAAOC,OAAO,IAC9CF,EAAOA,EAAKC,QAAO,SAACE,GAAI,OAAG,EAAKrC,MAAMmC,OAAOG,QAAQD,EAAKE,WAAa,CAAC,KAE5E,IAAIC,EAAOZ,KAAKR,UAChB,OAAOc,EAAKL,KAAI,SAACY,EAAKV,GAClB,OAAO,6BAAgB,cAAC,GAAS,CAAaG,KAAMO,EAAKD,KAAMA,GAAxBT,IAAvBA,EACpB,GACJ,EArCI,EAAKJ,UAAY,EAAKA,UAAUe,KAAK,gBACrC,EAAKV,YAAc,EAAKA,YAAYU,KAAK,gBACzC,EAAKtB,QAAU,EAAKA,QAAQsB,KAAK,gBAAM,CAC3C,CA4CC,OA5CA,mCAoCD,WAEI,OACI,wBAAO1B,MAAO,CAACuD,MAAO,KAAK,UACvB,uBAAOvD,MAAO,CAAC+D,QAAS,QAAQ,SAAC,6BAAKnD,KAAKD,gBAC3C,gCAAQC,KAAKI,kBAGzB,KAAC,EAnDqB,CAAStC,IAAMa,WAqDnCqC,GAAY,SAAC5C,GACf,OAAOA,EAAMwC,KAAKX,KAAI,SAACC,EAAKC,GACxB,IAAIf,EAASc,EAAIM,QAAQ,EAAGN,EAAI,GAAG,CAAC,EACpC,OAAO,oBAAId,MAAOA,EAAM,SAAgBc,EAAI,GAAG9B,EAAMkC,OAAtBJ,EAAI,GACvC,GACJ,EACM0I,GAAa,SAACnJ,GAChB,IAAMF,EAAOE,EAAEyC,SAAWzC,EAAEE,GAC5B,OAAO,cAAC,IAAI,CAAClB,GAAIc,EAAK,SAAEE,EAAEC,MAC9B,EACMmJ,GAAQ,SAACpJ,GACX,OAAK,OAADA,QAAC,IAADA,OAAC,EAADA,EAAGkG,OAAQ,OAADlG,QAAC,IAADA,OAAC,EAADA,EAAGiG,KAAa,OAADjG,QAAC,IAADA,OAAC,EAADA,EAAGkG,IACzBlG,EAAEiG,IAAM,IAAMjG,EAAEkG,GAC3B,ECnEM7B,GAAS,CACXgB,KAAM,CACFC,WAAY,GACZC,WAAY,SACZnC,SAAU,SACV2D,aAAc,YAElB0C,MAAO,CACHhF,WAAY,GACZa,YAAa,KAIAoE,GAAa,kDAE9B,WAAY/K,GAAQ,IAAD,EAKkC,OALlC,qBACf,cAAMA,IACDyJ,MAAQ,CACTuB,SAAU9K,OAAOC,SAASgB,KAAK8J,SAAS,EAAKjL,MAAMkC,KAAKX,GAAGV,gBAE/D,EAAKqK,aAAe,EAAKA,aAAaxI,KAAK,gBAAM,CACrD,CAkCC,OAlCA,yCACD,WACId,KAAKiI,SAAS,CAAEmB,UAAWpJ,KAAK6H,MAAMuB,UAC1C,GAAC,oBAED,WAAU,IAAD,IAEC9I,EAAON,KAAK5B,MAAMkC,KAElBgE,EAAQtE,KAAK5B,MAAMkG,MACnBiF,EAAQ,GAGd,OAFc,QAAd,EAAAjJ,EAAKkJ,iBAAS,OAA+B,QAA/B,EAAd,EAAgBC,SAAQ,SAACvC,GAAC,OAAGwC,GAAaxC,EAAE,WAAC,OAA7C,EAA+C3G,QAAO,SAAC2G,GAAC,QAAKA,CAAC,IAAES,SAAQ,SAACT,GAAC,OAAGqC,EAAMI,KAAKzC,EAAE,IAErFqC,GAAQA,EAAM/I,OAWb,eAAC,IAAMqF,SAAQ,WACT,sBAAKzG,MAAO,CAAE+D,QAAQ,QAASyG,QAAS5J,KAAKsJ,aAAa,UAClD,qBAAK9G,IAAI,2BACT,sBAAMpD,MAAO0E,GAAOgB,KAAK,SAAER,OAEnC,qBAAKlF,MAAO0E,GAAOoF,MAAM,SACnBlJ,KAAK6H,MAAMuB,UAAa,cAAC,GAAU,CAAC9I,KAAMiJ,SAftD,cAAC,IAAM1D,SAAQ,UACT,sBAAKzG,MAAO,CAAE+D,QAAQ,QAAQ,UAC1B,qBAAK/D,MAAO,CAAEuD,MAAO,MACrB,sBAAMvD,MAAO0E,GAAOgB,KAAK,SAAER,QAgB/C,KAAC,EA1C6B,CAASxG,IAAMa,WA6C3C+K,GAAe,SAACrE,GAAU,IAAD,IACvB4B,EAAS,GAQb,OAPa,QAAb,EAAA5B,EAAKwE,gBAAQ,OAAO,QAAP,EAAb,EAAeN,aAAK,OAApB,EAAsB5B,SAAQ,SAACgB,GAC3B1B,EAAO0C,KAAK,aACRhB,WACGtD,GAEX,IAEO4B,CACX,ECpEMnD,GAAS,CACXC,KAAM,CACFC,SAAU,WACVa,QAAS,OACT1B,QAAS,QACTR,MAAO,OACPC,OAAQ,OACRuB,WAAY,WAYLC,GARE,SAAH,GAAiB,EAAZC,aAAqG,IAAvFC,EAAK,EAALA,MAAyBhE,GAAV,EAARiE,SAAgB,EAANC,OAAY,EAAJlE,MAAY,EAANmE,OAAgB,EAARC,SAAoB,EAAVC,WAA+B,EAAnBC,oBAC1F,OACI,qBAAKxF,MAAO0E,GAAOC,KAAK,SACpB,cAAC,GAAa,CAACzD,KAAMA,EAAMgE,MAAOA,KAG9C,ECVMwF,GAAU,SAAH,GAA6B,IAAxBC,EAAC,EAADA,EAAGC,EAAC,EAADA,EAAGC,EAAW,EAAXA,YAChBC,EAAKH,GAAG,GACRI,EAAKH,GAAG,GACZ,OAAGE,EAAKC,EAAWF,EAAc,GAAK,EACnCC,EAAKC,EAAWF,GAAe,EAAI,EAC/B,CACX,EACMG,GAAU,SAAH,GAA6B,IAAxBL,EAAC,EAADA,EAAGC,EAAC,EAADA,EAAGC,EAAW,EAAXA,YAChBC,EAAKH,GAAG,EACRI,EAAKH,GAAG,EACZ,OAAGE,EAAKC,EAAWF,EAAc,GAAK,EACnCC,EAAKC,EAAWF,GAAe,EAAI,EAC/B,CACX,EACMI,GAAS,SAAH,GAA6B,IAAxBN,EAAC,EAADA,EAAGC,EAAC,EAADA,EAAGC,EAAW,EAAXA,YACbK,EAAO,CAAC,WAAW,QAAQ,OAAO,gBAAgB,YAAY,IAChEJ,EAAKI,EAAK5J,QAAQqJ,GAClBI,EAAKG,EAAK5J,QAAQsJ,GACtB,OAAGE,EAAKC,EAAWF,EAAc,GAAK,EACnCC,EAAKC,EAAWF,GAAe,EAAI,EAC/B,CACX,EASMM,GAAiB,WACrB,IAAQC,EAASlM,OAAOC,SAAhBiM,KACK,KAATA,GACFC,YAAW,WACT,IAAM9K,EAAK6K,EAAKE,QAAQ,IAAK,IACvBC,EAAUlH,SAASC,eAAe/D,GACpCgL,GAASA,EAAQC,gBACvB,GAAG,IAEP,EAEqBzL,GAAK,kDAEtB,WAAYf,GAAQ,IAAD,EAMqB,OANrB,qBACf,cAAMA,IAQVyM,QAAW,WAAa,IAAD,OACfvK,EAAON,KAAK5B,MAAMkC,KAItB,OAHIN,KAAK5B,MAAMmC,SACXD,EAAOA,EAAKC,QAAO,SAAC2G,GAAC,OAAG,EAAK9I,MAAMmC,OAAO2G,EAAE,KAEzC5G,CACX,EAAC,EAEDwK,cAAgB,SAAUvN,GACtB,QAASyC,KAAK+K,KAAKC,MAAK,SAAC9D,GAAC,OAAG3J,EAAE2J,EAAE,GACrC,EAAC,EACD+D,WAAc,WACV,IAAIrH,EAAI,EACR,MAAO,CACH,CACIjE,GAAIiE,IACJ6D,MAAO,cACPiB,MAAO,GACPwC,QAAQ,EACRC,aAAc/G,EACdgH,KAAKf,GACL1H,MAAO,QAEX,CACIhD,GAAIiE,IACJ6D,MAAO,OACPiB,MAAO,OACPwC,QAAQ,EACRC,aAAcE,GACd1I,MAAO,SAEX,CACIhD,GAAIiE,IACJ6D,MAAO,cACPiB,MAAO,WACP4C,SAAU,gBAAEhH,EAAK,EAALA,MAAa,EAANG,OAAM,OAAW,OAALH,QAAK,IAALA,OAAK,EAALA,EAAOiH,kBAAkB,EACxDH,KAAKhB,GACLzH,MAAO,OACP8F,QAASzI,KAAK8K,eAAc,SAACrK,GAAI,aAAmB,QAAnB,EAAGA,EAAKqF,mBAAW,aAAhB,EAAkByF,kBAAkB,KAE5E,CACI5L,GAAIiE,IACJ6D,MAAO,cACPiB,MAAO,MACP4C,SAAU,oBAAEhH,EAAK,EAALA,MAAa,EAANG,OAAM,SAAa,OAALH,QAAK,IAALA,GAA2B,QAAtB,EAALA,EAAOkH,4BAAoB,WAAtB,EAAL,EAA6B9F,MAAK,KAAW,OAALpB,QAAK,IAALA,GAA2B,QAAtB,EAALA,EAAOkH,4BAAoB,WAAtB,EAAL,EAA6B7F,MAAK,IAAI,CAAC,EAChHyF,KAAKhB,GACLe,aAAc3D,GAAU,cAAe,wBACvC7E,MAAO,QACP8F,QAASzI,KAAK8K,eAAc,SAACrK,GAAI,aAAmB,QAAnB,EAAGA,EAAKqF,mBAAW,aAAhB,EAAkB0F,oBAAoB,KAE9E,CACI7L,GAAIiE,IACJ6D,MAAO,cACPiB,MAAO,KACP4C,SAAU,gBAAEhH,EAAK,EAALA,MAAa,EAANG,OAAM,OAAW,OAALH,QAAK,IAALA,OAAK,EAALA,EAAOmH,oBAAoB,EAC1DL,KAAKhB,GACLzH,MAAO,OACP8F,QAASzI,KAAK8K,eAAc,SAACrK,GAAI,aAAmB,QAAnB,EAAGA,EAAKqF,mBAAW,aAAhB,EAAkB2F,oBAAoB,KAE9E,CACI9L,GAAIiE,IACJ6D,MAAO,cACPiB,MAAO,KACP4C,SAAU,gBAAEhH,EAAK,EAALA,MAAa,EAANG,OAAM,OAAW,OAALH,QAAK,IAALA,OAAK,EAALA,EAAOoH,mBAAmB,EACzDN,KAAKhB,GACLzH,MAAO,OACP8F,QAASzI,KAAK8K,eAAc,SAACrK,GAAI,aAAmB,QAAnB,EAAGA,EAAKqF,mBAAW,aAAhB,EAAkB4F,mBAAmB,KAE7E,CACI/L,GAAIiE,IACJ6D,MAAO,cACPiB,MAAO,OACP4C,SAAU,gBAAEhH,EAAK,EAALA,MAAa,EAANG,OAAM,OAAW,OAALH,QAAK,IAALA,OAAK,EAALA,EAAOqH,qBAAqB,EAC3DP,KAAKhB,GACLzH,MAAO,OACP8F,QAASzI,KAAK8K,eAAc,SAACrK,GAAI,aAAmB,QAAnB,EAAGA,EAAKqF,mBAAW,aAAhB,EAAkB6F,qBAAqB,KAE/E,CACIhM,GAAIiE,IACJ6D,MAAO,cACPiB,MAAO,QACP4C,SAAU,gBAAEhH,EAAK,EAALA,MAAa,EAANG,OAAM,OAAW,OAALH,QAAK,IAALA,OAAK,EAALA,EAAOsH,qBAAqB,EAC3DR,KAAKhB,GACLzH,MAAO,OACP8F,QAASzI,KAAK8K,eAAc,SAACrK,GAAI,aAAmB,QAAnB,EAAGA,EAAKqF,mBAAW,aAAhB,EAAkB8F,qBAAqB,KAE/E,CACIjM,GAAIiE,IACJ6D,MAAO,cACPiB,MAAO,QACP4C,SAAU,gBAAEhH,EAAK,EAALA,MAAa,EAANG,OAAM,OAAW,OAALH,QAAK,IAALA,OAAK,EAALA,EAAOuH,aAAa,EACnDT,KAAKhB,GACLzH,MAAO,OACP8F,QAASzI,KAAK8K,eAAc,SAACrK,GAAI,aAAmB,QAAnB,EAAGA,EAAKqF,mBAAW,aAAhB,EAAkB+F,aAAa,KAEvE,CACIlM,GAAIiE,IACJ6D,MAAO,cACPiB,MAAO,QACP4C,SAAU,gBAAEhH,EAAK,EAALA,MAAa,EAANG,OAAM,OAAW,OAALH,QAAK,IAALA,OAAK,EAALA,EAAOwH,aAAa,EACnDV,KAAKhB,GACLzH,MAAO,OACP8F,QAASzI,KAAK8K,eAAc,SAACrK,GAAI,aAAmB,QAAnB,EAAGA,EAAKqF,mBAAW,aAAhB,EAAkBgG,aAAa,KAEvE,CACInM,GAAIiE,IACJ6D,MAAO,cACPiB,MAAO,KACP4C,SAAU,gBAAEhH,EAAK,EAALA,MAAa,EAANG,OAAM,OAAW,OAALH,QAAK,IAALA,OAAK,EAALA,EAAOyH,gBAAgB,EACtDX,KAAKhB,GACLzH,MAAO,OACP8F,QAASzI,KAAK8K,eAAc,SAACrK,GAAI,aAAmB,QAAnB,EAAGA,EAAKqF,mBAAW,aAAhB,EAAkBiG,gBAAgB,KAE1E,CACIpM,GAAIiE,IACJ6D,MAAO,cACPiB,MAAO,KACP4C,SAAU,gBAAEhH,EAAK,EAALA,MAAa,EAANG,OAAM,OAAW,OAALH,QAAK,IAALA,OAAK,EAALA,EAAO0H,mBAAmB,EACzDZ,KAAKhB,GACLzH,MAAO,OACP8F,QAASzI,KAAK8K,eAAc,SAACrK,GAAI,aAAmB,QAAnB,EAAGA,EAAKqF,mBAAW,aAAhB,EAAkBkG,mBAAmB,KAE7E,CACIrM,GAAIiE,IACJ6D,MAAO,cACPiB,MAAO,KACP4C,SAAU,gBAAEhH,EAAK,EAALA,MAAa,EAANG,OAAM,OAAW,OAALH,QAAK,IAALA,OAAK,EAALA,EAAO2H,mBAAmB,EACzDb,KAAKhB,GACLzH,MAAO,OACP8F,QAASzI,KAAK8K,eAAc,SAACrK,GAAI,aAAmB,QAAnB,EAAGA,EAAKqF,mBAAW,aAAhB,EAAkBmG,mBAAmB,KAE7E,CACItM,GAAIiE,IACJ6D,MAAO,cACPiB,MAAO,QACP4C,SAAU,gBAAEhH,EAAK,EAALA,MAAa,EAANG,OAAM,OAAW,OAALH,QAAK,IAALA,OAAK,EAALA,EAAO4H,6BAA4B,GAAG,EACrEd,KAAKhB,GACLzH,MAAO,OACP8F,QAASzI,KAAK8K,eAAc,SAACrK,GAAI,aAAmB,QAAnB,EAAGA,EAAKqF,mBAAW,aAAhB,EAAkBoG,0BAA0B,KAEpF,CACIvM,GAAIiE,IACJ6D,MAAO,cACPiB,MAAO,MACP4C,SAAU,gBAAEhH,EAAK,EAALA,MAAa,EAANG,OAAM,OAAW,OAALH,QAAK,IAALA,OAAK,EAALA,EAAO6H,wBAAwB,EAC9Df,KAAKhB,GACLzH,MAAO,OACP8F,QAASzI,KAAK8K,eAAc,SAACrK,GAAI,aAAmB,QAAnB,EAAGA,EAAKqF,mBAAW,aAAhB,EAAkBqG,wBAAwB,KAElF,CACIxM,GAAIiE,IACJ6D,MAAO,kBACPiB,MAAO,aACP0C,KAAKhB,GACLzH,MAAO,QACPwI,aAAcvF,GAElB,CACIjG,GAAIiE,IACJ6D,MAAO,iBACPiB,MAAO,QACP0C,KAAKhB,GACLzH,MAAO,OACP8F,SAAS,GAEb,CACI9I,GAAIiE,IACJ6D,MAAO,eACPiB,MAAO,WACP4C,SAAU,gBAAEhH,EAAK,EAALA,MAAa,EAANG,OAAM,OAAW,OAALH,QAAK,IAALA,OAAK,EAALA,EAAO5E,IAAI,EAC1CiD,MAAO,SAEX,CACIhD,GAAIiE,IACJ6D,MAAO,cACPiB,MAAO,QACP4C,SAAU,gBAAEhH,EAAK,EAALA,MAAa,EAANG,OAAM,OAAMH,CAAK,EACpC3B,MAAO,QACPyI,KAAKtB,GACLqB,aAAc9D,GACdoB,SAAS,GAGrB,EA9LI,EAAKZ,MAAM,CAAC,EAEZ,EAAKoD,WAAa,EAAKA,WAAWnK,KAAK,gBACvC,EAAK+J,QAAU,EAAKA,QAAQ/J,KAAK,gBACjC,EAAKnB,GAAG,YAAcyC,KAAKC,SAAS,CACxC,CAkNC,OAlNA,8CA2LD,WACI,IAAMiG,EAAM7E,SAASC,eAAe1D,KAAKL,IAAIyM,UAC7CpM,KAAKiI,SAAS,CAAEK,MAAK1F,OAAQ,QACjC,GAAC,oBAED,WACIyJ,IAAUC,aAAaC,aAAc,EACrCF,IAAUC,aAAaE,qBAAuB,GAC9CH,IAAUC,aAAaG,iBAAkB,EACzCJ,IAAUC,aAAaI,YAAa,EACpCL,IAAUC,aAAaK,6BAA8B,EACrD3M,KAAK+K,KAAO/K,KAAK6K,UAEjB,IAAMzC,EAAUpI,KAAKiL,aAErB,OAAQ,sBAAKtL,GAAIK,KAAKL,GAAG,UACb,cAAC,GAAc,CAACyI,QAASA,EAASxI,KAAMI,KAAK6H,QAC7C,cAAC,IAAS,CACNO,QAASA,EACT2C,KAAM/K,KAAK+K,KACXzH,OAAQiH,IACHvK,KAAK5B,MAAMgF,SAEpC,KAAC,EA3NqB,CAAStF,IAAMa,WCzCnCmL,GAAU,SAAH,GAA6B,IAAxBC,EAAC,EAADA,EAAGC,EAAC,EAADA,EAAGC,EAAW,EAAXA,YAChBC,EAAKH,GAAG,GACRI,EAAKH,GAAG,GACZ,OAAGE,EAAKC,EAAWF,EAAc,GAAK,EACnCC,EAAKC,EAAWF,GAAe,EAAI,EAC/B,CACX,EACMG,GAAU,SAAH,GAA6B,IAAxBL,EAAC,EAADA,EAAGC,EAAC,EAADA,EAAGC,EAAW,EAAXA,YAChBC,EAAKH,GAAG,EACRI,EAAKH,GAAG,EACZ,OAAGE,EAAKC,EAAWF,EAAc,GAAK,EACnCC,EAAKC,EAAWF,GAAe,EAAI,EAC/B,CACX,EACMI,GAAS,SAAH,GAA6B,IAAxBN,EAAC,EAADA,EAAGC,EAAC,EAADA,EAAGC,EAAW,EAAXA,YACbK,EAAO,CAAC,WAAW,QAAQ,OAAO,gBAAgB,YAAY,IAChEJ,EAAKI,EAAK5J,QAAQqJ,GAClBI,EAAKG,EAAK5J,QAAQsJ,GACtB,OAAGE,EAAKC,EAAWF,EAAc,GAAK,EACnCC,EAAKC,EAAWF,GAAe,EAAI,EAC/B,CACX,EASMM,GAAiB,WACrB,IAAQC,EAASlM,OAAOC,SAAhBiM,KACK,KAATA,GACFC,YAAW,WACT,IAAM9K,EAAK6K,EAAKE,QAAQ,IAAK,IACvBC,EAAUlH,SAASC,eAAe/D,GACpCgL,GAASA,EAAQC,gBACvB,GAAG,IAEP,EAEqBzL,GAAK,kDAEtB,WAAYf,GAAQ,IAAD,EAMuB,OANvB,qBACf,cAAMA,IAQVyM,QAAW,WAAa,IAAD,OACfvK,EAAON,KAAK5B,MAAMkC,KAItB,OAHIN,KAAK5B,MAAMmC,SACXD,EAAOA,EAAKC,QAAO,SAAC2G,GAAC,OAAG,EAAK9I,MAAMmC,OAAO2G,EAAE,KAEzC5G,CACX,EAAC,EAED2K,WAAc,WACV,IAAIrH,EAAI,EACR,MAAO,CACH,CACIjE,GAAIiE,IACJ6D,MAAO,cACPiB,MAAO,GACPwC,QAAQ,EACRC,aAAc/G,EACdgH,KAAKf,GACL1H,MAAO,QAEX,CACIhD,GAAIiE,IACJ6D,MAAO,OACPiB,MAAO,OACPwC,QAAQ,EACRC,aAAcE,GACd1I,MAAO,SAEX,CACIhD,GAAIiE,IACJ6D,MAAO,eACPiB,MAAO,WACP4C,SAAU,gBAAEhH,EAAK,EAALA,MAAa,EAANG,OAAM,OAAMH,EAAM5E,IAAI,EACzCiD,MAAO,SAEX,CACIhD,GAAIiE,IACJ6D,MAAO,YACPiB,MAAO,KACP4C,SAAU,oBAAEhH,EAAK,EAALA,MAAa,EAANG,OAAM,SAAa,OAALH,QAAK,IAALA,GAAwB,QAAnB,EAALA,EAAO6B,yBAAiB,WAAnB,EAAL,EAA0BT,MAAK,KAAW,OAALpB,QAAK,IAALA,GAAwB,QAAnB,EAALA,EAAO6B,yBAAiB,WAAnB,EAAL,EAA0BR,MAAK,IAAI,CAAC,EAC1GyF,KAAKhB,GACLzH,MAAO,QACPwI,aAAc3D,GAAU,YAAa,sBAEzC,CACI7H,GAAIiE,IACJ6D,MAAO,kBACPiB,MAAO,aACP0C,KAAKhB,GACLzH,MAAO,QACPwI,aAAcvF,GAElB,CACIjG,GAAIiE,IACJ6D,MAAO,iBACPiB,MAAO,QACP4C,SAAU,gBAAEhH,EAAK,EAALA,MAAa,EAANG,OAAM,OAAMH,EAAQA,EAAQ,QAAU,EAAE,EAC3D8G,KAAKhB,GACLzH,MAAO,QACP8F,SAAS,GAEb,CACI9I,GAAIiE,IACJ6D,MAAO,cACPiB,MAAO,QACP4C,SAAU,gBAAEhH,EAAK,EAALA,MAAa,EAANG,OAAM,OAAMH,CAAK,EACpC3B,MAAO,QACPyI,KAAKtB,GACLqB,aAAc9D,GACdoB,SAAS,GAGrB,EA/EI,EAAKZ,MAAM,CAAC,EAEZ,EAAKoD,WAAa,EAAKA,WAAWnK,KAAK,gBACvC,EAAK+J,QAAU,EAAKA,QAAQ/J,KAAK,gBACjC,EAAKnB,GAAG,cAAgByC,KAAKC,SAAS,CAC1C,CAiGC,OAjGA,8CA4ED,WACI,IAAMiG,EAAM7E,SAASC,eAAe1D,KAAKL,IAAIyM,UAC7CpM,KAAKiI,SAAS,CAAEK,MAAK1F,OAAQ,QACjC,GAAC,oBAED,WACIyJ,IAAUC,aAAaC,aAAc,EACrCF,IAAUC,aAAaE,qBAAuB,GAC9CH,IAAUC,aAAaG,iBAAkB,EACzCJ,IAAUC,aAAaI,YAAa,EACpCL,IAAUC,aAAaK,6BAA8B,EACrD3M,KAAK+K,KAAO/K,KAAK6K,UACjB,IAAMzC,EAAUpI,KAAKiL,aAErB,OAAQ,sBAAKtL,GAAIK,KAAKL,GAAG,UACb,cAAC,GAAc,CAACyI,QAASA,EAASxI,KAAMI,KAAK6H,QAC7C,cAAC,IAAS,CACNO,QAASA,EACT2C,KAAM/K,KAAK+K,KACXzH,OAAQiH,OAE5B,KAAC,EA1GqB,CAASzM,IAAMa,WCjD1B,SAASD,GAAOqD,EAAQ6K,EAAMC,GAAmB,IAAbnE,EAAM,UAAD,6CAACkE,EAC/CnO,EAAKsD,EAAO6K,EACZ9N,EAAW+N,EAAK9N,eAAeN,EAAGM,cAAe,WAAW,GAClE,OAAQ,oBAAIV,UAAWS,EAAQ,SAAY,cAAC,IAAI,CAACL,GAAIA,EAAGQ,cAAc,SAAEyJ,EAAMxJ,gBAAzC0N,EACzC,CCA2B,IAENE,GAAS,kDAC1B,WAAY1O,GAAQ,uCACVA,EACV,CAqCC,OArCA,mCAED,WACI,OACI,gCACI,qBAAIC,UAAU,KAAI,UACTK,GAAO,UAAW,OAAQsB,KAAK5B,MAAMG,SAASC,SAAU,SACxDE,GAAO,UAAW,SAAUsB,KAAK5B,MAAMG,SAASC,UAChDE,GAAO,UAAW,SAAUsB,KAAK5B,MAAMG,SAASC,UAChDE,GAAO,UAAW,OAAQsB,KAAK5B,MAAMG,SAASC,SAAU,QACxDE,GAAO,UAAW,OAAQsB,KAAK5B,MAAMG,SAASC,SAAU,SACxDE,GAAO,UAAW,OAAQsB,KAAK5B,MAAMG,SAASC,SAAU,QACxDE,GAAO,UAAW,WAAYsB,KAAK5B,MAAMG,SAASC,SAAU,QAC5DE,GAAO,UAAW,OAAQsB,KAAK5B,MAAMG,SAASC,SAAU,YACxDE,GAAO,UAAW,MAAOsB,KAAK5B,MAAMG,SAASC,SAAU,UACvDE,GAAO,UAAW,QAASsB,KAAK5B,MAAMG,SAASC,aAExD,eAAC,IAAM,WACFuO,GAAU,OAAQ/M,KAAK5B,MAAMkC,MAC7ByM,GAAU,SAAU/M,KAAK5B,MAAMkC,MAC/ByM,GAAU,SAAU/M,KAAK5B,MAAMkC,MAC/ByM,GAAU,OAAQ/M,KAAK5B,MAAMkC,MAC7ByM,GAAU,OAAQ/M,KAAK5B,MAAMkC,MAC7ByM,GAAU,OAAQ/M,KAAK5B,MAAMkC,MAC7ByM,GAAU,OAAQ/M,KAAK5B,MAAMkC,MAC7ByM,GAAU,WAAY/M,KAAK5B,MAAMkC,MAClC,cAAC,EAAU,CAAEuM,KAAK,aAAapP,UAAWuP,GACtC1M,KAASN,KAAK5B,MAAMkC,KAAO8C,MAAM,SACjC7C,OAAU,SAAC2G,GAAC,MAA+B,OAA3BA,EAAE+F,aAAanN,UAAiB,IAEpD,cAAC,EAAU,CAAC+M,KAAK,eAAgBpP,UAAWyP,GACxC5M,KAASN,KAAK5B,MAAMkC,KAAO8C,MAAM,QACjC7C,OAAU,SAAC2G,GAAC,cAAmB,QAAf,EAACA,EAAE+F,oBAAY,OAAd,EAAgBnN,WAAU,SAK/D,KAAC,EAxCyB,CAAShC,IAAMa,WA2CvCoO,GAAY,SAACI,EAAM7M,GACrB,IAAMuM,EAAO,UAAUM,EACvB,OAAO,cAAC,EAAU,CAAEN,KAAMA,EAAMpP,UAAWyP,GACvB5M,KAAQA,EAAM8C,MAAQ+J,EACtB5M,OAAU,SAAC2G,GAAC,OAAIA,EAAE+F,aAAapN,eAAiBsN,CAAI,GAE5E,ECrDqBhO,GAAK,kDAEtB,WAAYf,GAAQ,IAAD,EAIwB,OAJxB,qBACf,cAAMA,IAKVoB,QAAU,WACN,MAAO,CACH,CAAC,GAAI,SAACC,GAAM,OAAO,cAAC,EAAI,CAACa,KAAMb,GAAK,GACpC,CAAC,OAAQ,SAACA,GAAK,OAAOmJ,GAAWnJ,EAAE,EAAG,CAAEJ,UAAW,SACnD,CAAC,OAAO,SAACI,GAAC,OAAGA,EAAEsJ,IAAI,GACnB,CAAC,MAAM,SAACtJ,GAAC,OAAGA,EAAE2N,GAAG,GACjB,CAAC,SAAS,SAAC3N,GAAK,OAAOA,EAAE2F,OAAQ3F,EAAE2F,OAAS,IAAK,EAAE,GACnD,CAAC,YAAY,SAAC3F,GAAK,OAAOA,EAAE6F,UAAW7F,EAAE6F,UAAY,IAAK,QAAQ,GAClE,CAAC,WAAW,SAAC7F,GAAK,OAAOA,EAAE8F,SAAU9F,EAAE8F,SAAW,UAAW,EAAE,GAEvE,EAAC,EAEDxF,UAAY,WAER,OADWC,KAAKR,UACJS,KAAI,SAACC,EAAKC,GAClB,IAAIf,EAASc,EAAIM,QAAQ,EAAGN,EAAI,GAAG,CAAC,EACpC,OAAQ,qBAAId,MAAOA,EAAM,cAAmBc,EAAI,GAAE,MAAjBA,EAAI,GACzC,GACJ,EAAC,EAEDE,YAAc,WAAa,IAAD,OAClBC,EAAQL,KAAK5B,MAAMkC,KACvB,IAAKD,EAAO,MAAO,GACfL,KAAK5B,MAAMmC,QAAUP,KAAK5B,MAAMmC,OAAOC,OAAO,IAC9CH,EAAQA,EAAME,QAAO,SAACE,GAAI,OAAG,EAAKrC,MAAMmC,OAAOG,QAAQD,EAAKE,WAAa,CAAC,KAE9E,IAAIC,EAAOZ,KAAKR,UAChB,OAAOa,EAAMJ,KAAI,SAACY,EAAKV,GACnB,OAAO,6BAAgB,cAAC,GAAS,CAAaG,KAAMO,EAAKD,KAAMA,GAAxBT,IAAvBA,EACpB,GACJ,EAlCI,EAAKJ,UAAY,EAAKA,UAAUe,KAAK,gBACrC,EAAKV,YAAc,EAAKA,YAAYU,KAAK,gBACzC,EAAKtB,QAAU,EAAKA,QAAQsB,KAAK,gBAAM,CAC3C,CAwCC,OAxCA,mCAiCD,WACI,OACI,wBAAO1B,MAAO,CAACuD,MAAO,KAAK,UACvB,uBAAOvD,MAAO,CAAC+D,QAAS,QAAQ,SAAC,6BAAKnD,KAAKD,gBAC3C,gCAAQC,KAAKI,kBAGzB,KAAC,EA/CqB,CAAStC,IAAMa,WAiDnCqC,GAAY,SAAC5C,GACf,OAAOA,EAAMwC,KAAKX,KAAI,SAACC,EAAKC,GACxB,IAAIf,EAASc,EAAIM,QAAQ,EAAGN,EAAI,GAAG,CAAC,EACpC,OAAO,oBAAId,MAAOA,EAAM,SAAgBc,EAAI,GAAG9B,EAAMkC,OAAtBJ,EAAI,GACvC,GACJ,EACM0I,GAAa,SAACnJ,GAChB,IAAMF,EAAOE,EAAEyC,SAAWzC,EAAEE,GAC5B,OAAO,cAAC,IAAI,CAAClB,GAAIc,EAAK,SAAEE,EAAEC,MAE9B,EC5DMoE,GAAS,CACXgB,KAAM,CACFC,WAAY,GACZC,WAAY,SACZnC,SAAU,SACV2D,aAAc,YAElB0C,MAAO,CACHhF,WAAY,GACZa,YAAa,KAIAoE,GAAa,kDAE9B,WAAY/K,GAAQ,IAAD,EAKkC,OALlC,qBACf,cAAMA,IACDyJ,MAAQ,CACTuB,SAAU9K,OAAOC,SAASgB,KAAK8J,SAAS,EAAKjL,MAAMkC,KAAKX,GAAGV,gBAE/D,EAAKqK,aAAe,EAAKA,aAAaxI,KAAK,gBAAM,CACrD,CA6BC,OA7BA,yCACD,WACId,KAAKiI,SAAS,CAAEmB,UAAWpJ,KAAK6H,MAAMuB,UAC1C,GAAC,oBAED,WACI,IAAM9I,EAAON,KAAK5B,MAAMkC,KAClBgE,EAAQtE,KAAK5B,MAAMkG,MACnBiF,EAAQjJ,EAAKiJ,MACnB,OAAKA,GAAQA,EAAM/I,OAUb,eAAC,IAAMqF,SAAQ,WACT,sBAAKzG,MAAO,CAAE+D,QAAQ,QAASyG,QAAS5J,KAAKsJ,aAAa,UAClD,qBAAK9G,IAAI,2BACT,sBAAMpD,MAAO0E,GAAOgB,KAAK,SAAER,OAEnC,qBAAKlF,MAAO0E,GAAOoF,MAAM,SACnBlJ,KAAK6H,MAAMuB,UAAa,cAAC,GAAU,CAAC9I,KAAMiJ,SAdtD,cAAC,IAAM1D,SAAQ,UACT,sBAAKzG,MAAO,CAAE+D,QAAQ,QAAQ,UAC1B,qBAAK/D,MAAO,CAAEuD,MAAO,MACrB,sBAAMvD,MAAO0E,GAAOgB,KAAK,SAAER,QAe/C,KAAC,EArC6B,CAASxG,IAAMa,WCb3CmF,GAAS,CACXC,KAAM,CACFC,SAAU,WACVa,QAAS,eACT1B,QAAS,QACTR,MAAO,OACPC,OAAQ,OACRuB,WAAY,WAYLC,GARE,SAAH,GAAiB,EAAZC,aAAqG,IAAvFC,EAAK,EAALA,MAAyBhE,GAAV,EAARiE,SAAgB,EAANC,OAAY,EAAJlE,MAAY,EAANmE,OAAgB,EAARC,SAAoB,EAAVC,WAA+B,EAAnBC,oBAC1F,OACI,qBAAKxF,MAAO0E,GAAOC,KAAK,SACpB,cAAC,GAAa,CAACzD,KAAMA,EAAMgE,MAAOA,KAG9C,EClBMR,GAAS,CACXC,KAAM,CACFC,SAAU,WACVa,QAAS,SACT1B,QAAS,OACTR,MAAO,OACPwB,WAAY,UAEhBX,IAAK,CACDb,MAAO,GACPC,OAAO,KAaAyK,GARF,SAAH,GAAiB,EAAZhJ,aAAqG,IAAvFC,EAAK,EAALA,MAAe,EAARC,SAAgB,EAANC,OAAY,EAAJlE,KAAY,EAANmE,OAAgB,EAARC,SAAoB,EAAVC,WAA+B,EAAnBC,oBACtF,OACI,qBAAKxF,MAAO0E,GAAOC,KAAK,SACnBO,GAAS,qBAAKlF,MAAO0E,GAAON,IAAKhB,IAAI,oBAGlD,ECLM4H,GAAU,SAAH,GAA6B,IAAxBL,EAAC,EAADA,EAAGC,EAAC,EAADA,EAAGC,EAAW,EAAXA,YAChBC,EAAKH,GAAG,EACRI,EAAKH,GAAG,EACZ,OAAGE,EAAKC,EAAWF,EAAc,GAAK,EACnCC,EAAKC,EAAWF,GAAe,EAAI,EAC/B,CACX,EAUMM,GAAiB,WACrB,IAAQC,EAASlM,OAAOC,SAAhBiM,KACK,KAATA,GACFC,YAAW,WACT,IAAM9K,EAAK6K,EAAKE,QAAQ,IAAK,IACvBC,EAAUlH,SAASC,eAAe/D,GACpCgL,GAASA,EAAQC,gBACvB,GAAG,IAEP,EAEqBzL,GAAK,kDAEtB,WAAYf,GAAQ,IAAD,EAQwB,OARxB,qBACf,cAAMA,IAUVyM,QAAW,WAAa,IAAD,OACfxK,EAAQL,KAAK5B,MAAMkC,KAKvB,OAJIN,KAAK5B,MAAMmC,SACXF,EAAQA,EAAME,QAAO,SAACE,GAAI,OAAG,EAAKrC,MAAMmC,OAAOG,QAAQD,EAAKE,WAAa,CAAC,KAGvEN,CACX,EAAC,EACDyK,cAAgB,SAAUvN,GACtB,QAASyC,KAAK+K,KAAKC,MAAK,SAAC9D,GAAC,OAAG3J,EAAE2J,EAAE,GACrC,EAAC,EACD+D,WAAc,WACV,IAAIrH,EAAI,EACR,MAAO,CACH,CACIjE,GAAIiE,IACJ6D,MAAO,cACPiB,MAAO,GACPwC,QAAQ,EACRC,aAAc/G,EACdzB,MAAO,QAEX,CACIhD,GAAIiE,IACJ6D,MAAO,OACPiB,MAAO,OACPwC,QAAQ,EACRC,aAAcE,GACd1I,MAAO,SAEX,CACIhD,GAAIiE,IACJ6D,MAAO,WACPiB,MAAO,WACP/F,MAAO,SAEX,CACIhD,GAAIiE,IACJ6D,MAAO,aACPiB,MAAO,QACPyC,aAAcmC,GACdlC,KAAKhB,GACLzH,MAAO,QAEX,CACIhD,GAAIiE,IACJ6D,MAAO,gBACPiB,MAAO,KACP4C,SAAU,gBAAEhH,EAAK,EAALA,MAAa,EAANG,OAAM,OAAW,OAALH,QAAK,IAALA,OAAK,EAALA,EAAOuH,aAAa,EACnDT,KAAKhB,GACLzH,MAAO,OACP8F,QAASzI,KAAK8K,eAAc,SAACrK,GAAI,aAAqB,QAArB,EAAGA,EAAK6G,qBAAa,aAAlB,EAAoBuE,aAAa,KAEzE,CACIlM,GAAIiE,IACJ6D,MAAO,gBACPiB,MAAO,KACP4C,SAAU,gBAAEhH,EAAK,EAALA,MAAa,EAANG,OAAM,OAAW,OAALH,QAAK,IAALA,OAAK,EAALA,EAAOmH,oBAAoB,EAC1DL,KAAKhB,GACLzH,MAAO,OACP8F,QAASzI,KAAK8K,eAAc,SAACrK,GAAI,aAAqB,QAArB,EAAGA,EAAK6G,qBAAa,aAAlB,EAAoBmE,oBAAoB,KAEhF,CACI9L,GAAIiE,IACJ6D,MAAO,gBACPiB,MAAO,MACP4C,SAAU,oBAAEhH,EAAK,EAALA,MAAa,EAANG,OAAM,SAAa,OAALH,QAAK,IAALA,GAA2B,QAAtB,EAALA,EAAOkH,4BAAoB,WAAtB,EAAL,EAA6B9F,MAAK,KAAS,OAALpB,QAAK,IAALA,GAA2B,QAAtB,EAALA,EAAOkH,4BAAoB,WAAtB,EAAL,EAA6B7F,MAAK,IAAI,CAAC,EAC9GwF,aAAc3D,GAAU,gBAAgB,wBACxC7E,MAAO,OACP8F,QAASzI,KAAK8K,eAAc,SAACrK,GAAI,aAAqB,QAArB,EAAGA,EAAK6G,qBAAa,aAAlB,EAAoBkE,oBAAoB,KAEhF,CACI7L,GAAIiE,IACJ6D,MAAO,gBACPiB,MAAO,OACP4C,SAAU,gBAAEhH,EAAK,EAALA,MAAa,EAANG,OAAM,OAAW,OAALH,QAAK,IAALA,OAAK,EAALA,EAAOqH,qBAAqB,EAC3DP,KAAKhB,GACLzH,MAAO,OACP8F,QAASzI,KAAK8K,eAAc,SAACrK,GAAI,aAAqB,QAArB,EAAGA,EAAK6G,qBAAa,aAAlB,EAAoBqE,qBAAqB,KAEjF,CACIhM,GAAIiE,IACJ6D,MAAO,gBACPiB,MAAO,KACP4C,SAAU,gBAAEhH,EAAK,EAALA,MAAa,EAANG,OAAM,OAAW,OAALH,QAAK,IAALA,OAAK,EAALA,EAAOoH,mBAAmB,EACzDN,KAAKhB,GACLzH,MAAO,OACP8F,QAASzI,KAAK8K,eAAc,SAACrK,GAAI,aAAqB,QAArB,EAAGA,EAAK6G,qBAAa,aAAlB,EAAoBoE,mBAAmB,KAE/E,CACI/L,GAAIiE,IACJ6D,MAAO,gBACPiB,MAAO,SACP4C,SAAU,gBAAEhH,EAAK,EAALA,MAAa,EAANG,OAAM,OAAW,OAALH,QAAK,IAALA,OAAK,EAALA,EAAO6H,wBAAwB,EAC9Df,KAAKhB,GACLzH,MAAO,OACP8F,QAASzI,KAAK8K,eAAc,SAACrK,GAAI,aAAqB,QAArB,EAAGA,EAAK6G,qBAAa,aAAlB,EAAoB6E,wBAAwB,KAEpF,CACIxM,GAAIiE,IACJ6D,MAAO,gBACPiB,MAAO,KACP4C,SAAU,gBAAEhH,EAAK,EAALA,MAAa,EAANG,OAAM,OAAW,OAALH,QAAK,IAALA,OAAK,EAALA,EAAOwH,aAAa,EACnDV,KAAKhB,GACLzH,MAAO,OACP8F,QAASzI,KAAK8K,eAAc,SAACrK,GAAI,aAAqB,QAArB,EAAGA,EAAK6G,qBAAa,aAAlB,EAAoBwE,aAAa,KAEzE,CACInM,GAAIiE,IACJ6D,MAAO,gBACPiB,MAAO,WACP4C,SAAU,gBAAEhH,EAAK,EAALA,MAAa,EAANG,OAAM,OAAW,OAALH,QAAK,IAALA,OAAK,EAALA,EAAOiH,kBAAkB,EACxDH,KAAKhB,GACLzH,MAAO,QACP8F,QAASzI,KAAK8K,eAAc,SAACrK,GAAI,aAAqB,QAArB,EAAGA,EAAK6G,qBAAa,aAAlB,EAAoBiE,kBAAkB,KAE9E,CACI5L,GAAIiE,IACJ6D,MAAO,gBACPiB,MAAO,YACP4C,SAAU,gBAAEhH,EAAK,EAALA,MAAa,EAANG,OAAM,OAAW,OAALH,QAAK,IAALA,OAAK,EAALA,EAAOyH,gBAAgB,EACtDX,KAAKhB,GACLzH,MAAO,QACP8F,QAASzI,KAAK8K,eAAc,SAACrK,GAAI,aAAqB,QAArB,EAAGA,EAAK6G,qBAAa,aAAlB,EAAoByE,gBAAgB,KAE5E,CACIpM,GAAIiE,IACJ6D,MAAO,gBACPiB,MAAO,WACP4C,SAAU,gBAAEhH,EAAK,EAALA,MAAa,EAANG,OAAM,OAAW,OAALH,QAAK,IAALA,OAAK,EAALA,EAAO0H,mBAAmB,EACzDZ,KAAKhB,GACLzH,MAAO,QACP8F,QAASzI,KAAK8K,eAAc,SAACrK,GAAI,aAAqB,QAArB,EAAGA,EAAK6G,qBAAa,aAAlB,EAAoB0E,mBAAmB,KAE/E,CACIrM,GAAIiE,IACJ6D,MAAO,gBACPiB,MAAO,aACP4C,SAAU,gBAAEhH,EAAK,EAALA,MAAa,EAANG,OAAM,OAAW,OAALH,QAAK,IAALA,OAAK,EAALA,EAAO2H,mBAAmB,EACzDb,KAAKhB,GACLzH,MAAO,QACP8F,QAASzI,KAAK8K,eAAc,SAACrK,GAAI,aAAqB,QAArB,EAAGA,EAAK6G,qBAAa,aAAlB,EAAoB2E,mBAAmB,KAE/E,CACItM,GAAIiE,IACJ6D,MAAO,cACPiB,MAAO,WACP4C,SAAU,oBAAEhH,EAAK,EAALA,MAAa,EAANG,OAAM,SAAa,OAALH,QAAK,IAALA,GAAwB,QAAnB,EAALA,EAAO6B,yBAAiB,WAAnB,EAAL,EAA0BT,MAAK,KAAS,OAALpB,QAAK,IAALA,GAAwB,QAAnB,EAALA,EAAO6B,yBAAiB,WAAnB,EAAL,EAA0BR,MAAK,IAAI,CAAC,EACxGwF,aAAc3D,GAAU,cAAc,qBACtC4D,KAAKhB,GACLzH,MAAO,QACP8F,QAASzI,KAAK8K,eAAc,SAACrK,GAAI,aAAmB,QAAnB,EAAGA,EAAK8G,mBAAW,aAAhB,EAAkBpB,iBAAiB,KAE3E,CACIxG,GAAIiE,IACJ6D,MAAO,cACPiB,MAAO,WACP4C,SAAU,oBAAEhH,EAAK,EAALA,MAAa,EAANG,OAAM,SAAa,OAALH,QAAK,IAALA,GAAwB,QAAnB,EAALA,EAAO+B,yBAAiB,WAAnB,EAAL,EAA0BX,MAAK,KAAS,OAALpB,QAAK,IAALA,GAAwB,QAAnB,EAALA,EAAO+B,yBAAiB,WAAnB,EAAL,EAA0BV,MAAK,IAAI,CAAC,EACxGwF,aAAc3D,GAAU,cAAc,qBACtC4D,KAAKhB,GACLzH,MAAO,QACP8F,QAASzI,KAAK8K,eAAc,SAACrK,GAAI,aAAmB,QAAnB,EAAGA,EAAK8G,mBAAW,aAAhB,EAAkBlB,iBAAiB,KAE3E,CACI1G,GAAIiE,IACJ6D,MAAO,gBACPiB,MAAO,gBACP4C,SAAU,gBAAEhH,EAAK,EAALA,MAAa,EAANG,OAAM,OAAM0C,KAAKC,UAAU9C,EAAM,EACpD6G,aAAc9D,GACd1E,MAAO,QACP8F,SAAS,GAEb,CACI9I,GAAIiE,IACJ6D,MAAO,kBACPiB,MAAO,gBACP4C,SAAU,oBAAEhH,EAAK,EAALA,MAAa,EAANG,OAAM,SAAa,OAALH,QAAK,IAALA,GAAwB,QAAnB,EAALA,EAAO6B,yBAAiB,WAAnB,EAAL,EAA0BT,MAAK,KAAS,OAALpB,QAAK,IAALA,GAAwB,QAAnB,EAALA,EAAO6B,yBAAiB,WAAnB,EAAL,EAA0BR,MAAK,IAAI,CAAC,EACxGwF,aAAc3D,GAAU,kBAAkB,qBAC1C4D,KAAKhB,GACLzH,MAAO,QACP8F,QAASzI,KAAK8K,eAAc,SAACrK,GAAI,aAAuB,QAAvB,EAAGA,EAAK8M,uBAAe,aAApB,EAAsBpH,iBAAiB,KAE/E,CACIxG,GAAIiE,IACJ6D,MAAO,cACPiB,MAAO,cACP4C,SAAU,gBAAEhH,EAAK,EAALA,MAAa,EAANG,OAAM,OAAM0C,KAAKC,UAAU9C,EAAM,EACpD6G,aAAc9D,GACd1E,MAAO,QACP8F,SAAS,GAIrB,EAzMI,EAAKZ,MAAM,CAAC,EAEZ,EAAKoD,WAAa,EAAKA,WAAWnK,KAAK,gBACvC,EAAK+J,QAAU,EAAKA,QAAQ/J,KAAK,gBAEjC,EAAKnB,GAAG,iBAAiByC,KAAKC,SAAS,CAC3C,CA8NC,OA9NA,8CAqMD,WACI,IAAMO,EAASa,SAASC,eAAe1D,KAAKL,IAAI6N,aAC1ClF,EAAM7E,SAASC,eAAe1D,KAAKL,IAAIyM,UAC7CpM,KAAKiI,SAAS,CAAEK,MAAK1F,UACzB,GAAC,oBAED,WACIyJ,IAAUC,aAAaC,aAAc,EACrCF,IAAUC,aAAaE,qBAAuB,GAC9CH,IAAUC,aAAaG,iBAAkB,EACzCJ,IAAUC,aAAaI,YAAa,EACpCL,IAAUC,aAAaK,6BAA8B,EAErD3M,KAAK+K,KAAO/K,KAAK6K,UACjB,IAAMzC,EAAUpI,KAAKiL,aAErB,OAAQ,sBAAKtL,GAAIK,KAAKL,GAAG,UACb,cAAC,GAAc,CAACyI,QAASA,EAASxI,KAAMI,KAAK6H,QAC7C,cAAC,IAAS,CACNO,QAASA,EACT2C,KAAM/K,KAAK+K,KACXzH,OAAQiH,IACHvK,KAAK5B,MAAMgF,SAGpC,KAAC,EAzOqB,CAAStF,IAAMa,WC1CpBmO,GAAS,kDAC1B,WAAY1O,GAAQ,uCACVA,EACV,CAWC,OAXA,mCAED,WACI,OACI,gCACI,0CACA,cAAC,GAAe,CAACkC,KAASN,KAAK5B,MAAMkC,KAAKC,QAAO,SAAC2G,GAAC,OAAGA,EAAEuG,UAAU,MAClE,0CACA,cAAC,GAAe,CAACnN,KAASN,KAAK5B,MAAMkC,KAAKC,QAAO,SAAC2G,GAAC,OAAIA,EAAEuG,UAAU,QAG/E,KAAC,EAdyB,CAAS3P,IAAMa,WCCvCmF,GAAS,CACXC,KAAM,CACFpB,MAAO,KAEXa,IAAK,CACDb,MAAO,GACPC,OAAO,GACP8K,WAAY,EACZC,YAAa,GAEjBtI,KAAM,CACFuI,MAAO,QACPC,cAAe,aACfC,MAAM,OACN3K,QAAS,OACT7D,OAAQ,KAIKH,GAAK,kDAEtB,WAAYf,GAAQ,IAAD,EAEgC,OAFhC,qBACf,cAAMA,IAIVgC,YAAc,SAAUE,GAAO,IAAD,EAC1B,IAAKA,EAAM,MAAO,GAClB,IAAMyN,EAAW,OAAJzN,QAAI,IAAJA,GAA0B,QAAtB,EAAJA,EAAMmJ,SAAQ,SAACvC,GAAC,OAAGA,EAAE6G,IAAI,WAAC,WAAtB,EAAJ,EAA4BxN,OAAOyN,IAEhD,OAAW,OAAJD,QAAI,IAAJA,OAAI,EAAJA,EAAM9N,KAAI,SAACY,EAAKV,GACnB,OAAO,eAAC,IAAI,CAAa1B,GAAIoC,EAAIqB,SAAWrB,EAAInB,KAAO,IAAMY,EAAK,GAAGJ,IAAKd,MAAO0E,GAAOuB,KAAK,UACjF,qBAAKjG,MAAO0E,GAAON,IAAKhB,IAAI,2BAA6B3B,EAAInB,OADvDS,EAGtB,GACJ,EAZI,EAAKC,YAAc,EAAKA,YAAYU,KAAK,gBAAM,CACnD,CAkBC,OAlBA,mCAaD,WAEI,OACI,qBAAK1B,MAAO0E,GAAOC,KAAK,SAAE/D,KAAKI,YAAYJ,KAAK5B,MAAMkC,OAE9D,KAAC,EAvBqB,CAASxC,IAAMa,WAyBzC,SAASqP,GAAOvN,EAAMwN,EAAKC,GACvB,OAAOA,EAAKxN,QAAQD,IAASwN,CACjC,CChD0D,IAErC9O,GAAK,kDAEtB,WAAYf,GAAQ,IAAD,EAIwB,OAJxB,qBACf,cAAMA,IAKVoB,QAAU,WACN,MAAO,CACH,CAAC,GAAI,SAACC,GAAM,OAAO,cAAC,EAAI,CAACa,KAAMb,EAAE4F,MAAS,GAC1C,CAAC,OAAQ,SAAC5F,GAAK,OAAOmJ,GAAWnJ,EAAE4F,KAAK,EAAG,CAAEhG,UAAW,SACxD,CAAC,WAAW,SAACI,GAAK,OAAOoJ,GAAMpJ,EAAEqJ,SAAS,GAC1C,CAAC,SAAS,SAACrJ,GAAK,OAAOA,EAAE2F,OAAO,GAAG,GAE3C,EAAC,EAEDrF,UAAY,WAER,OADWC,KAAKR,UACJS,KAAI,SAACC,EAAKC,GAClB,IAAIf,EAASc,EAAIM,QAAQ,EAAGN,EAAI,GAAG,CAAC,EACpC,OAAQ,qBAAId,MAAOA,EAAM,cAAmBc,EAAI,GAAE,MAAjBA,EAAI,GACzC,GACJ,EAAC,EAEDE,YAAc,SAAUC,GAAQ,IAAD,OACvBL,KAAK5B,MAAMmC,QAAUP,KAAK5B,MAAMmC,OAAOC,OAAO,IAC9CH,EAAQA,EAAME,QAAO,SAACE,GAAI,OAAG,EAAKrC,MAAMmC,OAAOG,QAAQD,EAAKE,WAAa,CAAC,KAE9E,IAAIC,EAAOZ,KAAKR,UAChB,OAAOa,EAAMJ,KAAI,SAACY,EAAKV,GACnB,OAAO,6BAAgB,cAAC,GAAS,CAAaG,KAAMO,EAAKD,KAAMA,GAAxBT,IAAvBA,EACpB,GACJ,EA7BI,EAAKJ,UAAY,EAAKA,UAAUe,KAAK,gBACrC,EAAKV,YAAc,EAAKA,YAAYU,KAAK,gBACzC,EAAKtB,QAAU,EAAKA,QAAQsB,KAAK,gBAAM,CAC3C,CAqCC,OArCA,mCA4BD,WACI,IAAIT,EAAQL,KAAK5B,MAAMkC,KACvB,OAAU,OAALD,QAAK,IAALA,KAAOG,OAER,wBAAOpB,MAAO,CAACuD,MAAO,KAAK,UACvB,uBAAOvD,MAAO,CAAC+D,QAAS,QAAQ,SAAC,6BAAKnD,KAAKD,gBAC3C,gCAAQC,KAAKI,YAAYC,QAJN,EAO/B,KAAC,EA5CqB,CAASvC,IAAMa,WA8CnCqC,GAAY,SAAC5C,GACf,OAAOA,EAAMwC,KAAKX,KAAI,SAACC,EAAKC,GACxB,IAAIf,EAASc,EAAIM,QAAQ,EAAGN,EAAI,GAAG,CAAC,EACpC,OAAO,oBAAId,MAAOA,EAAM,SAAgBc,EAAI,GAAG9B,EAAMkC,OAAtBJ,EAAI,GACvC,GACJ,EACM0I,GAAa,SAACnJ,GAChB,IAAMF,EAAOE,EAAEyC,SAAWzC,EAAEE,GAC5B,OAAO,cAAC,IAAI,CAAClB,GAAIc,EAAK,SAAEE,EAAEC,MAC9B,EACMmJ,GAAQ,SAACpJ,GACX,OAAIA,EAAEkG,KAAOlG,EAAEiG,IAAYjG,EAAEkG,IACtBlG,EAAEiG,IAAM,IAAMjG,EAAEkG,GAC3B,EC1DM7B,GAAS,CACXgB,KAAM,CACFC,WAAY,GACZC,WAAY,SACZnC,SAAU,SACV2D,aAAc,YAElB0C,MAAO,CACHhF,WAAY,GACZa,YAAa,KAIAoE,GAAa,kDAE9B,WAAY/K,GAAQ,IAAD,EAKkC,OALlC,qBACf,cAAMA,IACDyJ,MAAQ,CACTuB,SAAU9K,OAAOC,SAASgB,KAAK8J,SAAS,EAAKjL,MAAMkC,KAAKX,GAAGV,gBAE/D,EAAKqK,aAAe,EAAKA,aAAaxI,KAAK,gBAAM,CACrD,CAgCC,OAhCA,yCACD,WACId,KAAKiI,SAAS,CAAEmB,UAAWpJ,KAAK6H,MAAMuB,UAC1C,GAAC,oBAED,WAAU,IAAD,EACC9I,EAAON,KAAK5B,MAAMkC,KAElBgE,EAAQtE,KAAK5B,MAAMkG,MACnBiF,EAAyB,QAApB,EAAGjJ,EAAK6N,oBAAY,aAAjB,EAAmB9N,MAC3B+N,EAAkB9N,EAAK8N,gBAC7B,OAAK7E,GAAU6E,EAUT,eAAC,IAAMvI,SAAQ,WACT,sBAAKzG,MAAO,CAAE+D,QAAQ,QAASyG,QAAS5J,KAAKsJ,aAAa,UAClD,qBAAK9G,IAAI,2BACT,sBAAMpD,MAAO0E,GAAOgB,KAAK,SAAER,OAEnC,sBAAKlF,MAAO0E,GAAOoF,MAAM,UACnBlJ,KAAK6H,MAAMuB,UAAa,cAAC,GAAU,CAAC9I,KAAMiJ,IAC1CvJ,KAAK6H,MAAMuB,UAAa,cAAC,GAAQ,CAAC9I,KAAM8N,UAfpD,cAAC,IAAMvI,SAAQ,UACT,sBAAKzG,MAAO,CAAE+D,QAAQ,QAAQ,UAC1B,qBAAK/D,MAAO,CAAEuD,MAAO,MACrB,sBAAMvD,MAAO0E,GAAOgB,KAAK,SAAER,QAgB/C,KAAC,EAxC6B,CAASxG,IAAMa,WCf3CmF,GAAS,CACXC,KAAM,CACFC,SAAU,WACVa,QAAS,OACT1B,QAAS,QACTR,MAAO,OACPC,OAAQ,OACRuB,WAAY,WAYLC,GARE,SAAH,GAAiB,EAAZC,aAAqG,IAAvFC,EAAK,EAALA,MAAyBhE,GAAV,EAARiE,SAAgB,EAANC,OAAY,EAAJlE,MAAY,EAANmE,OAAgB,EAARC,SAAoB,EAAVC,WAA+B,EAAnBC,oBAC1F,OACI,qBAAKxF,MAAO0E,GAAOC,KAAK,SACpB,cAAC,GAAa,CAACzD,KAAMA,EAAMgE,MAAOA,KAG9C,ECDM8F,GAAU,SAAH,GAA6B,IAAxBL,EAAC,EAADA,EAAGC,EAAC,EAADA,EAAGC,EAAW,EAAXA,YAChBC,EAAKH,GAAG,EACRI,EAAKH,GAAG,EACZ,OAAGE,EAAKC,EAAWF,EAAc,GAAK,EACnCC,EAAKC,EAAWF,GAAe,EAAI,EAC/B,CACX,EAEMM,GAAiB,WACrB,IAAQC,EAASlM,OAAOC,SAAhBiM,KACK,KAATA,GACFC,YAAW,WACT,IAAM9K,EAAK6K,EAAKE,QAAQ,IAAK,IACvBC,EAAUlH,SAASC,eAAe/D,GACpCgL,GAASA,EAAQC,gBACvB,GAAG,IAEP,EAEqBzL,GAAK,kDAEtB,WAAYf,GAAQ,IAAD,EAMwB,OANxB,qBACf,cAAMA,IAQVyM,QAAW,WAAa,IAAD,OACfvK,EAAON,KAAK5B,MAAMkC,KAKtB,OAHIN,KAAK5B,MAAMmC,SACXD,EAAOA,EAAKC,QAAO,SAAC2G,GAAC,OAAG,EAAK9I,MAAMmC,OAAO2G,EAAE,KAEzC5G,CACX,EAAC,EAED+N,aAAe,WAEX,OADcrO,KAAK+K,KAAK9K,KAAI,SAACiH,GAAC,OAAKxF,EAAiBwF,EAAE3E,QAAQpB,CAAC,IAAEmN,QAAO,SAACvE,EAAGC,GAAC,OAAK5H,KAAKuD,IAAIoE,EAAGC,EAAE,GAAE,IAAI,GACzF,IACjB,EAAC,EAEDiB,WAAc,WACV,IAAIrH,EAAI,EACR,MAAO,CACH,CACIjE,GAAIiE,IACJ6D,MAAO,SACPiB,MAAO,GACPwC,QAAQ,EACRC,aAAc/G,EACdgH,KAAKhB,GACLzH,MAAO3C,KAAKqO,gBAEhB,CACI1O,GAAIiE,IACJ6D,MAAO,OACPiB,MAAO,OACPwC,QAAQ,EACRC,aAAcE,GACd1I,MAAO,SAEX,CACIhD,GAAIiE,IACJ6D,MAAO,QACPiB,MAAO,KACP0C,KAAKhB,GACLzH,MAAO,QAEX,CACIhD,GAAIiE,IACJ6D,MAAO,eACPiB,MAAO,KACP0C,KAAKhB,GACLzH,MAAO,QAEX,CACIhD,GAAIiE,IACJ6D,MAAO,eACPiB,MAAO,MACP4C,SAAU,gBAAEhH,EAAK,EAALA,MAAa,EAANG,OAAM,SAAa,OAALH,QAAK,IAALA,OAAK,EAALA,EAAOoB,MAAK,KAAW,OAALpB,QAAK,IAALA,OAAK,EAALA,EAAOqB,MAAK,IAAI,CAAC,EACpEyF,KAAKhB,GACLe,aAAc3D,GAAU,gBACxB7E,MAAO,SAEX,CACIhD,GAAIiE,IACJ6D,MAAO,gBACPiB,MAAO,OACP0C,KAAKhB,GACLzH,MAAO,QAEX,CACIhD,GAAIiE,IACJ6D,MAAO,qBACPiB,MAAO,QACP0C,KAAKhB,GACLzH,MAAO,QAEX,CACIhD,GAAIiE,IACJ6D,MAAO,cACPiB,MAAO,KACP0C,KAAKhB,GACLzH,MAAO,QAEX,CACIhD,GAAIiE,IACJ6D,MAAO,mBACPiB,MAAO,MACP0C,KAAKhB,GACLzH,MAAO,QAEX,CACIhD,GAAIiE,IACJ6D,MAAO,QACPiB,MAAO,KACP0C,KAAKhB,GACLzH,MAAO,QAEX,CACIhD,GAAIiE,IACJ6D,MAAO,aACPiB,MAAO,WACP0C,KAAKhB,GACLzH,MAAO,QAEX,CACIhD,GAAIiE,IACJ6D,MAAO,WACPiB,MAAO,YACP0C,KAAKhB,GACLzH,MAAO,SAEX,CACIhD,GAAIiE,IACJ6D,MAAO,MACPiB,MAAO,KACP0C,KAAKhB,GACLzH,MAAO,QAEX,CACIhD,GAAIiE,IACJ6D,MAAO,kBACPiB,MAAO,aACP0C,KAAKhB,GACLzH,MAAO,QACPwI,aAAcvF,GAG1B,EAjII,EAAKiC,MAAM,CAAC,EAEZ,EAAKoD,WAAa,EAAKA,WAAWnK,KAAK,gBACvC,EAAK+J,QAAU,EAAKA,QAAQ/J,KAAK,gBACjC,EAAKnB,GAAG,eAAiByC,KAAKC,SAAS,CAC3C,CAqJC,OArJA,8CA8HD,WACI,IAAMiG,EAAM7E,SAASC,eAAe1D,KAAKL,IAAIyM,UAC7CpM,KAAKiI,SAAS,CAAEK,MAAK1F,OAAQ,QACjC,GAAC,oBAED,WAEIyJ,IAAUC,aAAaC,aAAc,EACrCF,IAAUC,aAAaE,qBAAuB,GAC9CH,IAAUC,aAAaG,iBAAkB,EACzCJ,IAAUC,aAAaI,YAAa,EACpCL,IAAUC,aAAaK,6BAA8B,EACrD3M,KAAK+K,KAAO/K,KAAK6K,UACjB,IAAMzC,EAAUpI,KAAKiL,aAErB,OAAQ,sBAAKtL,GAAIK,KAAKL,GAAG,UACb,cAAC,GAAc,CAACyI,QAASA,EAASxI,KAAMI,KAAK6H,QAC7C,cAAC,IAAS,CACNO,QAASA,EACT2C,KAAM/K,KAAK+K,KACXzH,OAAQiH,IACHvK,KAAK5B,MAAMgF,SAEpC,KAAC,EA9JqB,CAAStF,IAAMa,WChCpB4P,GAAY,kDAC7B,WAAYnQ,GAAQ,uCACVA,EACV,CAkCC,OAlCA,mCAED,WACI,OACI,gCACI,qBAAIC,UAAU,KAAI,UACTK,GAAO,aAAc,SAAUsB,KAAK5B,MAAMG,SAASC,UACnDE,GAAO,aAAc,SAAUsB,KAAK5B,MAAMG,SAASC,UACnDE,GAAO,aAAc,UAAWsB,KAAK5B,MAAMG,SAASC,UACpDE,GAAO,aAAc,SAAUsB,KAAK5B,MAAMG,SAASC,UACnDE,GAAO,aAAc,QAASsB,KAAK5B,MAAMG,SAASC,UAClDE,GAAO,aAAc,QAASsB,KAAK5B,MAAMG,SAASC,UAClDE,GAAO,aAAc,YAAasB,KAAK5B,MAAMG,SAASC,UACtDE,GAAO,aAAc,WAAYsB,KAAK5B,MAAMG,SAASC,UACrDE,GAAO,aAAc,QAASsB,KAAK5B,MAAMG,SAASC,UAClDE,GAAO,aAAc,QAASsB,KAAK5B,MAAMG,SAASC,aAE3D,eAAC,IAAM,WACFuO,GAAU,SAAU/M,KAAK5B,MAAMkC,MAC/ByM,GAAU,WAAY/M,KAAK5B,MAAMkC,MACjCyM,GAAU,SAAU/M,KAAK5B,MAAMkC,MAC/ByM,GAAU,SAAU/M,KAAK5B,MAAMkC,MAC/ByM,GAAU,QAAS/M,KAAK5B,MAAMkC,MAC9ByM,GAAU,UAAW/M,KAAK5B,MAAMkC,MAChCyM,GAAU,YAAa/M,KAAK5B,MAAMkC,MAClCyM,GAAU,QAAS/M,KAAK5B,MAAMkC,MAC9ByM,GAAU,QAAS/M,KAAK5B,MAAMkC,MAC/B,cAAC,EAAU,CAAEuM,KAAK,kBAAkBpP,UAAW+Q,GAC3ClO,KAAQN,KAAK5B,MAAMkC,KAAM8C,MAAO,QAChC7C,OAAU,SAAC2G,GAAC,MAAgB,oBAAZA,EAAEhF,QAA4B,SAKlE,KAAC,EArC4B,CAASpE,IAAMa,WAuC1CoO,GAAY,SAAC0B,EAAGnO,GAClB,IAAMuM,EAAO,aAAa4B,EAC1B,OAAO,cAAC,EAAU,CAAE5B,KAAMA,EAAMpP,UAAW+Q,GACvBlO,KAAQA,EAAM8C,MAAQqL,EACtBlO,OAAU,SAAC2G,GAAC,SAAOA,EAAEwH,eAAcxH,EAAE8B,QAAQ9B,EAAEyH,cAAcF,CAAC,GAEtF,EC/CqBtP,GAAK,kDAEtB,WAAYf,GAAQ,IAAD,EAIwB,OAJxB,qBACf,cAAMA,IAKVoB,QAAU,WACN,MAAO,CACH,CAAC,GAAI,SAACC,GAAM,OAAO,cAAC,EAAI,CAACa,KAAMb,EAAE4F,MAAS,EAAG,CAAE1C,MAAO,KACtD,CAAC,OAAQ,SAAClD,GAAK,OAAOmJ,GAAWnJ,EAAE4F,KAAK,EAAG,CAAEhG,UAAW,OAAQsD,MAAO,MACvE,CAAC,WAAW,SAAClD,GAAK,OAAOoJ,GAAMpJ,EAAEqJ,SAAS,EAAG,CAAEnG,MAAO,KACtD,CAAC,QAAQ,SAAClD,GAAK,OAAOmP,GAAqBnP,EAAE4F,KAAM,KAAM,OAAO,EAAG,CAAEhG,UAAW,UAChF,CAAC,MAAM,SAACI,GAAK,OAAOmP,GAAqBnP,EAAE4F,MAAO,KAAM,OAAO,EAAG,CAAEhG,UAAW,UAEvF,EAAC,EAEDU,UAAY,WAER,OADWC,KAAKR,UACJS,KAAI,SAACC,EAAKC,GAClB,IAAIf,EAASc,EAAIM,QAAQ,EAAGN,EAAI,GAAG,CAAC,EACpC,OAAQ,qBAAId,MAAOA,EAAM,cAAmBc,EAAI,GAAE,MAAjBA,EAAI,GACzC,GACJ,EAAC,EAEDE,YAAc,SAAUC,GAAQ,IAAD,OACvBL,KAAK5B,MAAMmC,QAAUP,KAAK5B,MAAMmC,OAAOC,OAAO,IAC9CH,EAAQA,EAAME,QAAO,SAACE,GAAI,OAAG,EAAKrC,MAAMmC,OAAOG,QAAQD,EAAKE,WAAa,CAAC,KAE9E,IAAIC,EAAOZ,KAAKR,UAChB,OAAOa,EAAMJ,KAAI,SAACY,EAAKV,GACnB,OAAO,6BAAgB,cAAC,GAAS,CAAaG,KAAMO,EAAKD,KAAMA,GAAxBT,IAAvBA,EACpB,GACJ,EA9BI,EAAKJ,UAAY,EAAKA,UAAUe,KAAK,gBACrC,EAAKV,YAAc,EAAKA,YAAYU,KAAK,gBACzC,EAAKtB,QAAU,EAAKA,QAAQsB,KAAK,gBAAM,CAC3C,CAsCC,OAtCA,mCA6BD,WACI,IAAIR,EAAON,KAAK5B,MAAMkC,KACtB,OAAKA,EAED,wBAAOlB,MAAO,CAACuD,MAAO,KAAK,UACvB,uBAAOvD,MAAO,CAAC+D,QAAS,QAAQ,SAAC,6BAAKnD,KAAKD,gBAC3C,gCAAQC,KAAKI,YAAYE,QAJf,EAOtB,KAAC,EA7CqB,CAASxC,IAAMa,WA+CnCqC,GAAY,SAAC5C,GACf,OAAOA,EAAMwC,KAAKX,KAAI,SAACC,EAAKC,GACxB,IAAIf,EAASc,EAAIM,QAAQ,EAAGN,EAAI,GAAG,CAAC,EACpC,OAAO,oBAAId,MAAOA,EAAM,SAAgBc,EAAI,GAAG9B,EAAMkC,OAAtBJ,EAAI,GACvC,GACJ,EACM0I,GAAa,SAACnJ,GAChB,IAAMF,EAAOE,EAAEyC,SAAWzC,EAAEE,GAC5B,OAAO,cAAC,IAAI,CAAClB,GAAIc,EAAK,SAAEE,EAAEC,MAC9B,EACMmJ,GAAQ,SAACpJ,GACX,OAAIA,EAAEkG,KAAOlG,EAAEiG,IAAYjG,EAAEkG,IACtBlG,EAAEiG,IAAM,IAAMjG,EAAEkG,GAC3B,EACMiJ,GAAuB,SAACnP,EAAGoP,GAC7B,IAAMC,EAAOrP,EAAEsP,eACf,OAAOD,EAAO1M,KAAK4M,MAAMF,EAAOD,EACpC,EChEqB1P,GAAK,kDAEtB,WAAYf,GAAQ,IAAD,EAIwB,OAJxB,qBACf,cAAMA,IAKVoB,QAAU,WACN,MAAO,CACH,CAAC,GAAI,SAACC,GAAM,OAAO,cAAC,EAAI,CAACa,KAAMb,EAAE4F,MAAS,EAAG,CAAE1C,MAAO,KACtD,CAAC,OAAQ,SAAClD,GAAK,OAAOmJ,GAAWnJ,EAAE4F,KAAK,EAAG,CAAEhG,UAAW,OAAQsD,MAAO,MACvE,CAAC,WAAW,SAAClD,GAAK,OAAOoJ,GAAMpJ,EAAEqJ,SAAS,GAC1C,CAAC,WAAY,SAACrJ,GAAC,MAAI,eAAe,GAG1C,EAAC,EAEDM,UAAY,WAER,OADWC,KAAKR,UACJS,KAAI,SAACC,EAAKC,GAClB,IAAIf,EAASc,EAAIM,QAAQ,EAAGN,EAAI,GAAG,CAAC,EACpC,OAAQ,qBAAId,MAAOA,EAAM,cAAmBc,EAAI,GAAE,MAAjBA,EAAI,GACzC,GACJ,EAAC,EAEDE,YAAc,SAAUC,GAAQ,IAAD,OACvBL,KAAK5B,MAAMmC,QAAUP,KAAK5B,MAAMmC,OAAOC,OAAO,IAC9CH,EAAQA,EAAME,QAAO,SAACE,GAAI,OAAG,EAAKrC,MAAMmC,OAAOG,QAAQD,EAAKE,WAAa,CAAC,KAE9E,IAAIC,EAAOZ,KAAKR,UAChB,OAAOa,EAAMJ,KAAI,SAACY,EAAKV,GACnB,OAAO,6BAAgB,cAAC,GAAS,CAAaG,KAAMO,EAAKD,KAAMA,GAAxBT,IAAvBA,EACpB,GACJ,EA9BI,EAAKJ,UAAY,EAAKA,UAAUe,KAAK,gBACrC,EAAKV,YAAc,EAAKA,YAAYU,KAAK,gBACzC,EAAKtB,QAAU,EAAKA,QAAQsB,KAAK,gBAAM,CAC3C,CAuCC,OAvCA,mCA6BD,WACI,IAAIR,EAAON,KAAK5B,MAAMkC,KACtB,OAAKA,EAGD,wBAAOlB,MAAO,CAACuD,MAAO,KAAK,UACvB,uBAAOvD,MAAO,CAAC+D,QAAS,QAAQ,SAAC,6BAAKnD,KAAKD,gBAC3C,gCAAQC,KAAKI,YAAYE,QALf,EAQtB,KAAC,EA9CqB,CAASxC,IAAMa,WAgDnCqC,GAAY,SAAC5C,GACf,OAAOA,EAAMwC,KAAKX,KAAI,SAACC,EAAKC,GACxB,IAAIf,EAASc,EAAIM,QAAQ,EAAGN,EAAI,GAAG,CAAC,EACpC,OAAO,oBAAId,MAAOA,EAAM,SAAgBc,EAAI,GAAG9B,EAAMkC,OAAtBJ,EAAI,GACvC,GACJ,EACM0I,GAAa,SAACnJ,GAChB,IAAMF,EAAOE,EAAEyC,SAAWzC,EAAEE,GAC5B,OAAO,cAAC,IAAI,CAAClB,GAAIc,EAAK,SAAEE,EAAEC,MAC9B,EACMmJ,GAAQ,SAACpJ,GACX,OAAK,OAADA,QAAC,IAADA,OAAC,EAADA,EAAGkG,OAAQ,OAADlG,QAAC,IAADA,OAAC,EAADA,EAAGiG,KAAa,OAADjG,QAAC,IAADA,OAAC,EAADA,EAAGkG,IACzBlG,EAAEiG,IAAM,IAAMjG,EAAEkG,GAC3B,EC7DqBxG,GAAK,kDAEtB,WAAYf,GAAQ,IAAD,EAIwB,OAJxB,qBACf,cAAMA,IAKVoB,QAAU,WACN,MAAO,CACH,CAAC,GAAI,SAACC,GAAC,OAAI2E,GAAS3E,EAAE,EAAE,CAAEkD,MAAO,KACjC,CAAC,OAAQ,SAAClD,GAAK,OAAOA,EAAEC,IAAI,EAAG,CAAEL,UAAW,SAEpD,EAAC,EAEDU,UAAY,WAER,OADWC,KAAKR,UACJS,KAAI,SAACC,EAAKC,GAClB,IAAIf,EAASc,EAAIM,QAAQ,EAAGN,EAAI,GAAG,CAAC,EACpC,OAAQ,qBAAId,MAAOA,EAAM,cAAmBc,EAAI,GAAE,MAAjBA,EAAI,GACzC,GACJ,EAAC,EAEDE,YAAc,SAAUC,GAAQ,IAAD,OACvBL,KAAK5B,MAAMmC,QAAUP,KAAK5B,MAAMmC,OAAOC,OAAO,IAC9CH,EAAQA,EAAME,QAAO,SAACE,GAAI,OAAG,EAAKrC,MAAMmC,OAAOG,QAAQD,EAAKE,WAAa,CAAC,KAE9E,IAAIC,EAAOZ,KAAKR,UAChB,OAAOa,EAAMJ,KAAI,SAACY,EAAKV,GACnB,OAAO,6BAAgB,cAAC,GAAS,CAAaG,KAAMO,EAAKD,KAAMA,GAAxBT,IAAvBA,EACpB,GACJ,EA3BI,EAAKJ,UAAY,EAAKA,UAAUe,KAAK,gBACrC,EAAKV,YAAc,EAAKA,YAAYU,KAAK,gBACzC,EAAKtB,QAAU,EAAKA,QAAQsB,KAAK,gBAAM,CAC3C,CAoCC,OApCA,mCA0BD,WACI,IAAIR,EAAON,KAAK5B,MAAMkC,KACtB,OAAKA,EAGD,wBAAOlB,MAAO,CAACuD,MAAO,KAAK,UACvB,uBAAOvD,MAAO,CAAC+D,QAAS,QAAQ,SAAC,6BAAKnD,KAAKD,gBAC3C,gCAAQC,KAAKI,YAAYE,QALf,EAQtB,KAAC,EA3CqB,CAASxC,IAAMa,WA6CnCqC,GAAY,SAAC5C,GACf,OAAOA,EAAMwC,KAAKX,KAAI,SAACC,EAAKC,GACxB,IAAIf,EAASc,EAAIM,QAAQ,EAAGN,EAAI,GAAG,CAAC,EACpC,OAAO,oBAAId,MAAOA,EAAM,SAAgBc,EAAI,GAAG9B,EAAMkC,OAAtBJ,EAAI,GACvC,GACJ,EAaMkE,GAAW,SAAC9D,GACd,IAAMf,EAAQe,EAAK4B,SAAY5B,EAAKX,GACpC,OAAO,cAAC,IAAI,CAAClB,GAAIc,EAAK,SAAC,qBAAK6D,MAAO9C,EAAKX,GAAI6C,IAAI,8BACpD,EC3DMwL,I,MAAS,SAACvN,EAAMwN,EAAKC,GAAI,OAAKA,EAAKxN,QAAQD,IAASwN,CAAI,GAEzC9E,GAAa,kDAE9B,WAAY/K,GAAQ,IAAD,sBAKf,IAAI2P,GAJJ,cAAM3P,IAIUA,MAAMkC,KAAK8N,gBAUsB,OAT7CL,EAAKvN,OAAS,IACduN,EAAOA,EAAK,GAAGA,KAAKxN,OAAOyN,KAE/B,EAAKiB,YAhBW,KACA,MAesBlB,EAAKvN,OAAS,GAGpD,EAAKqH,MAAQ,CACTuB,SAAU9K,OAAOC,SAASgB,KAAK8J,SAAS,EAAKjL,MAAMkC,KAAKX,GAAGV,gBAE/D,EAAKqK,aAAe,EAAKA,aAAaxI,KAAK,gBAAM,CACrD,CA0CC,OA1CA,yCACD,WACId,KAAKiI,SAAS,CAAEmB,UAAWpJ,KAAK6H,MAAMuB,UAC1C,GAAC,oBAED,WAAU,IAAD,QACC9I,EAAON,KAAK5B,MAAMkC,KAElBgE,EAAQtE,KAAK5B,MAAMkG,MACnBiF,EAAyB,QAApB,EAAGjJ,EAAK6N,oBAAY,aAAjB,EAAmB9N,MAC3B6O,EAAS5O,EAAK6O,WACdC,EAAkB,GAIxB,OAHoB,QAApB,EAAA9O,EAAK8O,uBAAe,OAApB,EAAsBzH,SAAQ,SAACT,GAAC,OAAGkI,EAAgBzF,KAAKzC,EAAE,IACnC,QAAvB,EAAA5G,EAAK+O,0BAAkB,OAA4B,QAA5B,EAAvB,EAAyB5F,SAAQ,SAACvC,GAAC,OAAGA,EAAE7B,KAAKhF,KAAK,WAAC,OAAnD,EAAqDsH,SAAQ,SAACT,GAAC,OAAGkI,EAAgBzF,KAAKzC,EAAE,IAEpFqC,GAAgB,OAAN2F,QAAM,IAANA,KAAQ1O,QAA0B,OAAf4O,QAAe,IAAfA,KAAiB5O,OAW/C,eAAC,IAAMqF,SAAQ,WACX,sBAAKxH,UAAU,eACXe,MAAO,CAACwD,OAAQ5C,KAAKiP,aACrBrF,QAAS5J,KAAKsJ,aAAa,UAE3B,qBAAK9G,IAAI,2BACT,sBAAMnE,UAAU,eAAc,SAAEiG,OAEpC,sBAAKjG,UAAU,gBAAe,UACxB2B,KAAK6H,MAAMuB,UAAa,cAAC,GAAc,CAAC9I,KAAMiJ,IAC9CvJ,KAAK6H,MAAMuB,UAAa,cAAC,GAAe,CAAC9I,KAAM8O,IAC/CpP,KAAK6H,MAAMuB,UAAa,cAAC,GAAW,CAAC9I,KAAM4O,UApBjD,cAAC,IAAMrJ,SAAQ,UACX,sBAAKzG,MAAO,CAAE+D,QAAQ,QAAQ,UAC1B,qBAAK/D,MAAO,CAAEuD,MAAO,MACrB,sBAAMtE,UAAU,eAAc,SAAEiG,QAsBpD,KAAC,EA5D6B,CAASxG,IAAMa,WCV3CmF,GAAS,CACXC,KAAM,CACFC,SAAU,WACVa,QAAS,OACT1B,QAAS,QACTR,MAAO,OACPC,OAAQ,OACRuB,WAAY,WAYLC,GARE,SAAH,GAAiB,EAAZC,aAAqG,IAAvFC,EAAK,EAALA,MAAyBhE,GAAV,EAARiE,SAAgB,EAANC,OAAY,EAAJlE,MAAY,EAANmE,OAAgB,EAARC,SAAoB,EAAVC,WAA+B,EAAnBC,oBAC1F,OACI,qBAAKxF,MAAO0E,GAAOC,KAAK,SACpB,cAAC,GAAa,CAACzD,KAAMA,EAAMgE,MAAOA,KAG9C,ECjBA,SAAS0J,GAAOvN,EAAMwN,EAAKC,GACvB,OAAOA,EAAKxN,QAAQD,IAASwN,CACjC,CAEA,IAAM7N,GAAc,SAAUE,GAAO,IAAD,EAC5B,IAAKA,EAAM,MAAO,GAClB,IAAMyN,EAAW,OAAJzN,QAAI,IAAJA,GAA4B,QAAxB,EAAJA,EAAMmJ,SAAQ,SAACvC,GAAC,OAAKA,EAAE6G,IAAI,WAAC,WAAxB,EAAJ,EAA8BxN,OAAOyN,IAClD,OAAW,OAAJD,QAAI,IAAJA,OAAI,EAAJA,EAAM9N,KAAI,SAACY,EAAKV,GACnB,IAAMZ,EAAOsB,EAAIqB,SAAWrB,EAAInB,KAAO,IAAMY,EAAK,GAAGJ,IACrD,OAAO,cAAC,IAAI,CAAazB,GAAIc,EAAMlB,UAAU,oBAAmB,SAAEwC,EAAInB,MAApDS,EACtB,GACJ,EAMWkN,GAJF,SAAH,GAAiB,EAAZhJ,aAAmB,EAALC,MAAe,EAARC,SAAgB,EAANC,OAAsE,IAA9DlE,EAAI,EAAJA,KAAY,EAANmE,OAAgB,EAARC,SAAoB,EAAVC,WAA+B,EAAnBC,oBACtF,OAAO,8BAAMxE,GAAYE,EAAK8N,kBAClC,ECTMkB,GAAgB,SAAH,GAA6B,IAAD,QAAvBvF,EAAC,EAADA,EAAGC,EAAC,EAADA,EAAGC,EAAW,EAAXA,YACtBC,GAAU,QAAJ,EAAAH,EAAE,UAAE,aAAJ,EAAMgE,QAAkB,QAAd,EAAEhE,EAAE,GAAGgE,KAAK,UAAE,aAAZ,EAAcrO,OAAO,GACvCyK,GAAU,QAAJ,EAAAH,EAAE,UAAE,aAAJ,EAAM+D,QAAkB,QAAd,EAAE/D,EAAE,GAAG+D,KAAK,UAAE,aAAZ,EAAcrO,OAAO,GAC3C,OAAGwK,EAAKC,EAAWF,EAAc,GAAK,EACnCC,EAAKC,EAAWF,GAAe,EAAI,EAC/B,CACX,EACMG,GAAU,SAAH,GAA6B,IAAxBL,EAAC,EAADA,EAAGC,EAAC,EAADA,EAAGC,EAAW,EAAXA,YAChBC,EAAKH,GAAG,EACRI,EAAKH,GAAG,EACZ,OAAGE,EAAKC,EAAWF,EAAc,GAAK,EACnCC,EAAKC,EAAWF,GAAe,EAAI,EAC/B,CACX,EAEMM,GAAiB,WACrB,IAAQC,EAASlM,OAAOC,SAAhBiM,KACK,KAATA,GACFC,YAAW,WACT,IAAM9K,EAAK6K,EAAKE,QAAQ,IAAK,IACvBC,EAAUlH,SAASC,eAAe/D,GACpCgL,GAASA,EAAQC,gBACvB,GAAG,IAEP,EAEqBzL,GAAK,kDAEtB,WAAYf,GAAQ,IAAD,EAMoB,OANpB,qBACf,cAAMA,IAQVyM,QAAW,WAAa,IAAD,OACfvK,EAAON,KAAK5B,MAAMkC,KAItB,OAHIN,KAAK5B,MAAMmC,SACXD,EAAOA,EAAKC,QAAO,SAAC2G,GAAC,OAAG,EAAK9I,MAAMmC,OAAO2G,EAAE,KAEzC5G,CACX,EAAC,EAED+N,aAAe,WAEX,OADcrO,KAAK+K,KAAK9K,KAAI,SAACiH,GAAC,OAAKxF,EAAiBwF,EAAE3E,QAAQpB,CAAC,IAAEmN,QAAO,SAACvE,EAAGC,GAAC,OAAK5H,KAAKuD,IAAIoE,EAAGC,EAAE,GAAE,IAAI,GACzF,IACjB,EAAC,EAEDiB,WAAc,WACV,IAAIrH,EAAI,EACR,MAAO,CACH,CACIjE,GAAIiE,IACJ6D,MAAO,SACPiB,MAAO,GACPwC,QAAQ,EACRC,aAAc/G,EACdgH,KAAKhB,GACLzH,MAAO3C,KAAKqO,gBAEhB,CACI1O,GAAIiE,IACJ6D,MAAO,OACPiB,MAAO,OACPwC,QAAQ,EACRC,aAAcE,GACd1I,MAAO,SAEX,CACIhD,GAAIiE,IACJ6D,MAAO,kBACPiB,MAAO,YACP0C,KAAMkE,GACNnE,aAAcoE,GACd5M,MAAO,SAEX,CACIhD,GAAIiE,IACJ6D,MAAO,aACPiB,MAAO,aACP4C,SAAU,gBAAEhH,EAAK,EAALA,MAAa,EAANG,OAAM,OAAW,OAALH,QAAK,IAALA,OAAK,EAALA,EAAO9D,MAAM,EAC5CmC,MAAO,SAInB,EAzDI,EAAKkF,MAAM,CAAC,EAEZ,EAAKoD,WAAa,EAAKA,WAAWnK,KAAK,gBACvC,EAAK+J,QAAU,EAAKA,QAAQ/J,KAAK,gBACjC,EAAKnB,GAAG,WAAayC,KAAKC,SAAS,CACvC,CA2EC,OA3EA,8CAsDD,WACI,IAAMiG,EAAM7E,SAASC,eAAe1D,KAAKL,IAAIyM,UAC7CpM,KAAKiI,SAAS,CAAEK,MAAK1F,OAAQ,QACjC,GAAC,oBAED,WACIyJ,IAAUC,aAAaC,aAAc,EACrCF,IAAUC,aAAaE,qBAAuB,GAC9CH,IAAUC,aAAaG,iBAAkB,EACzCJ,IAAUC,aAAaI,YAAa,EACpCL,IAAUC,aAAaK,6BAA8B,EACrD3M,KAAK+K,KAAO/K,KAAK6K,UACjB,IAAMzC,EAAUpI,KAAKiL,aAErB,OAAQ,sBAAKtL,GAAIK,KAAKL,GAAG,UACb,cAAC,GAAc,CAACyI,QAASA,EAASxI,KAAMI,KAAK6H,QAC7C,cAAC,IAAS,CACNO,QAASA,EACT2C,KAAM/K,KAAK+K,KACXzH,OAAQiH,OAE5B,KAAC,EApFqB,CAASzM,IAAMa,WC7BpB4P,GAAY,kDAC7B,WAAYnQ,GAAQ,uCACVA,EACV,CA+BC,OA/BA,mCAED,WACI,OACI,gCACI,qBAAIC,UAAU,KAAI,UACbK,GAAO,QAAS,WAAYsB,KAAK5B,MAAMG,SAASC,UAChDE,GAAO,QAAS,MAAOsB,KAAK5B,MAAMG,SAASC,UAC3CE,GAAO,QAAS,MAAOsB,KAAK5B,MAAMG,SAASC,UAC3CE,GAAO,QAAS,MAAOsB,KAAK5B,MAAMG,SAASC,aAEhD,eAAC,IAAM,WACH,cAAC,EAAU,CAAEqO,KAAK,WAAWpP,UAAW+R,GACpClP,KAAQN,KAAK5B,MAAMkC,KAAM8C,MAAO,MAChC7C,OAAU,SAAC2G,GAAC,MAAgB,aAAZA,EAAEhF,QAAqB,IAE3C,cAAC,EAAU,CAAE2K,KAAK,WAAWpP,UAAW+R,GACpClP,KAAQN,KAAK5B,MAAMkC,KAAM8C,MAAO,MAChC7C,OAAU,SAAC2G,GAAC,MAAgB,aAAZA,EAAEhF,QAAqB,IAE3C,cAAC,EAAU,CAAE2K,KAAK,WAAWpP,UAAW+R,GACpClP,KAAQN,KAAK5B,MAAMkC,KAAM8C,MAAO,MAChC7C,OAAU,SAAC2G,GAAC,MAAgB,aAAZA,EAAEhF,QAAqB,IAE3C,cAAC,EAAU,CAAE2K,KAAK,gBAAgBpP,UAAW+R,GACzClP,KAAQN,KAAK5B,MAAMkC,KAAM8C,MAAO,WAChC7C,OAAU,SAAC2G,GAAC,MAAgB,kBAAZA,EAAEhF,QAA0B,SAKhE,KAAC,EAlC4B,CAASpE,IAAMa,WCF3BQ,GAAK,kDAEtB,WAAYf,GAAQ,IAAD,EAIwB,OAJxB,qBACf,cAAMA,IAKVoB,QAAU,WACN,MAAO,CACH,CAAC,GAAI,SAACC,GAAM,OAAO,cAAC,EAAI,CAACa,KAAMb,GAAM,GACrC,CAAC,OAAQ,SAACA,GAAK,OAAOmJ,GAAWnJ,EAAE,EAAG,CAAEJ,UAAW,SAE3D,EAAC,EAEDU,UAAY,WAER,OADWC,KAAKR,UACJS,KAAI,SAACC,EAAKC,GAClB,IAAIf,EAASc,EAAIM,QAAQ,EAAGN,EAAI,GAAG,CAAC,EACpC,OAAQ,qBAAId,MAAOA,EAAM,cAAmBc,EAAI,GAAE,MAAjBA,EAAI,GACzC,GACJ,EAAC,EAEDE,YAAc,WAAa,IAAD,OAClBE,EAAON,KAAK5B,MAAMkC,KACtB,IAAKA,EAAM,MAAO,GACdN,KAAK5B,MAAMmC,QAAUP,KAAK5B,MAAMmC,OAAOC,OAAO,IAC9CF,EAAOA,EAAKC,QAAO,SAACE,GAAI,OAAG,EAAKrC,MAAMmC,OAAOG,QAAQD,EAAKE,WAAa,CAAC,KAE5E,IAAIC,EAAOZ,KAAKR,UAChB,OAAOc,EAAKL,KAAI,SAACY,EAAKV,GAClB,OAAO,6BAAgB,cAAC,GAAS,CAAaG,KAAMO,EAAKD,KAAMA,GAAxBT,IAAvBA,EACpB,GACJ,EA7BI,EAAKJ,UAAY,EAAKA,UAAUe,KAAK,gBACrC,EAAKV,YAAc,EAAKA,YAAYU,KAAK,gBACzC,EAAKtB,QAAU,EAAKA,QAAQsB,KAAK,gBAAM,CAC3C,CAmCC,OAnCA,mCA4BD,WACI,OACI,wBAAO1B,MAAO,CAACuD,MAAO,KAAK,UACvB,uBAAOvD,MAAO,CAAC+D,QAAS,QAAQ,SAAC,6BAAKnD,KAAKD,gBAC3C,gCAAQC,KAAKI,kBAGzB,KAAC,EA1CqB,CAAStC,IAAMa,WA4CnCqC,GAAY,SAAC5C,GACf,OAAOA,EAAMwC,KAAKX,KAAI,SAACC,EAAKC,GACxB,IAAIf,EAASc,EAAIM,QAAQ,EAAGN,EAAI,GAAG,CAAC,EACpC,OAAO,oBAAId,MAAOA,EAAM,SAAgBc,EAAI,GAAG9B,EAAMkC,OAAtBJ,EAAI,GACvC,GACJ,EACM0I,GAAa,SAACnJ,GAChB,IAAMF,EAAOE,EAAEyC,SAAWzC,EAAEE,GAC5B,OAAO,cAAC,IAAI,CAAClB,GAAIc,EAAK,SAAEE,EAAEC,MAC9B,ECtDMoE,GAAS,CACXC,KAAM,CACFgB,WAAY,GACZpC,MAAO,IACPtD,UAAW,SAKEF,GAAK,kDAEtB,WAAYf,GAAQ,IAAD,EAgBlB,OAhBkB,qBACf,cAAMA,IAGVgC,YAAc,WACV,IAAIE,EAAON,KAAK5B,MAAMkC,KACtB,OAAKA,EAEEA,EAAK8K,MAAK,SAACrB,EAAEC,GAAC,OAAMD,EAAE0F,SAASzF,EAAEyF,QAAQ,IAAGxP,KAAI,SAACY,EAAKV,GACzD,IAAM9B,EAAewC,EAAI6O,cAAe,MAAS7O,EAAI8O,iBAAkB,WAAMxH,EAC7E,OAAO,qBAAI9J,UAAWA,EAAU,UACnBwC,EAAI+O,UACF/O,EAAI8O,kBAAkB,mCAAM9O,EAAI8O,iBAAgB,WAChD9O,EAAI6O,eAAe,iDAHIvP,EAK1C,IATkB,EAUtB,EAAC,CAdD,CAkBC,OAlBA,mCAgBD,WACI,OAAO,oBAAIf,MAAO0E,GAAOC,KAAK,SAAE/D,KAAKI,eACzC,KAAC,EAtBqB,CAAStC,IAAMa,WCRnCmF,GAAS,CACXgB,KAAM,CACFC,WAAY,GACZC,WAAY,SACZnC,SAAU,SACV2D,aAAc,YAElB0C,MAAO,CACHhF,WAAY,GACZa,YAAa,KAIAoE,GAAa,kDAE9B,WAAY/K,GAAQ,IAAD,EAKkC,OALlC,qBACf,cAAMA,IACDyJ,MAAQ,CACTuB,SAAU9K,OAAOC,SAASgB,KAAK8J,SAAS,EAAKjL,MAAMkC,KAAKX,GAAGV,gBAE/D,EAAKqK,aAAe,EAAKA,aAAaxI,KAAK,gBAAM,CACrD,CAkCC,OAlCA,yCACD,WACId,KAAKiI,SAAS,CAAEmB,UAAWpJ,KAAK6H,MAAMuB,UAC1C,GAAC,oBAED,WACI,IAAM9I,EAAON,KAAK5B,MAAMkC,KAClBgE,EAAQtE,KAAK5B,MAAMkG,MAEnBuL,EAASvP,EAAKuP,OACdtG,EAAQjJ,EAAKiJ,MAEnB,OAAKA,GAAUsG,EAUT,eAAC,IAAMhK,SAAQ,WACT,sBAAKzG,MAAO,CAAE+D,QAAQ,QAASyG,QAAS5J,KAAKsJ,aAAa,UAClD,qBAAK9G,IAAI,2BACT,sBAAMpD,MAAO0E,GAAOgB,KAAK,SAAER,OAEnC,sBAAKlF,MAAO0E,GAAOoF,MAAM,UACnBlJ,KAAK6H,MAAMuB,UAAa,cAAC,GAAU,CAAC9I,KAAMuP,IAC1C7P,KAAK6H,MAAMuB,UAAa,cAAC,GAAU,CAAC9I,KAAMiJ,UAftD,cAAC,IAAM1D,SAAQ,UACT,sBAAKzG,MAAO,CAAE+D,QAAQ,QAAQ,UAC1B,qBAAK/D,MAAO,CAAEuD,MAAO,MACrB,sBAAMvD,MAAO0E,GAAOgB,KAAK,SAAER,QAiB/C,KAAC,EA1C6B,CAASxG,IAAMa,WCd3CmF,GAAS,CACXC,KAAM,CACFC,SAAU,WACVa,QAAS,OACT1B,QAAS,QACTR,MAAO,OACPC,OAAQ,OACRuB,WAAY,WAYLC,GARE,SAAH,GAAiB,EAAZC,aAAqG,IAAvFC,EAAK,EAALA,MAAyBhE,GAAV,EAARiE,SAAgB,EAANC,OAAY,EAAJlE,MAAY,EAANmE,OAAgB,EAARC,SAAoB,EAAVC,WAA+B,EAAnBC,oBAC1F,OACI,qBAAKxF,MAAO0E,GAAOC,KAAK,SACpB,cAAC,GAAa,CAACzD,KAAMA,EAAMgE,MAAOA,KAG9C,ECbMwF,GAAU,SAAH,GAA6B,IAAxBC,EAAC,EAADA,EAAGC,EAAC,EAADA,EAAGC,EAAW,EAAXA,YAChBC,EAAKH,GAAG,GACRI,EAAKH,GAAG,GACZ,OAAGE,EAAKC,EAAWF,EAAc,GAAK,EACnCC,EAAKC,EAAWF,GAAe,EAAI,EAC/B,CACX,EAQMI,GAAS,SAAH,GAA6B,IAAxBN,EAAC,EAADA,EAAGC,EAAC,EAADA,EAAGC,EAAW,EAAXA,YACbK,EAAO,CAAC,WAAW,QAAQ,OAAO,gBAAgB,YAAY,IAChEJ,EAAKI,EAAK5J,QAAQqJ,GAClBI,EAAKG,EAAK5J,QAAQsJ,GACtB,OAAGE,EAAKC,EAAWF,EAAc,GAAK,EACnCC,EAAKC,EAAWF,GAAe,EAAI,EAC/B,CACX,EASMM,GAAiB,WACrB,IAAQC,EAASlM,OAAOC,SAAhBiM,KACK,KAATA,GACFC,YAAW,WACT,IAAM9K,EAAK6K,EAAKE,QAAQ,IAAK,IACvBC,EAAUlH,SAASC,eAAe/D,GACpCgL,GAASA,EAAQC,gBACvB,GAAG,IAEP,EAEqBzL,GAAK,kDAEtB,WAAYf,GAAQ,IAAD,EAMuB,OANvB,qBACf,cAAMA,IAQVyM,QAAW,WAAa,IAAD,OACfvK,EAAON,KAAK5B,MAAMkC,KAItB,OAHIN,KAAK5B,MAAMmC,SACXD,EAAOA,EAAKC,QAAO,SAAC2G,GAAC,OAAG,EAAK9I,MAAMmC,OAAO2G,EAAE,KAEzC5G,CACX,EAAC,EAED2K,WAAc,WACV,IAAIrH,EAAI,EACR,MAAO,CACH,CACIjE,GAAIiE,IACJ6D,MAAO,KACPiB,MAAO,GACPwC,QAAQ,EACRC,aAAc/G,GACdgH,KAAKf,GACL1H,MAAO,QAEX,CACIhD,GAAIiE,IACJ6D,MAAO,OACPiB,MAAO,OACPwC,QAAQ,EACRC,aAAcE,GACd1I,MAAO,SAEX,CACIhD,GAAIiE,IACJ6D,MAAO,SACPiB,MAAO,OACP/F,MAAO,QACP2I,SAAU,kBAAEhH,EAAK,EAALA,MAAa,EAANG,OAAM,OAAc,QAAd,EAAMH,EAAM,UAAE,aAAR,EAAUsL,OAAO,EAChDzE,aAAc2E,GACd1E,KAAKtB,IAGjB,EA7CI,EAAKjC,MAAM,CAAC,EAEZ,EAAKoD,WAAa,EAAKA,WAAWnK,KAAK,gBACvC,EAAK+J,QAAU,EAAKA,QAAQ/J,KAAK,gBACjC,EAAKnB,GAAG,cAAgByC,KAAKC,SAAS,CAC1C,CA+DC,OA/DA,8CA0CD,WACI,IAAMiG,EAAM7E,SAASC,eAAe1D,KAAKL,IAAIyM,UAC7CpM,KAAKiI,SAAS,CAAEK,MAAK1F,OAAQ,QACjC,GAAC,oBAED,WACIyJ,IAAUC,aAAaC,aAAc,EACrCF,IAAUC,aAAaE,qBAAuB,GAC9CH,IAAUC,aAAaG,iBAAkB,EACzCJ,IAAUC,aAAaI,YAAa,EACpCL,IAAUC,aAAaK,6BAA8B,EACrD3M,KAAK+K,KAAO/K,KAAK6K,UACjB,IAAMzC,EAAUpI,KAAKiL,aAErB,OAAQ,sBAAKtL,GAAIK,KAAKL,GAAG,UACb,cAAC,GAAc,CAACyI,QAASA,EAASxI,KAAMI,KAAK6H,QAC7C,cAAC,IAAS,CACNO,QAASA,EACT2C,KAAM/K,KAAK+K,KACXzH,OAAQiH,OAE5B,KAAC,EAxEqB,CAASzM,IAAMa,WA2EnCyF,GAAW,SAAH,GAAiB,EAAZC,aAAqG,IAAvFC,EAAK,EAALA,MAAyBhE,GAAV,EAARiE,SAAgB,EAANC,OAAY,EAAJlE,MAChDf,GAD4D,EAANkF,OAAgB,EAARC,SAAoB,EAAVC,WAA+B,EAAnBC,oBAC5EtE,EAAK4B,SAAY5B,EAAKX,IACpC,OAAO,eAAC,IAAI,CAAClB,GAAIc,EAAK,UACX,qBAAKI,GAAI2E,EAAOjG,UAAU,eAC1B,qBAAKe,MAAO,CAAC6E,YAAa,EAAGC,WAAY,GAAI1B,IAAI,+BAEhE,EACMsN,GAAW,SAAH,GAAiB,EAAZzL,aAAqG,IAAvFC,EAAK,EAALA,MAAe,EAARC,SAAgB,EAANC,OAAY,EAAJlE,KAAY,EAANmE,OAAgB,EAARC,SAAoB,EAAVC,WAA+B,EAAnBC,oBAQ1F,OAAO,mBAAGxF,MAPG,CACTC,UAAW,OACX0F,WAAY,GACZC,WAAY,SACZnC,SAAU,SACV2D,aAAc,YAEI,SAAElC,GAC5B,ECvIqBwI,GAAS,kDAC1B,WAAY1O,GAAQ,uCACVA,EACV,CAaC,OAbA,mCAED,WACI,OACI,8BAEQ,cAAC,GAAW,CACRkC,KAASN,KAAK5B,MAAMkC,KAAO8C,MAAM,SACjC7C,OAAU,SAAC2G,GAAC,OAAIA,EAAE6I,WAAmB,mBAAN7I,EAAEvH,EAAsB,KAK3E,KAAC,EAhByB,CAAS7B,IAAMa,WCCxBmD,GAAI,kDAErB,WAAY1D,GAAQ,uCACVA,EACV,CA4BC,OA5BA,mCAED,WAEI,MAAoB4B,KAAK5B,MAAlBkC,EAAI,EAAJA,KAAM2B,EAAI,EAAJA,KAEP+N,EAAK1P,EAAK2P,QAChB,IAAKD,EAAI,OAAO,qBAAK5Q,MAAO,CACpB4E,SAAU,WACVsE,IAAKtI,KAAK5B,MAAMgD,EAAG8O,KAAMlQ,KAAK5B,MAAM+C,EACpCwB,MAAM,GAAIC,OAAO,GACjBuN,gBAAiB,MAAOC,QAAS,MAEzC,IAAMvO,EAAOmO,EAAGtQ,KACVS,EAAQG,EAAK+P,QACb7N,EAAMC,GAAOZ,GAEbyO,EAAKN,EAAGO,UAAYtO,EAAO,GAC3BuO,EAAKR,EAAGS,WAAaxO,EAAO,GAE9B0B,EAAIE,GAAY1D,EAAO6P,EAAIM,EAAIE,EAAIvO,GACnC7C,EAAQ,CAAEE,OAAO,GAAD,OAAKqE,EAAEvC,EAAC,kBAAUuC,EAAExC,EAAC,MAAMwB,MAAM,GAAD,OAAKgB,EAAE+M,EAAC,MAAMvN,QAAS,SAE3E,OAAO,qBAAK/D,MAAO,CAAEuD,MAAM,GAAD,OAAI2N,EAAE,MAAM1N,OAAO,GAAD,OAAI4N,EAAE,MAAM3N,SAAU,SAC9CmB,SAAU,WAAYkM,KAAMlQ,KAAK5B,MAAM+C,EAAGmH,IAAKtI,KAAK5B,MAAMgD,GACxD,SACV,qBAAKoB,IAAKA,EAAKpD,MAAOA,KAEtC,KAAC,EAhCoB,CAAStB,IAAMa,WAkC9B8D,GAAS,SAACZ,GACZ,GAAKA,EACL,MAAO,aAAaA,EAAK,MAC7B,EACMgC,GAAc,SAACD,EAAGoM,EAAIM,EAAIE,EAAIvO,GAChC,IAAIyO,EAAIV,EAAGrN,MAAQV,EAAO,GACtBU,EAAQqN,EAAGrN,MAAQqN,EAAGO,UACtBpP,GAAMyC,EAAIjB,EAAQ2N,EAEtB,MAAO,CAACnP,IAAGC,IADAwC,EAAI4M,EAAKrP,GAAKwB,EACX+N,IAClB,EC3CEC,GAAe,SAAC5G,EAAGC,GAGrB,OAFAD,EAAIA,EAAE6G,YAAY7G,EAAErK,MAAM,GAC1BsK,EAAIA,EAAE4G,YAAY5G,EAAEtK,MAAM,GACnBqK,EAAE8G,cAAc7G,EAC3B,EAEqBuE,GAAY,kDAC7B,WAAYnQ,GAAQ,IAAD,EAuHlB,OAvHkB,qBACf,cAAMA,IAGV0S,gBAAkB,SAAUxQ,EAAM2B,EAAMvC,GACpC,IAAI+H,EAAQnH,EAAKmH,MACjB,IAAKA,EAAO,MAAO,GACnB,IAAIsJ,EAASzQ,EAAK0Q,UAAUzQ,QAAO,SAAC2G,EAAEtD,GAAC,OAAKsD,EAAExH,MAAQA,CAAI,IAE1D,OAAO+H,EAAMxH,KAAI,SAACY,EAAKV,GACnB,OAAO,cAAC,GAAS,CAAaG,KAAMO,EAAKkQ,OAAQA,EAAQ3P,EAAGjB,EAAO8B,KAAMA,GAAlD9B,EAC3B,GACJ,EAAC,EAED8Q,YAAc,SAAUC,EAAOjP,GAAO,IAAD,OACjC,IAAKiP,EAAO,MAAO,GACnB,IAAI/Q,EAAQ,EACZ,OAAO+Q,EAAM9F,KAAKuF,IAAc1Q,KAAI,SAACY,GAAS,IAAD,EACnCwE,EAAOxE,EAAIwE,KACjB,IAAKA,EAAM,MAAO,GAElB,IAAIhH,EAAY,WACVmM,EAA0B,QAAtB,EAAG,EAAKpM,MAAMG,gBAAQ,aAAnB,EAAqBiM,KAC7BA,GAAQ,IAAI3J,EAAInB,MAAQ8K,GAAQ,IAAI3J,EAAI+P,aACzCvS,GAAwB,WAI5B,IAFA,IAAMyK,GAAYjI,EAAIiI,UAAY,GAAK,EACjC7B,EAAS,GACNrD,EAAI,EAAGA,EAAIkF,EAAUlF,IAAK,CAC/BzD,IACA,IAAMf,EAAQ,CACV8Q,KAAMrP,EAAIM,EAAIgQ,GAAatQ,EAAI8B,MAAQ,IACvC2F,IAAKzH,EAAIO,EAAI+P,GAAatQ,EAAI+B,OAAS,KAEvC+F,EAAUtD,EAAK+L,SAASjR,EAAMkF,EAAK+L,SAAS5Q,QAChD,GAAImI,EAAS,CACT,IAAMzI,EAAMyI,EAAQhJ,GAAG,IAAIQ,EAC3B8G,EAAO0C,KACH,qBAAgBvK,MAAOA,EAAOf,UAAWA,EAAW+E,MAAOuF,EAAQjJ,KAAK,SACpE,cAAC,EAAI,CAACY,KAAMqI,EAAS1G,KAAMA,EAAMD,aAAa,UADvC9B,GAInB,CACJ,CACA,OAAO+G,CACX,GACJ,EAAC,EACDoK,aAAe,SAAUC,EAAQrP,GAAO,IAAD,OAEnC,OAAKqP,EACEA,EAAOrR,KAAI,SAACY,GAAS,IAAD,EACnBxC,EAAY,UACgB,QAAtB,EAAG,EAAKD,MAAMG,gBAAQ,aAAnB,EAAqBiM,OACtB,IAAI3J,EAAInB,OAChBrB,GAAwB,WAE5B,IAAM4I,EAAS,GAET7H,EAAQ,CACV8Q,KAAMrP,EAAIM,EACVmH,IAAKzH,EAAIO,EACTuB,MAAO9B,EAAI8B,MACXC,OAAQ/B,EAAI+B,QAGV1C,EAAMW,EAAInB,KAKhB,OAJAuH,EAAO0C,KACC,qBAAgBvK,MAAOA,EAAOf,UAAWA,EAAW+E,MAAOvC,EAAInB,MAApDQ,IAGZ+G,CACX,IAtBoB,EAuBxB,EAAC,EAEDsK,gBAAkB,SAAUC,EAAQvP,GAAO,IAAD,OACtC,OAAKuP,EACEA,EAAOvR,KAAI,SAACY,EAAKV,GAAW,IAAD,EACxBf,EAAQ,CACV2F,WAAYlE,EAAIM,EAChBuM,UAAW7M,EAAIO,EACfuB,MAAO9B,EAAI8B,MACXC,OAAQ/B,EAAI+B,QAEZvE,EAAY,aACO,QAAnB,IAAKD,MAAMG,gBAAQ,aAAnB,EAAqBiM,OAAQ,IAAI3J,EAAInB,OACrCrB,GAAwB,WAE5B,IAAMkB,EAAO,QAAUsB,EAAIZ,IAAM,IAAMY,EAAI4Q,MAC3C,OACI,cAAC,IAAI,CAAcrS,MAAOA,EAAOgE,MAAOvC,EAAIZ,IAAKxB,GAAIc,EAAMlB,UAAWA,GAA1D8B,EAEpB,IAhBoB,EAiBxB,EAAC,EAEDuR,WAAa,SAAUC,EAAO1P,GAC1B,OAAK0P,EAEEA,EAAM1R,KAAI,SAACY,EAAKV,GACnB,IAAMf,EAAQ,CACV2F,WAAYlE,EAAIM,EAChBuM,UAAW7M,EAAIO,EACfuB,MAAO9B,EAAI8B,MACXC,OAAQ/B,EAAI+B,QAEhB,OAAO,qBAAkBxD,MAAOA,EAAOgE,MAAOvC,EAAI+Q,QAASvT,UAAU,QAAnD8B,EACtB,IAVmB,EAWvB,EAAC,EAED0R,mBAAqB,SAAUvR,EAAM2B,GACjC,OACQ,sBAAK5D,UAAU,eAAc,UACxB2B,KAAKqR,aAAiB,OAAJ/Q,QAAI,IAAJA,OAAI,EAAJA,EAAMwR,SACxB9R,KAAKqR,aAAiB,OAAJ/Q,QAAI,IAAJA,OAAI,EAAJA,EAAMyR,YACxB/R,KAAKiR,YAAgB,OAAJ3Q,QAAI,IAAJA,OAAI,EAAJA,EAAM4Q,OACvBlR,KAAKuR,gBAAoB,OAAJjR,QAAI,IAAJA,OAAI,EAAJA,EAAM0R,WAC3BhS,KAAK0R,WAAe,OAAJpR,QAAI,IAAJA,OAAI,EAAJA,EAAMqR,SAIvC,EAAC,CArHD,CAmJC,OAnJA,mCAuHD,WACG,IAAIrR,EAAON,KAAK5B,MAAMkC,KAClB2R,EAAWjS,KAAK5B,MAAM8T,uBACtBjQ,EAAOjC,KAAK5B,MAAM6D,MAAQ,GAE9B,IAAK3B,EACD,MAAO,aAGX2R,GAAYjV,EAAMgD,KAAK5B,MAAMkC,MAE7B,IAAIqC,EAAQV,EAAO3B,EAAKqC,MACpBC,EAASX,EAAO3B,EAAKsC,OAEzB,OACK,sBAAKxD,MAAO,CAAC+Q,gBAAgB,QAASxN,MAAMA,EAAOC,OAAOA,EAAQoB,SAAS,WAAY1E,OAAO,QAAS,UAClGU,KAAK8Q,gBAAgBxQ,EAAM2B,EAAM,QACjCjC,KAAK8Q,gBAAgBxQ,EAAM2B,EAAM,UACjCjC,KAAK8Q,gBAAgBxQ,EAAM2B,EAAM,WACjCjC,KAAK8Q,gBAAgBxQ,EAAM2B,EAAM,aAEjCjC,KAAK8Q,gBAAgBxQ,EAAM2B,EAAM,SACjCjC,KAAK8Q,gBAAgBxQ,EAAM2B,EAAM,OAEjCgQ,GAAY,qBAAK7S,MAAO,CAAC4E,SAAU,YAAY,SAAEhE,KAAK6R,mBAAmBvR,EAAK6R,aAAclQ,OAIzG,KAAC,EAtJ4B,CAASnE,IAAMa,WAwJ1CqC,GAAY,SAAC5C,GACf,IAAOkC,EAAyBlC,EAAzBkC,KAAMyQ,EAAmB3S,EAAnB2S,OAAQ3P,EAAWhD,EAAXgD,EAAGa,EAAQ7D,EAAR6D,KACxB,OAAO3B,EAAKL,KAAI,SAACmS,EAAMjS,GAAK,OAAK,cAAC,GAAU,CAACG,KAAM8R,EAAMrB,OAAQA,EAAQ5P,EAAGhB,EAAM8B,EAAMb,EAAGA,EAAEa,EAAMA,KAAMA,GAAY9B,EAAQ,GACjI,EACMkS,GAAa,SAACjU,GAChB,IAAOkC,EAA4BlC,EAA5BkC,KAAMyQ,EAAsB3S,EAAtB2S,OAAQ5P,EAAc/C,EAAd+C,EAAGC,EAAWhD,EAAXgD,EAAGa,EAAQ7D,EAAR6D,KAC3B,OAAO8O,EACE9Q,KAAI,SAACqS,GAAC,OAAKhS,EAAKgS,EAAE5S,KAAK,IACvBa,QAAO,SAACgS,GAAE,OAAGA,CAAE,IACftS,KAAI,SAACsS,EAAIpS,GACd,OAAO,cAAC,GAAO,CAACG,KAAMiS,EAAIpR,EAAGA,EAAGC,EAAGA,EAAGa,KAAMA,GAAY9B,EAC5D,GACJ,EACA,SAASgR,GAAaxL,GACpB,OAAOvD,KAAKoQ,MAAMpQ,KAAKC,UAAYsD,EAAM,GAC3C,CC/KwC,IAEnB4I,GAAY,kDAC7B,WAAYnQ,GAAQ,IAAD,EA0BlB,OA1BkB,qBACf,cAAMA,IAEVgC,YAAc,SAAUE,EAAM2B,GAC1B,IAAI8L,EAAOzN,EAAKyN,KAChB,OAAKA,EAEEA,EAAK9N,KAAI,SAACY,EAAKV,GAClB,IAAIf,EAAQ,CACR8Q,MAAOrP,EAAIM,EAAIb,EAAKa,GAAKc,EACzBqG,KAAMzH,EAAIO,EAAId,EAAKc,GAAKa,EACxBU,MAAO9B,EAAIwE,KAAK1C,MAAQV,EACxBW,OAAQ/B,EAAIwE,KAAKzC,OAASX,GAE1BwQ,EAAS,CACT9P,MAAO9B,EAAIwE,KAAK1C,MAAQV,EACxBW,OAAQ/B,EAAIwE,KAAKzC,OAASX,GAExB1C,EAAO,QAAUsB,EAAIlB,GACrB6C,EAAM,gBAAkB3B,EAAIlB,GAAK,OACvC,OACI,cAAC,IAAI,CAACP,MAAOA,EAAOgE,MAAOvC,EAAIlB,GAAgBlB,GAAIc,EAAK,SACpD,qBAAKH,MAAOqT,EAAQjQ,IAAKA,KADWrC,EAIhD,IApBkB,EAqBtB,EAAC,CAxBD,CAiDC,OAjDA,mCAyBD,WACG,MAAgCH,KAAK5B,MAA7BsU,EAAS,EAATA,UAEJ9T,EAFuB,EAARL,SAEIC,SAASmU,UAAU,UAAUnS,QAC/C5B,IACDA,EAAU,UAGd,IAAI0B,EAAOoS,EAAUE,YAAYhU,GACjC,IAAK0B,EAAO,MAAO,aACnBtD,EAAMsD,GAEN,IAAM2B,EAAQ3B,EAAKyN,KAAKvN,OAAS,IAAO,EAC1BF,EAAKyN,KAAKvN,OAAU,GAAM,EAC1BF,EAAKyN,KAAKvN,OAAW,EAAK,EAC3B,GAEPpB,EAAQ,CAAEwD,OAAQtC,EAAKsC,OAASX,GAEtC,OACK,qBAAK7C,MAAOA,EAAOyT,MAAM,YAAW,SAC/B7S,KAAKI,YAAYE,EAAM2B,IAGpC,KAAC,EApD4B,CAASnE,IAAMa,WCC3BmU,GAAI,kDACrB,WAAY1U,GAAQ,IAAD,EAWlB,OAXkB,qBACf,cAAMA,IAGV2U,gBAAkB,SAAUzS,EAAM9B,GAC9B,IAAIwU,EAAW1S,EAAK0S,SACpB,OAAKA,EAEEA,EAAS/S,KAAI,SAACY,EAAKV,GACtB,OAAOzB,GAAO,UAAWmC,EAAIlB,GAAInB,EAAUqC,EAAIlB,GAAG,KAAKkB,EAAIkN,KAAKvN,OAAO,IAC3E,IAJsB,EAK1B,EAAC,CATD,CA4BC,OA5BA,mCAUD,WACI,MAAsCR,KAAK5B,MAAnCkC,EAAI,EAAJA,KAAMoS,EAAS,EAATA,UAAWnU,EAAQ,EAARA,SACrB0B,EAAM1B,EAASC,SAASmU,UAAU,QAAQnS,QAC9C,OAAKF,EAGD,gCACI,qBAAIjC,UAAU,KAAI,UACd,qBAAKmE,IAAI,uBAAuBpD,MAAO,CAAC0O,MAAM,OAAQJ,WAAW,IAAK9D,QAAS5J,KAAK5B,MAAMkL,eACxFtJ,KAAK5B,MAAMgL,UAAapJ,KAAK+S,gBAAgBL,EAAWnU,EAASC,aAEvE,eAAC,IAAM,YACDyB,GAAO,cAAC,GAAS,CAACK,KAASA,EAAOoS,UAAcA,IAClD,cAAC,EAAU,CAAC7F,KAAK,SAASpP,UAAWwV,GAAW3S,KAASA,EAAOoS,UAAcA,IAC9E,cAAC,GAAQ,CAACpS,KAASA,EAAKL,GAAOiS,uBAAuB,eAXhD,EAetB,KAAC,EA/BoB,CAASpU,IAAMa,WCClCuU,GAA2B,SAACzT,EAAG0T,GAC7B,IAAK1T,EAAG,OAAO,EACf,IACIiM,EAMAjM,EANAiM,oBAAqBD,EAMrBhM,EANqBgM,qBACrBF,EAKA9L,EALA8L,mBAAoBY,EAKpB1M,EALoB0M,yBACpBX,EAIA/L,EAJA+L,qBACAG,EAGAlM,EAHAkM,sBAAuBC,EAGvBnM,EAHuBmM,sBACvBC,EAEApM,EAFAoM,cAAeC,EAEfrM,EAFeqM,cACfC,EACAtM,EADAsM,iBAAkBC,EAClBvM,EADkBuM,oBAAqBC,EACvCxM,EADuCwM,oBAwB3C,MAAO,CAtBS,EAAE7J,KAAKgR,IAAIhR,KAAKuD,IAAI,EAAG+F,GAAsB,KAAO,GAAGA,EACvD,GAAItJ,KAAKgR,IAAIhR,KAAKuD,IAAI,EAAE8F,GAAuB,KAAO,EAAErJ,KAAKgR,IAAIhR,KAAKiR,IAAIjR,KAAKsD,IAAI,EAAE+F,IAAuB,KAE7G0H,EACN,GAAI/Q,KAAKgR,IAAI,GAAK7H,EAAoB,GAAK,GAAGA,GAC7C,KAAOA,EACF,KAAOY,EACFgH,EACX,GAAG/Q,KAAKgR,IAAIhR,KAAKuD,IAAI,EAAuB,OAApB6F,QAAoB,IAApBA,OAAoB,EAApBA,EAAsB9F,KAAM,KAClD,GAAGtD,KAAKgR,IAAIhR,KAAKuD,IAAI,EAAuB,OAApB6F,QAAoB,IAApBA,OAAoB,EAApBA,EAAsB9F,KAAM,GAA+B,IAAN,OAApB8F,QAAoB,IAApBA,OAAoB,EAApBA,EAAsB9F,KACtEyN,EACX,EAAE/Q,KAAKgR,IAAIhR,KAAKuD,IAAI,EAAuB,OAApB6F,QAAoB,IAApBA,OAAoB,EAApBA,EAAsB7F,KAAM,KACjD,EAAEvD,KAAKgR,IAAIhR,KAAKuD,IAAI,EAAuB,OAApB6F,QAAoB,IAApBA,OAAoB,EAApBA,EAAsB7F,KAAM,GAA+B,IAAN,OAApB6F,QAAoB,IAApBA,OAAoB,EAApBA,EAAsB7F,KACzE,IAAIvD,KAAKgR,IAAIzH,EAAuB,GACpC,GAAGvJ,KAAKgR,IAAIhR,KAAKuD,IAAI,EAAGiG,GAAwB,GAE7C,GAAGxJ,KAAKgR,IAAIhR,KAAKuD,IAAI,EAAEkG,GAAgB,KAAO,GAAGA,EACjD,GAAGzJ,KAAKgR,IAAIhR,KAAKuD,IAAI,EAAEmG,GAAgB,GAAK,IAAIA,EAC7C,IAAI1J,KAAKgR,IAAIhR,KAAKuD,IAAI,GAAGoG,GAAmB,KAAO,IAAIA,EACxD,IAAI3J,KAAKgR,IAAIhR,KAAKuD,IAAI,GAAGqG,GAAsB,GAAK,IAAIA,EACxD,IAAI5J,KAAKgR,IAAIhR,KAAKuD,IAAI,GAAGsG,GAAsB,GAAK,IAAIA,GAIzBqC,QAAO,SAACvE,EAAGC,GAAC,OAAK5H,KAAK4M,MAAMjF,GAAG,GAAK3H,KAAK4M,MAAMhF,GAAG,EAAE,GAAE,EAClH,EAEMsJ,GAAmB,SAAC7T,GACtB,IAAKA,EAAG,OAAO,EACf,IAAM8T,EAAiBC,GAAS/T,EAAE0G,mBAClC,GAAsB,GAAlBoN,EAAqB,OAAO,EAChC,IAAME,EAAc,GAAIC,GAAOH,GAAgBnR,KAAKgR,IAAIhR,KAAKiR,IAAIE,GAAiB,GAAK,EAAEA,EACzF,OAAOnR,KAAK4M,MAAMyE,EACtB,EACMC,GAAS,SAACxM,GACZ,OAAIA,EAAI,EAAU,EACdA,EAAI,GAAW,EACZ,CACX,EACMsM,GAAW,SAAC/T,GACd,SAAU,OAADA,QAAC,IAADA,OAAC,EAADA,EAAGkG,MAAK,KAAO,OAADlG,QAAC,IAADA,OAAC,EAADA,EAAGiG,MAAK,IAAI,CACvC,EACMiO,GAAsB,SAAClU,EAAGmU,EAAQC,GACpC,IAAKpU,EAAG,OAAO,EACf,IAAM8T,EAAiBC,GAAS/T,EAAE0G,mBAC5B2N,EAAiBN,GAAS/T,EAAE4G,mBAClC,GAAsB,GAAlBkN,GAAyC,GAAlBO,EAAqB,OAAO,EAEvD,IAAML,EAAeG,EAAOxR,KAAKgR,IAAIhR,KAAKuD,IAAI,EAAE4N,GAAiB,KAAO,IAAIA,EACtEQ,EAAeF,EAAOzR,KAAKgR,IAAIhR,KAAKuD,IAAI,EAAEmO,GAAiB,KAAO,IAAIA,EAC5E,OAAO1R,KAAK4M,MAAMyE,GAAerR,KAAK4M,MAAM+E,EAChD,EAEMC,GAAmB,SAACvU,GACtB,OAAOkU,GAAoBlU,EAAG,KAAM,KACxC,EAEMwU,GAAoB,SAACxU,GACvB,OAAOkU,GAAoBlU,EAAG,IAAK,KACvC,EAEeyU,GA/EO,SAACzU,EAAG0T,GACtB,GAAI1T,EAAE0U,eAAgB,OAAO1U,EAAEsP,eAC/B,IAAMqF,EAAiBlB,GAAyBzT,EAAEqG,YAAaqN,GACzDkB,EAASf,GAAiB7T,EAAE8G,WAC5B+N,EAAUN,GAAiBvU,EAAEuG,WAC7BuO,EAAWN,GAAkBxU,EAAE2G,YACrC,OAAOhE,KAAKuD,IAAI,EAAGyO,EAAiBC,EAAUC,EAAUC,EAC5D,ECqBA,SAASC,KAAe,IAARC,EAAC,uDAAG,EAChB,OAAOA,EAAI,GACf,CAKeC,OAnCM,SAACjV,GAAO,IAAD,EAKpBkV,EAUAlV,EAVAkV,WACAjG,EASAjP,EATAiP,aACAkG,EAQAnV,EARAmV,aACAC,EAOApV,EAPAoV,cACAC,EAMArV,EANAqV,mBACAC,EAKAtV,EALAsV,YACAC,EAIAvV,EAJAuV,iBACAhP,EAGAvG,EAHAuG,UACAgD,EAEAvJ,EAFAuJ,MACAiM,EACAxV,EADAwV,MAGEC,EAAgBN,GAAiBA,EAAalP,IAAMkP,EAAajP,KAAO,EAAK,EAC7EwP,EAaV,WAAoD,IAAzBF,EAAK,uDAAG,GAAIN,EAAU,uCAC7C,OAAOvS,KAAKoQ,MAAMyC,EAAQN,EAC9B,CAfwBS,CAAkBH,EAAON,GAAcH,GAAO9F,GAAgBwG,GAAiB,EAAIV,GAAOK,IAAkBC,GAAoB,IAC9IO,EAAerM,GAAS,EAAIwL,GAAOO,IAlBL,GAkBoDC,GAAkB,GACtGM,EAAuB,EAM3B,OALa,OAATtP,QAAS,IAATA,GAA2B,QAAlB,EAATA,EAAWC,wBAAgB,OAA3B,EAA6BzF,SAC7B8U,GAAwB,IAGblT,KAAKmT,KAvBO,IAuBa,EAAdJ,EAAkBE,IAAsCC,CAEtF,E,MCTA,SAASE,GAASpX,GACd,IAAIqX,EAAKrX,EAAMsX,YACX/R,EAAIvF,EAAMqR,SACVkG,GAAcF,EAAK9R,GAAK8R,EAAK,IACjC,OACI,qBAAKpX,UAAU,eAAc,SACzB,qBAAKA,UAAU,oBAAmB,cACT8J,IAAnB/J,EAAMqR,SACJ,gDAEA,gCACI,qBAAKpR,UAAU,WAAU,SACrB,qBACIA,UAAU,iBACVe,MAAO,CAACuD,MAAM,GAAD,OAAKgT,EAAU,UAGpC,iDAEKF,EAAK9R,EAAC,MAAK8R,WAOxC,CAAC,IAEoBtX,GAAI,kDACrB,WAAYC,GAAQ,IAAD,EAOgD,OAPhD,qBACf,cAAMA,IAaVwX,iBAAgB,iDAAG,WAAOC,GAAS,qFAoB/B,OAnBIC,EAAc,CAACrG,SAAU,GAEvBsG,EAAkB,CACpB,CAACF,EAAUG,4BAA6B,kBACxC,CAACH,EAAUI,mBAAoB,SAC/B,CAACJ,EAAUK,6BAA8B,mBACzC,CAACL,EAAUM,sBAAuB,YAClC,CAACN,EAAUO,uBAAwB,aACnC,CAACP,EAAUQ,+BAAgC,iBAC3C,CAACR,EAAUS,oBAAqB,WAI9B3S,EAAIoS,EAAgB9V,KAAI,SAAAsW,GAAC,OAAIA,EAAE,GAAG/V,MAAM,IAAE8N,QAAO,SAACvE,EAAGC,GAAC,OAAKD,EAAIC,CAAC,GAAE,GACxE,EAAK/B,SAAS,CACVwH,SAAU9L,EACV+R,YAAa/R,IAGjB,SACM6S,QAAQC,IAAIV,EAAgB9V,KAAI,mCAAEyW,EAAY,KAAEC,EAAY,YAC9D,EAAKC,gBAAgBF,EAAcC,EAAcb,EAAY,KAC9D,KAAD,sCACL,mDAxBe,GAwBf,EAEDc,gBAAe,iDAAG,WAAOC,EAAUnX,EAAMoW,GAAW,iFAER,OADlCgB,EAAI,eACVhB,EAAYrG,UAAYoH,EAASrW,OAAO,SAClCgW,QAAQC,IAAII,EAAS5W,KACvB,SAAA4M,GAAI,OAAIiK,EAAKC,YAAYlK,EAAKnC,QAAQ,IAAI,KAAMhL,EAAMoX,EAAMhB,EAAY,KACzE,KAAD,EAEF,EAAK7N,SAAS,CAACwH,SAAU,EAAK5H,MAAM4H,SAAWoH,EAASrW,SAAS,2CACpE,uDARc,GAQd,EACDwW,gBAAkB,SAACC,EAAQxW,EAAMsI,GAAU,IAAD,MAClCmO,GAAe,OAAND,QAAM,IAANA,GAAuB,QAAjB,EAANA,EAAQlR,uBAAe,WAAjB,EAAN,EAAyBvF,SAAQ,EAK9C,OAJA0W,IAAe,OAAND,QAAM,IAANA,GAAwB,QAAlB,EAANA,EAAQhR,wBAAgB,WAAlB,EAAN,EAA0BzF,SAAQ,EAC3C0W,IAAe,OAAND,QAAM,IAANA,GAAwB,QAAlB,EAANA,EAAQ/Q,wBAAgB,WAAlB,EAAN,EAA0B1F,SAAQ,EAC3C0W,GAAgB,OAAND,QAAM,IAANA,KAAQ5Q,kBAAmB,EAAE,EACvC6Q,GAAgB,OAAND,QAAM,IAANA,KAAQ9Q,kBAAmB,GAAI,CAE7C,EAAC,EACDgR,eAAiB,SAACF,EAAQxW,EAAMsI,GAAU,IAAD,MAC/B,OAANkO,QAAM,IAANA,GAAuB,QAAjB,EAANA,EAAQlR,uBAAe,OAAvB,EAAyB4B,SAAQ,SAACT,GAAC,OAAG,EAAKkQ,cAAclQ,EAAGzG,EAAMsI,EAAM,YAAY,IAC9E,OAANkO,QAAM,IAANA,GAAwB,QAAlB,EAANA,EAAQhR,wBAAgB,OAAxB,EAA0B0B,SAAQ,SAACT,GAAC,OAAG,EAAKkQ,cAAclQ,EAAGzG,EAAMsI,EAAM,YAAY,IAC/E,OAANkO,QAAM,IAANA,GAAwB,QAAlB,EAANA,EAAQ/Q,wBAAgB,OAAxB,EAA0ByB,SAAQ,SAACT,GAAC,OAAG,EAAKkQ,cAAclQ,EAAGzG,EAAMsI,EAAM,YAAY,GACzF,EAAC,EACDsO,QAAU,SAAC5W,EAAM6W,EAAWvO,EAAMqE,GAE9B,IAAKzN,EAAqDc,EAArDd,GAAID,EAAiDe,EAAjDf,KAAMiB,EAA2CF,EAA3CE,SAAU4B,EAAiC9B,EAAjC8B,OAAQc,EAAyB5C,EAAzB4C,YAAanB,EAAYzB,EAAZyB,SAE9C,MAAO,CAACvC,KAAID,OAAMiB,WAAU4B,SAAQc,cAAa+B,OADbkS,EAA/BlS,OACoDG,SADrB+R,EAAvB/R,SACsDD,UAD/BgS,EAAbhS,UACuDyD,OAAMqE,MAAKlL,WAC7F,EAAC,EACDkV,cAAgB,SAACE,EAAW7W,EAAMsI,EAAMqE,GACpCkK,EAAUjS,KAAO,EAAKkS,KAAKxJ,KAAKyJ,WAAWF,EAAUA,WACrDA,EAAUjS,KAAKkE,MAAQ+N,EAAUjS,KAAKkE,OAAO,GAC7C,IAAMkO,EAAO,EAAKJ,QAAQ5W,EAAM6W,EAAWvO,EAAMqE,GACjDkK,EAAUjS,KAAKkE,MAAMI,KAAK8N,EAC9B,EAAC,EACDC,gBAAkB,SAAC/W,GAChB,MAA2B,OAAvBA,EAASb,WAA4B,cACd,SAAvBa,EAASb,WAA8B,UAAYa,EAASd,cAAgB,IACzE,eACV,EAAC,EACD8X,WAAa,SAAChP,GAAa,IAAD,IACtB,QAAyB,QAArB,EAACA,EAAQwF,oBAAY,OAAO,QAAP,EAApB,EAAsB9N,aAAK,QAA3B,EAA6BG,UAC9BmI,EAAQwF,aAAa9N,MAAMG,OAAS,GACI,QAAxCmI,EAAQwF,aAAa9N,MAAM,GAAGuX,OAEtC,EAAC,EAEDC,mBAAqB,SAAClP,GACnB,IAAMgG,EAAehG,EAAQgG,cAAgB,QAC7C,OAAIhG,EAAQ+F,cAAgB/F,EAAQK,MAAe,aAAe2F,EAAe,IAC7E,EAAKgJ,WAAWhP,GAAiB,iBACjCA,EAAQjJ,KAAKoY,OAAO,GAAG/Y,eAAe,IAAY,YAClD4J,EAAQjJ,KAAKoY,OAAO,GAAG/Y,eAAe,IAAY,YAC/C,WACV,EAAC,EACDgZ,cAAgB,SAACtY,GACb,OAAOA,EAAE4D,aACL,IAAK,YAAa,OAAS,EAC3B,IAAK,gBAAiB,OAAS,EAC/B,IAAK,OAAQ,OAAS,EACtB,IAAK,QAAS,OAAS,EACvB,QAAS,OAAO,EAExB,EAAC,EAYD2U,iBAAmB,SAACrP,GAAa,IAAD,MACrB5E,EAAO4E,EAAQsP,iBACrB,GAAKlU,EAAL,CACA,IAAImU,EAAgB,CAAC,EACrB,EAAKC,sBAAsBpU,EAAMmU,GAEjCA,EAAgBta,OAAOuH,OAAO+S,GAC9BvP,EAAQyP,QAAUF,EAAc3X,QAAO,SAAC2G,GAAC,aAAc,QAAd,EAAKA,EAAEkR,eAAO,aAAT,EAAW5X,MAAM,IAC/DmI,EAAQ0P,SAAWH,EAAczO,SAAQ,SAACvC,GAAC,OAAKA,EAAEoR,OAAO,IAAE/X,QAAO,SAAC2G,GAAC,aAAM,OAADA,QAAC,IAADA,GAAW,QAAV,EAADA,EAAGmR,gBAAQ,WAAV,EAAD,EAAa7X,MAAM,IAE5FmI,EAAQwG,WAAaxG,EAAQyP,QACzB3O,SAAQ,SAACvC,GAAC,OAAKA,EAAEkR,OAAO,IACxBnY,KAAI,SAACiH,GAAC,OAAKA,EAAE7B,IAAI,IACjB9E,QAAO,SAAC2G,GAAC,OAAKA,CAAC,IACf3G,OAAOyN,IACPzN,QAAO,SAAC2G,GAAC,QAAOA,EAAE6I,SAAS,IAC/BpH,EAAQyG,gBAAkBzG,EAAQyP,QAC9B3O,SAAQ,SAACvC,GAAC,OAAKA,EAAEkR,OAAO,IACxB7X,QAAO,SAAC2G,GAAC,MAAK,CAAC,gBAAiB,kBAAmB,OAAQ,WAAY,aAAc,YAAcxG,QAAQwG,EAAEqR,aAAe,CAAC,IACjI5P,EAAQ0G,mBAAqB1G,EAAQyP,QACjC3O,SAAQ,SAACvC,GAAC,OAAKA,EAAEkR,OAAO,IACxB7X,QAAO,SAAC2G,GAAC,MAAK,CAAC,YAAcxG,QAAQwG,EAAEqR,aAAe,CAAC,IAIzC,QAAlB,EAAA5P,EAAQwG,kBAAU,OAAlB,EAAoBxH,SAAQ,SAACT,GACzBA,EAAEqC,MAAQrC,EAAEqC,OAAS,GACrBrC,EAAEqC,MAAMI,KAAKhB,EACjB,IACuB,QAAvB,EAAAA,EAAQyG,uBAAe,OAAvB,EAAyBzH,SAAQ,SAACT,GAE9B,IAAM7B,EAAO6B,EAAE7B,KACfA,EAAKmE,UAAYnE,EAAKmE,WAAa,GACnC,IAAMK,EAAW,CACbA,SAAS,CACLN,MAAO,CAAEZ,IAEbI,KAAK,SAET1D,EAAKmE,UAAUG,KAAKE,EACxB,IAC0B,QAA1B,EAAAlB,EAAQ0G,0BAAkB,OAA1B,EAA4B1H,SAAQ,SAACT,GAEjC,IAAM2C,EAAW3C,EAAE7B,KACnBwE,EAASN,MAAQM,EAASN,OAAS,GACnCM,EAASN,MAAMI,KAAKhB,GACpBkB,EAASd,KAAO,OACpB,GA7CiB,CAgDtB,EAAC,EAqODgO,YAAc,SAACyB,EAAU9Y,EAAMoX,EAAMhB,GAAW,OAC5C2C,MAAMD,EAAS,QAAS,CACpBE,QAAS,CACL,eAAgB,mBAChB,OAAU,sBAGjBC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAE,GACJ/B,EAAKS,KAAK7X,GAAQoX,EAAKS,KAAK7X,IAAS,GACrCoX,EAAKS,KAAK7X,GAAQoX,EAAKS,KAAK7X,GAAMoZ,OAAOD,GACzC/C,EAAYrG,WACgB,GAAxBqG,EAAYrG,WACZqH,EAAKiC,WACLjC,EAAK7O,SAAS6O,EAAKS,MAEzB,GAAE,EAvZF,EAAK1P,MAAQ,CACTmR,iBAAiB,EACjBC,UAAU,GAEd,EAAK1B,KAAK,CAAC,EACX,EAAK2B,oBAAsB,EAAKA,oBAAoBpY,KAAK,gBAAM,CACnE,CA2cC,OA3cA,gDAED,WACId,KAAKiI,SAAS,CAAE+Q,iBAAkBhZ,KAAK6H,MAAMmR,iBACjD,GAAC,mCA4FD,SAAsBvK,EAAGyJ,GAAe,IAAD,SAC9BzJ,IACDyJ,EAAczJ,EAAE9O,MACpBuY,EAAczJ,EAAE9O,IAAM8O,EAEb,QAAT,EAAAA,EAAE6J,eAAO,OAAT,EAAW3Q,SAAQ,SAAC4O,GAChB,EAAK4B,sBAAsB5B,EAAE3J,KAAMsL,EACvC,KACJ,GAAC,sBAsDD,WAAW,IAAD,OACNlY,KAAKuX,KAAKzF,QAAU,GACpB9R,KAAKuX,KAAKxF,WAAa,GAGvB/R,KAAKuX,KAAKxJ,KAAO,CAAC,EAElB/N,KAAKuX,KAAKxJ,KAAKyJ,WAAaxX,KAAKuX,KAAK4B,gBAAgB7K,QAAO,SAAC8K,EAAK3Y,GAAI,OAAK7C,OAAOC,OAAOub,EAAI,eAAI3Y,EAAKd,GAAKc,GAAO,GAAE,CAAC,GACtHT,KAAKuX,KAAKxJ,KAAKsL,WAAarZ,KAAKuX,KAAK+B,eAAehL,QAAO,SAAC8K,EAAK3Y,GAAI,OAAK7C,OAAOC,OAAOub,EAAI,eAAI3Y,EAAKd,GAAKc,GAAO,GAAE,CAAC,GACrHT,KAAKuX,KAAKxJ,KAAKvE,UAAYxJ,KAAKuX,KAAK/N,UAAU8E,QAAO,SAAC8K,EAAK3Y,GAAI,OAAK7C,OAAOC,OAAOub,EAAI,eAAI3Y,EAAKd,GAAKc,GAAO,GAAE,CAAC,GAC/GT,KAAKuX,KAAKxJ,KAAK1N,MAAQL,KAAKuX,KAAKlX,MAAMiO,QAAO,SAAC8K,EAAK3Y,GAAI,OAAK7C,OAAOC,OAAOub,EAAI,eAAI3Y,EAAKd,GAAKc,GAAO,GAAE,CAAC,GACvGT,KAAKuX,KAAKxJ,KAAKqD,SAAWpR,KAAKuX,KAAKnG,SAAS9C,QAAO,SAAC8K,EAAK3Y,GAAI,OAAK7C,OAAOC,OAAOub,EAAI,eAAI3Y,EAAKd,GAAKc,GAAO,GAAE,CAAC,GAC7GT,KAAKuX,KAAKxJ,KAAKmK,cAAgBlY,KAAKuX,KAAKW,cAAc5J,QAAO,SAAC8K,EAAK3Y,GAAI,OAAK7C,OAAOC,OAAOub,EAAI,eAAI3Y,EAAKd,GAAKc,GAAO,GAAE,CAAC,GACvHT,KAAKuX,KAAKxJ,KAAKmB,OAASlP,KAAKuX,KAAKrI,OAAOZ,QAAO,SAAC8K,EAAK3Y,GAAI,OAAK7C,OAAOC,OAAOub,EAAI,eAAI3Y,EAAKd,GAAKc,GAAO,GAAE,CAAC,GACzGT,KAAKuX,KAAKxJ,KAAKwL,YAAc,CAAC,EAC9BvZ,KAAKuX,KAAKxJ,KAAKgE,WAAa,CAAC,EAC7B/R,KAAKuX,KAAKxJ,KAAK+D,QAAU,CAAC,EAE1BlU,OAAOuH,OAAOnF,KAAK5B,MAAM2P,MAAMpG,SAAQ,SAAC1H,GAAO,IAAD,gBAC1CA,EAAIiC,SAAW,QACC,QAAhB,EAAAjC,EAAIkS,oBAAY,OAAO,QAAP,EAAhB,EAAkBjB,aAAK,OAAvB,EAAyBvJ,SAAQ,SAACuJ,GAC9B,IAAMhR,GAAOgR,EAAMN,YAAcM,EAAMxR,MAAMT,cAC7CiS,EAAM7L,KAAO,EAAKkS,KAAKxJ,KAAKwL,YAAYrZ,IAAM,CAAE6N,KAAK,GAAIqD,SAAU,IACnEF,EAAM7L,KAAKnF,IAAMA,EACjBgR,EAAM7L,KAAK0I,KAAKpE,KAAK1J,GACrB,EAAKsX,KAAKxJ,KAAKwL,YAAYrZ,GAAOgR,EAAM7L,IAC5C,IACgB,QAAhB,EAAApF,EAAIkS,oBAAY,OAAO,QAAP,EAAhB,EAAkBR,aAAK,OAAvB,EAAyBhK,SAAQ,SAAC6R,GAAS,IAAD,EACtCA,EAAK5H,QAAiD,QAA1C,EAAG,EAAK2F,KAAKxJ,KAAKmK,cAAcsB,EAAK9Z,aAAK,aAAvC,EAAyCkS,OAC5D,IACgB,QAAhB,EAAA3R,EAAIkS,oBAAY,OAAS,QAAT,EAAhB,EAAkBL,eAAO,OAAzB,EAA2BnK,SAAQ,SAAC2J,GAChCA,EAAOpP,SAAW,QAAUjC,EAAIP,KAAO,IACvC,EAAK6X,KAAKzF,QAAQnI,KAAK2H,EAC3B,IACgB,QAAhB,EAAArR,EAAIkS,oBAAY,OAAY,QAAZ,EAAhB,EAAkBJ,kBAAU,OAA5B,EAA8BpK,SAAQ,SAAC8R,GACnCA,EAAUvX,SAAW,QAAUjC,EAAIP,KAAO,IAC1C,EAAK6X,KAAKxF,WAAWpI,KAAK8P,EAC9B,GACJ,IAEAzZ,KAAKuX,KAAKW,cAAcvQ,SAAQ,SAAC8G,GAAO,IAAD,IAC7BiL,EAAS,SAACC,GACZ,IAAM5Q,EAAO4Q,EAAIC,aAAaD,EAAIpB,WAC5B5Y,EAAKga,EAAIE,WAAWF,EAAIG,SAC9B,GAAI,CAAC,gBAAiB,sBAAuB,uBAAuBpZ,QAAQqI,IAAS,EAAG,CAEpF,GADA4Q,EAAItU,KAAO,EAAKkS,KAAKxJ,KAAKmB,OAAOvP,IAC5Bga,EAAItU,KAAmB,YAAZrI,EAAM2c,GACtBA,EAAItU,KAAK0U,WAAaJ,EAAItU,KAAK0U,YAAc,GAC7CJ,EAAItU,KAAK0U,WAAWpQ,KAAK8E,EAC7B,MAAO,GAAI,CAAC,gBAAiB,kBAAmB,OAAQ,WAAY,aAAc,YAAY/N,QAAQqI,IAAS,EAAG,CAE9G,GADA4Q,EAAItU,KAAO,EAAKkS,KAAKxJ,KAAK1N,MAAMV,IAC3Bga,EAAItU,KAAmB,YAAZrI,EAAM2c,GACtBA,EAAItU,KAAK0U,WAAaJ,EAAItU,KAAK0U,YAAc,GAC7CJ,EAAItU,KAAK0U,WAAWpQ,KAAK8E,EAC7B,KAAmB,YAAR1F,GACP4Q,EAAItU,KAAO,EAAKkS,KAAKxJ,KAAKvE,UAAU7J,GACpCga,EAAItU,KAAK0U,WAAaJ,EAAItU,KAAK0U,YAAc,GAC7CJ,EAAItU,KAAK0U,WAAWpQ,KAAK8E,IACV,iBAAR1F,GACP4Q,EAAItU,KAAO,EAAKkS,KAAKxJ,KAAKqD,SAASzR,GACnCga,EAAItU,KAAK0U,WAAaJ,EAAItU,KAAK0U,YAAc,GAC7CJ,EAAItU,KAAK0U,WAAWpQ,KAAK8E,IAClB,CACP,kBAAmB,WAAY,sBAC/B,gBACA,WACA,iBAAkB,oBAClB,eAAgB,qBAAsB,kBAAmB,eACzD,SACA,eAAgB,cAChB,kBAAkB,2BAA2B,0BAC3C/N,QAAQqI,IAAS,GAGnB/L,EAAM+L,EAAO,IAAIpJ,GAAI,EAE7B,EACS,QAAT,EAAA8O,EAAE6J,eAAO,OAAT,EAAW3Q,SAAQ,SAAC4O,GAAO,IAAD,EACtBA,EAAE3J,KAAO,EAAK2K,KAAKxJ,KAAKmK,cAAc3B,EAAEyD,cAC9B,QAAV,EAAAzD,EAAE8B,gBAAQ,OAAV,EAAY1Q,QAAQ+R,EAExB,IACS,QAAT,EAAAjL,EAAE2J,eAAO,OAAT,EAAWzQ,QAAQ+R,EAEvB,IAEA1Z,KAAKuX,KAAKzF,QAAQnK,SAAQ,SAAC2J,GAEvBA,EAAO/O,OAAS,gBAChB+O,EAAO3R,GAAK2R,EAAO5R,KACnB4R,EAAO2G,iBAAmB,EAAKV,KAAKxJ,KAAKmK,cAAc5G,EAAO5R,MAC9D,EAAKsY,iBAAiB1G,EAC1B,IACAtR,KAAKuX,KAAKxF,WAAWpK,SAAQ,SAAC8R,GAC1BA,EAAUlX,OAAS,2BACnBkX,EAAU9Z,GAAK8Z,EAAU/Z,KACzB+Z,EAAUtL,aAAe,EAAKoJ,KAAKxJ,KAAKvE,UAAUiQ,EAAU/Z,MACxD+Z,EAAUtL,eACVsL,EAAUtL,aAAa5E,MAAQkQ,EAAUtL,aAAa5E,OAAO,GAC7DkQ,EAAUtL,aAAa5E,MAAMI,KAAK8P,GAClCA,EAAUtL,aAAapF,KAAO,YAEtC,IACA/I,KAAKuX,KAAKlX,MAAMsH,SAAQ,SAAClH,EAAMN,GAKnB,IAAD,EAJH,EAAKoX,KAAKxJ,KAAK1N,MAAMI,EAAKd,KAAOc,GACjCrD,QAAQC,KAAK,+BAAiCoD,EAAKd,GAAK,KACxDvC,QAAQC,KAAKoD,GACb,EAAK8W,KAAKlX,MAAM4Z,OAAO9Z,EAAO,GAAG,KAEjCM,EAAK4C,YAAc5C,EAAK4C,aAAa,WACrC5C,EAAKwC,OAAS,EAAK8U,cAActX,GACjCA,EAAKwM,aAAe,EAAKsK,KAAKxJ,KAAKsL,WAAW5Y,EAAKE,UACnDF,EAAKyB,SAAS,EAAKwV,gBAAgBjX,EAAKwM,cACxCxM,EAAKsO,eAAemF,GAAczT,EAAuC,UAAjCA,EAAKwM,aAAapN,eAE1DY,EAAKyZ,gBAAkB,EAAKlD,gBAAgBvW,EAAKqF,aAC3C,EAAKkR,gBAAgBvW,EAAKuF,WAC1B,EAAKgR,gBAAgBvW,EAAK6F,mBAC1B,EAAK0Q,gBAAgBvW,EAAK2F,YAC1B,EAAK4Q,gBAAgBvW,EAAK8F,WAEhC,EAAK4Q,eAAe1W,EAAKqF,YAAarF,EAAM,eAC5C,EAAK0W,eAAe1W,EAAKuF,UAAWvF,EAAM,aAC1C,EAAK0W,eAAe1W,EAAK6F,kBAAmB7F,EAAM,qBAClD,EAAK0W,eAAe1W,EAAK2F,WAAY3F,EAAM,cAC3C,EAAK0W,eAAe1W,EAAK8F,UAAW9F,EAAM,aAE1CA,EAAKsZ,WAA4B,QAAlB,EAAGtZ,EAAKsZ,kBAAU,aAAf,EAAiBxZ,OAAOyN,IAElD,IACAhO,KAAKuX,KAAKlX,MAAQL,KAAKuX,KAAKlX,MAAME,QAAO,SAAC2G,GAAC,OAAGA,CAAC,IAE/ClH,KAAKuX,KAAKnG,SAASzJ,SAAQ,SAACgB,EAASxI,GACjC,GAAI,EAAKoX,KAAKxJ,KAAKqD,SAASzI,EAAQhJ,KAAOgJ,EACvCrL,GAAU,WACNF,QAAQC,KAAK,kCAAoCsL,EAAQhJ,GAAK,KAC9DvC,QAAQC,KAAKsL,EACjB,IACA,EAAK4O,KAAKnG,SAAS6I,OAAO9Z,EAAO,GAAG,OACjC,CAAC,IAAD,EACHwI,EAAQ1F,OAAS0F,EAAQqF,QAAS,EAAI,EACtCrF,EAAQwR,IAAMC,GAAczR,GAC5BA,EAAQwF,aAAe,EAAKoJ,KAAKxJ,KAAKvE,UAAUb,EAAQ0R,YACpD1R,EAAQwF,eACRxF,EAAQwF,aAAa5E,MAAQZ,EAAQwF,aAAa5E,OAAO,GACzDZ,EAAQwF,aAAa5E,MAAMI,KAAKhB,IAEpCA,EAAQzG,SAAW,EAAK2V,mBAAmBlP,GAE3CA,EAAQuR,gBAAkB,EAAKlD,gBAAgBrO,EAAQ3C,WACjD,EAAKgR,gBAAgBrO,EAAQrC,mBAC7B,EAAK0Q,gBAAgBrO,EAAQvC,YAEnC,EAAK+Q,eAAexO,EAAQ3C,UAAW2C,EAAS,aAChD,EAAKwO,eAAexO,EAAQrC,kBAAmBqC,EAAS,qBACxD,EAAKwO,eAAexO,EAAQvC,WAAYuC,EAAS,cAEjDA,EAAQyF,gBAAkB,GAE1B,IAK0F,EALtFkM,EAAiB,EAAK/C,KAAKxJ,KAAKwL,YAAY5Q,EAAQhJ,GAAGV,eAK3D,GAJIqb,IACAA,EAAelJ,SAASzH,KAAKhB,GAC7BA,EAAQyF,gBAAgBzE,KAAK2Q,IAE7B3R,EAAQ4R,aAAiC,QAAlB,EAAA5R,EAAQ4R,kBAAU,aAAlB,EAAoBtb,gBAAiB0J,EAAQhJ,GAAGV,eACvEqb,EAAiB,EAAK/C,KAAKxJ,KAAKwL,YAA8B,QAAnB,EAAC5Q,EAAQ4R,kBAAU,aAAlB,EAAoBtb,kBAE5Dqb,EAAelJ,SAASzH,KAAKhB,GAC7BA,EAAQyF,gBAAgBzE,KAAK2Q,IAIrChd,GAAU,WACgC,GAAlCqL,EAAQyF,gBAAgB5N,SACvBpD,QAAQC,KAAK,yBACbD,QAAQC,KAAKsL,GAEtB,IAEAA,EAAQsP,iBAAmB,EAAKV,KAAKxJ,KAAKmK,cAAcvP,EAAQ6R,UAChE,EAAKxC,iBAAiBrP,EAC1B,CACJ,IACA3I,KAAKuX,KAAKnG,SAAWpR,KAAKuX,KAAKnG,SAAS7Q,QAAO,SAAC2G,GAAC,OAAGA,CAAC,IAErDlH,KAAKuX,KAAK/N,UAAU7B,SAAQ,SAACkC,GACrBA,EAASxJ,MAAMsH,SAAQ,SAAClH,GACpBA,EAAKoJ,SAAWA,EAChBpJ,EAAK4E,KAAO,EAAKkS,KAAKxJ,KAAK1N,MAAMI,EAAKmX,QACtCnX,EAAK4E,KAAKmE,UAAU/I,EAAK4E,KAAKmE,WAAW,GACzC/I,EAAK4E,KAAKmE,UAAUG,KAAKlJ,GACzBA,EAAKsI,KAAOc,EAASd,IACzB,GACJ,IAEJ/I,KAAKuX,KAAK4B,gBAAgBxR,SAAQ,SAAC2P,GAC/BA,EAAUrU,OAAS,EACnBqU,EAAUpV,SAAS,cACvB,IACAlC,KAAKuX,KAAKrI,OAAOvH,SAAQ,SAAC2P,GACtBA,EAAUpV,SAAS,UACvB,IACAlC,KAAK5B,MAAMsU,UAAUM,SAASrL,SAAQ,SAAC/I,GACnCA,EAAQsD,SAAW,UACnBtD,EAAQ6b,MAAQ,KAChB7b,EAAQ8b,KAAO,KACf9b,EAAQmP,KAAKpG,SAAQ,SAAC1H,GAClBA,EAAIoF,KAAO,EAAKjH,MAAM2P,KAAK9N,EAAIN,IAC3BM,EAAIoF,KAAKsV,aAAgB1a,EAAIoF,KAAKsV,YAAYhb,IAAMf,EAAQe,GAC5DrC,GAAU,WACNF,QAAQC,KAAK,QAAD,OAAS4C,EAAIN,GAAE,oCAA4BM,EAAIoF,KAAKsV,YAAYhb,GAAE,aAAKf,EAAQe,IAC/F,KAEAM,EAAIoF,KAAKuV,cAAgB3a,EACzBA,EAAIoF,KAAKsV,YAAc/b,GAE3BA,EAAQ6b,KAAOrY,KAAKuD,IAAI/G,EAAQ6b,KAAMxa,EAAImB,EAAInB,EAAIoF,KAAKzC,QACvDhE,EAAQ8b,KAAOtY,KAAKsD,IAAI9G,EAAQ8b,KAAMza,EAAImB,EAC9C,IACAxC,EAAQgE,OAAShE,EAAQ6b,KAAO7b,EAAQ8b,IAC5C,IAEA1a,KAAKuX,KAAKnG,SAAShG,MAAK,SAACrB,EAAEC,GAAC,OAAMD,EAAEpK,GAAGkR,cAAc7G,EAAErK,GAAG,IAE1D3C,EAAMgD,KAAKuX,KACf,GAAC,+BAoBD,WACGva,EAAMgD,KAAK5B,MACd,GAAC,gCAED,YACS4B,KAAK6H,MAAMxH,OAASL,KAAK6H,MAAMoR,WAChCjZ,KAAKiI,SAAS,CAACgR,UAAU,IACzBjZ,KAAK4V,iBAAiB5V,KAAK5B,MAAMyX,WAEzC,GAAC,oBAED,WAEI,IAAMzW,EAAQ,CACVyb,UAAYvc,OAAOwc,YAAc,GACjC5W,WAAY,GAGhB,OACI,gCACI,qBAAK7F,UAAU,UAAUe,MAAOA,EAAM,SAG7BY,KAAK6H,MAAMxH,MAMZ,gCACI,cAAC,IAAM,UACH,cAAC,EAAI,MAET,eAAC,IAAM,WACH,cAAC,IAAK,CAAC0a,OAAK,EAAClO,KAAK,IAAIpP,UAAWud,IACjC,cAAC,EAAU,CAACnO,KAAK,SAASpP,UAAWqP,GAAWxM,KAASN,KAAK6H,MAAMxH,QACpE,cAAC,EAAU,CAACwM,KAAK,cAAcpP,UAAWwd,GAAgB3a,KAASN,KAAK6H,MAAMsR,kBAC9E,cAAC,EAAU,CAACtM,KAAK,YAAYpP,UAAW8Q,GAAcjO,KAASN,KAAK6H,MAAMuJ,WAC1E,cAAC,EAAU,CAACvE,KAAK,cAAcpP,UAAWyd,EAAqB5a,KAASN,KAAK6H,MAAMyR,iBACnF,cAAC,EAAU,CAACzM,KAAK,OAAOpP,UAAW0d,GAAS7a,KAASN,KAAK6H,MAAMuJ,WAChE,cAAC,EAAU,CAACvE,KAAK,UAAUpP,UAAW2d,GAAY9a,KAASN,KAAK6H,MAAMqH,SACtE,cAAC,EAAU,CAACrC,KAAK,OAAOpP,UAAW4d,GAAS/a,KAASN,KAAK5B,MAAM2P,KAAO2E,UAAc1S,KAAK5B,MAAMsU,UAC5FtJ,SAAUpJ,KAAK6H,MAAMmR,gBAAiB1P,aAActJ,KAAKkZ,4BAlBrE,cAAC1D,GAAO,CACJ/F,SAAUzP,KAAK6H,MAAM4H,SACrBiG,YAAa1V,KAAK6H,MAAM6N,gBAsBpC,sBAAKrX,UAAU,YAAW,UACtB,sBAAKe,MAAO,CAAC0O,MAAM,QAAQ,8BACN,mBAAGvO,KAAK,6CAA4C,sBAEzE,sBAAKH,MAAO,CAAC0O,MAAM,SAAS,0BAAewN,gBAI3D,KAAC,EApdoB,CAASxd,IAAMa,WAudxC,SAASqP,GAAOvN,EAAMwN,EAAKC,GACvB,OAAOA,EAAKxN,QAAQD,IAASwN,CACjC,C,iCCpgBe,SAASsN,GAAYhF,EAAG7W,GACnC,IAAIO,EAAM,CACNP,OACA8b,WAAY,GACZC,SAAU,GACV1K,OAAQ,CAAC,EACTC,UAAW,GACXmB,aAAc,CACNjB,MAAO,GACPwK,MAAO,GACP/J,MAAO,GACP/Q,KAAM,GACNkR,QAAS,GACTC,WAAY,GACZC,UAAW,GACX2J,SAAU,GACVC,MAAO,KAyBnB,MAtBc,WAAVrF,EAAE7W,OACF6W,EAAIA,EAAEsF,SAAS,IAEL,OAAVtF,EAAE7W,MACF6W,EAAEsF,SAASlU,SAAQ,SAACT,GACF,eAAVA,EAAExH,KAmBlB,SAA2B6W,EAAGtW,GAAM,IAAD,IAC3B6b,EAAc,CAAEpc,KAAO,OAAD6W,QAAC,IAADA,GAAa,QAAZ,EAADA,EAAGwF,kBAAU,WAAZ,EAAD,EAAerc,MAC/B,QAAV,EAAA6W,EAAEsF,gBAAQ,OAAV,EAAYlU,SAAQ,SAACT,GACY,IAAD,EAA5B,GAAc,cAAVA,EAAExH,KACQ,QAAV,EAAAwH,EAAE2U,gBAAQ,OAAV,EAAYlU,SAAQ,SAAChE,GAAO,IAAD,IACjBzD,EAAkB,QAAf,EAAGyD,EAAEoY,kBAAU,aAAZ,EAAcrc,KACpB4E,EAAS,OAADX,QAAC,IAADA,GAAa,QAAZ,EAADA,EAAGoY,kBAAU,WAAZ,EAAD,EAAezX,MAC7BwX,EAAY5b,GAAOoE,CACvB,SAEA,OAAO4C,EAAE6U,WAAWhT,MAChB,IAAK,QACH9I,EAAIkS,aAAajB,MAAMvH,KAgCzC,SAAkBzC,EAAGjH,EAAK6b,GAAc,IAAD,MACnCE,GAAc9U,GAEd,IAAIgK,EAAK,uCACFhK,EAAE6U,YACW,QADD,EACZ7U,EAAE2U,SAAS,UAAE,aAAb,EAAeE,YAAU,IAC5BD,cACAnZ,MAAOuE,EAAE6U,WAAWpZ,MAAQ,EAC5BC,OAAQsE,EAAE6U,WAAWnZ,OAAS,EAC9BzB,EAAG+F,EAAE6U,WAAW5a,EAAI,EACpBC,EAAG8F,EAAE6U,WAAW3a,EAAI,IAMxB,OAJa,QAAb,EAAA8F,EAAE2U,SAAS,UAAE,OAAU,QAAV,EAAb,EAAeA,gBAAQ,OAAvB,EAAyBlU,SAAQ,SAAC8G,GAC9BwN,GAAcxN,EAAGyC,EAAO,CAAC,aAAc,WAAY,cAAe,WAClEA,EAAMzC,EAAEsN,WAAWrc,MAAQ+O,EAAEsN,WAAWzX,KAC5C,IACO4M,CACX,CAjD8CgL,CAAShV,EAAGjH,EAAK6b,IAC7C,MACF,IAAK,MACH7b,EAAIkS,aAAavR,KAAK+I,KAAKzC,GAC3B,MACF,IAAK,OACHjH,EAAIkS,aAAauJ,MAAM/R,KAAKzC,GAC5B,MACF,IAAK,OACHjH,EAAIkS,aAAaR,MAAMhI,KAgGzC,SAAiBzC,EAAGjH,EAAK6b,GAYrB,OAXAK,GAAajV,GAEJ,2BACFA,EAAE6U,YAAU,IACfD,cACAnZ,MAAOuE,EAAE6U,WAAWpZ,MAAQ,EAC5BC,OAAQsE,EAAE6U,WAAWnZ,OAAS,EAC9BzB,EAAG+F,EAAE6U,WAAW5a,EAAI,EACpBC,EAAG8F,EAAE6U,WAAW3a,EAAI,GAI5B,CA7G8Cgb,CAAQlV,EAAGjH,EAAK6b,IAC5C,MACF,IAAK,SACH7b,EAAIkS,aAAaL,QAAQnI,KAuC3C,SAAmBzC,EAAGjH,EAAK6b,GAAc,IAAD,IACpCE,GAAc9U,GAEd,IAAIoK,EAAM,2BACHpK,EAAE6U,YAAU,IACfD,cACAnZ,MAAOuE,EAAE6U,WAAWpZ,MAAQ,EAC5BC,OAAQsE,EAAE6U,WAAWnZ,OAAS,EAC9BzB,EAAG+F,EAAE6U,WAAW5a,EAAI,EACpBC,EAAG8F,EAAE6U,WAAW3a,EAAI,IAMxB,OAJa,QAAb,EAAA8F,EAAE2U,SAAS,UAAE,OAAU,QAAV,EAAb,EAAeA,gBAAQ,OAAvB,EAAyBlU,SAAQ,SAAC8G,GAC9BwN,GAAcxN,EAAG6C,EAAQ,CAAC,SAC1BA,EAAO7C,EAAEsN,WAAWrc,MAAQ+O,EAAEsN,WAAWzX,KAC7C,IACOgN,CACX,CAvDgD+K,CAAUnV,EAAGjH,EAAK6b,IAChD,MACF,IAAK,YACH7b,EAAIkS,aAAaJ,WAAWpI,KAqD9C,SAAuBzC,EAAGjH,EAAK6b,GAAc,IAAD,IACxCK,GAAajV,GAEb,IAAIuS,EAAS,2BACNvS,EAAE6U,YAAU,IACfD,cACAnZ,MAAOuE,EAAE6U,WAAWpZ,MAAQ,EAC5BC,OAAQsE,EAAE6U,WAAWnZ,OAAS,EAC9BzB,EAAG+F,EAAE6U,WAAW5a,EAAI,EACpBC,EAAG8F,EAAE6U,WAAW3a,EAAI,IAMxB,OAJa,QAAb,EAAA8F,EAAE2U,SAAS,UAAE,OAAU,QAAV,EAAb,EAAeA,gBAAQ,OAAvB,EAAyBlU,SAAQ,SAAC8G,GAC9BwN,GAAcxN,EAAGgL,EAAW,CAAC,SAC7BA,EAAUhL,EAAEsN,WAAWrc,MAAQ+O,EAAEsN,WAAWzX,KAChD,IACOmV,CACX,CArEmD6C,CAAcpV,EAAGjH,EAAK6b,IACvD,MACF,IAAK,YACH7b,EAAIkS,aAAaH,UAAUrI,KAmE7C,SAAsBzC,EAAGjH,EAAK6b,GAAc,IAAD,MACvCE,GAAc9U,GAEd,IAAIqV,EAAK,uCACFrV,EAAE6U,YACW,QADD,EACZ7U,EAAE2U,SAAS,UAAE,aAAb,EAAeE,YAAU,IAC5BD,cACAnZ,MAAOuE,EAAE6U,WAAWpZ,MAAQ,EAC5BC,OAAQsE,EAAE6U,WAAWnZ,OAAS,EAC9BzB,EAAG+F,EAAE6U,WAAW5a,EAAI,EACpBC,EAAG8F,EAAE6U,WAAW3a,EAAI,EACpBob,IAAItV,IAMR,OAJa,QAAb,EAAAA,EAAE2U,SAAS,UAAE,OAAU,QAAV,EAAb,EAAeA,gBAAQ,OAAvB,EAAyBlU,SAAQ,SAAC8G,GAC9BwN,GAAcxN,EAAG8N,EAAO,CAAC,QAAS,QAClCA,EAAM9N,EAAEsN,WAAWrc,MAAQ+O,EAAEsN,WAAWzX,KAC5C,IACOiY,CACX,CArFkDE,CAAavV,EAAGjH,EAAK6b,IACrD,MACF,IAAK,UACH7b,EAAIkS,aAAawJ,SAAShS,KAAKzC,GAC/B,MACF,QACE9J,QAAQC,KAAK4C,GACb7C,QAAQC,KAAK6J,GACbjH,EAAIkS,aAAayJ,MAAMjS,KAAKzC,GAG1C,GACJ,CA5DgBwV,CAAkBxV,EAAGjH,GACJ,SAAViH,EAAExH,KAkLzB,SAAoBwH,EAAGjH,EAAKP,GACxBpC,GAAU,kBAbd,SAAyB4J,EAAGjH,EAAKP,GACzBO,EAAI0C,OAAU1C,EAAI0C,OAASuE,EAAE6U,WAAWpZ,OACxCvF,QAAQC,KAAKqC,EAAO,yBAA2BO,EAAI0C,MAAQ,KAAOuE,EAAE6U,WAAWpZ,MAAQ,KACvF1C,EAAI2C,QAAW3C,EAAI2C,QAAUsE,EAAE6U,WAAWnZ,QAC1CxF,QAAQC,KAAKqC,EAAO,yBAA2BO,EAAI2C,OAAS,KAAOsE,EAAE6U,WAAWnZ,OAAS,KACzF3C,EAAI8Q,OAAO7J,EAAE6U,WAAWrc,OACxBtC,QAAQC,KAAKqC,EAAO,wBAA0BwH,EAAE6U,WAAWrc,MAEtC,GAArBwH,EAAE2U,SAASrb,QACXpD,QAAQC,KAAKqC,EAAO,qBAAuBwH,EAAE6U,WAAWrc,KAEhE,CAEoBid,CAAgBzV,EAAGjH,EAAKP,EAAK,IAC7CO,EAAI+Q,UAAUrH,KAAK,CACfjK,KAAMwH,EAAE6U,WAAWrc,KAAKT,cACxBwJ,QAAkC,KAAxBvB,EAAE6U,WAAWtT,UAE3BxI,EAAI0C,MAAQuE,EAAE6U,WAAWpZ,MAAQ,EACjC1C,EAAI2C,OAASsE,EAAE6U,WAAWnZ,OAAS,EACnC,IACI,IAAIga,EAAU1V,EAAE2U,SAAS,GAAGvX,MAExBuY,EADUC,KAAKF,GACIhb,MAAM,IAAI3B,KAAI,SAACkB,GAAC,OAAKA,EAAE4b,WAAW,EAAE,IACvDC,EAAU,IAAIC,WAAWJ,GACvBva,EAAM4a,KAAKC,QAAQH,GACzB/c,EAAI8Q,OAAO7J,EAAE6U,WAAWrc,KAAKT,eAAiB,IAAIme,YAAY9a,EAAI+a,OAGtE,CAFE,MAAOC,GACLlgB,QAAQmgB,IAAID,EAChB,CACJ,CAnMgBE,CAAWtW,EAAGjH,EAAKP,GACF,WAAVwH,EAAExH,KAmJzB,SAAsBwH,EAAGjH,EAAKP,GAC1B,IAAIuQ,EAAU,CAGVrN,OAAQsE,EAAE2U,SAAS,GAAGE,WAAWnZ,OAAS,EAC1CD,MAAOuE,EAAE2U,SAAS,GAAGE,WAAWpZ,MAAQ,EACxCjD,KAAMwH,EAAE6U,WAAWrc,KACnB+d,SAAUvW,EAAE6U,WAAW0B,SAAW,EAClChN,WAAYvJ,EAAE6U,WAAWtL,WAAa,EACtCF,UAAWrJ,EAAE6U,WAAWxL,UAAY,GAExCN,EAAQ7H,QAAU6H,EAAQtN,MAAQsN,EAAQM,UAC1CN,EAAQyN,UAAYzN,EAAQrN,OAASqN,EAAQQ,WAAaR,EAAQ7H,QAGlEnI,EAAIwb,SAAS9R,KAAKsG,EACtB,CAlKgB0N,CAAazW,EAAGjH,IACC,cAAViH,EAAExH,OAGTtC,QAAQC,KAAK,0BAA4BqC,EAAO,MAChDtC,QAAQC,KAAK6J,IAHbjH,EAAIiH,EAAExH,MAAMiK,KAAKzC,GAMzB,IA0LR,SAA0BjH,GACtBA,EAAIwb,SAAS9T,SAAQ,SAACiW,GAClB,IAAMje,EAAKie,EAAEH,SACTxN,EAAUhQ,EAAIwb,SAASzQ,MAAK,SAAC9D,GAAC,OAAOvH,GAAMuH,EAAEuW,UAAc9d,EAAMuH,EAAEuW,SAAWvW,EAAEwW,SAAW,IAC3FzN,GAAW2N,IACX3N,EAAQwN,UAAY,KACpBngB,GAAU,WACNF,QAAQC,KAAK,qCAAuC4C,EAAIP,KAAO,KAC/DtC,QAAQC,KAAK4S,GACb7S,QAAQC,KAAKugB,EACjB,IAER,GACJ,CArMIC,CAAiB5d,GAsMrB,SAAmBA,GACfA,EAAIwH,MAAQ,GACZ,IADe,eACNrG,GACLnB,EAAIwH,MAAMrG,GAAK,GACf,IADkB,eACTD,GACLlB,EAAIwH,MAAMrG,GAAGD,GAAK,CAAC,EACnBlB,EAAI+Q,UAAUrJ,SAAQ,SAACT,GAAC,OAIpC,SAA0BjH,EAAK6d,EAAO3c,EAAGC,GACjCnB,EAAI8Q,OAAO+M,KACX7d,EAAIwH,MAAMrG,GAAGD,GAAG2c,GAGxB,SAAqB7d,EAAK6d,EAAOne,GAC7B,GAAU,GAANA,EACA,OACJ,IAAIsQ,EAAUhQ,EAAIwb,SAASzQ,MAAK,SAAC9D,GAAC,OAAOvH,GAAMuH,EAAEuW,UAAc9d,EAAMuH,EAAEuW,SAAWvW,EAAEwW,SAAW,IAC1FzN,GACD3S,GAAU,kBAAMF,QAAQC,KAAK,mBAAqB4C,EAAIP,KAAO,IAAMoe,EAAQ,KAAOne,EAAG,IAEzF,MAAO,CACHA,KACAsQ,QAASA,EACTI,QAAU1Q,GAAY,OAAPsQ,QAAO,IAAPA,OAAO,EAAPA,EAASwN,UAEhC,CAfiCM,CAAY9d,EAAK6d,EAAO7d,EAAI8Q,OAAO+M,GAAO1c,EAAInB,EAAI0C,MAAQxB,IAE3F,CARyC6c,CAAiB/d,EAAKiH,EAAExH,KAAMyB,EAAGC,EAAE,GAAE,EAF7DD,EAAI,EAAGA,EAAIlB,EAAI0C,MAAOxB,IAAM,EAA5BA,EAGR,EALIC,EAAI,EAAGA,EAAInB,EAAI2C,OAAQxB,IAAM,EAA7BA,EAOb,CA9MI6c,CAAUhe,GACHA,CACX,CAgOA,SAAS+b,GAAc9U,GACnB5J,GAAU,WAAO,IAAD,GACE,QAAV,EAAA4J,EAAE2U,gBAAQ,aAAV,EAAYrb,QAAS,IACpBpD,QAAQC,KAAK,2BACbD,QAAQC,KAAK6J,GAEtB,IAAG,EACP,CACA,SAASiV,GAAajV,GAClB5J,GAAU,WAAO,IAAD,GACE,QAAV,EAAA4J,EAAE2U,gBAAQ,aAAV,EAAYrb,QAAS,IACpBpD,QAAQC,KAAK,4BACbD,QAAQC,KAAK6J,GAEtB,IAAG,EACP,CACA,SAAS+U,GAAcxN,EAAGvH,EAAGgX,GACrB5gB,GAAU,WAAO,IAAD,EACR4J,EAAEuH,EAAEsN,WAAWrc,QACftC,QAAQC,KAAK,2BAA6BoR,EAAEsN,WAAWrc,KAAO,MAC9DtC,QAAQC,KAAK6J,EAAEuH,EAAEsN,WAAWrc,OAC5BtC,QAAQC,KAAKoR,IAEH,YAAVA,EAAE/O,OACDtC,QAAQC,KAAK,qBACbD,QAAQC,KAAKoR,IAEJ,QAAd,EAAIA,EAAEoN,gBAAQ,OAAV,EAAYrb,SACXpD,QAAQC,KAAK,4BACbD,QAAQC,KAAKoR,KAEuB,GAArCyP,EAAMxd,QAAQ+N,EAAEsN,WAAWrc,QAC1BtC,QAAQC,KAAK,qBACbD,QAAQC,KAAKoR,IAEd7Q,OAAOgD,KAAK6N,EAAEsN,YAAYxb,QAAO,SAAAY,GAAC,OAAK,CAAC,OAAQ,QAAS,QAAQgd,SAAShd,EAAE,IAAEX,SAC7EpD,QAAQC,KAAK,qBACbD,QAAQC,KAAKoR,GAEtB,IAAG,EACX,CCrTe,SAAS2P,GAAeC,GACnC,IAAIpX,EAAS,CACT+L,SAAU,GACVJ,YAAa,CAAC,GAOlB,OALAyL,EAAMxC,SAASlU,SAAQ,SAAC/I,GACpB,IAAI0F,EAOZ,SAAsB1F,GAClB,IAAIqI,EAAS,CACTtH,GAAIf,EAAQmd,WAAWpc,GACvBwB,EAA0B,EAAvBvC,EAAQmd,WAAW5a,EACtBC,EAA0B,EAAvBxC,EAAQmd,WAAW3a,EACtBkd,MAAOC,GAAU3f,EAAQid,WAM7B,OAJA5U,EAAM,2BACCA,GAYX,SAAmB4U,EAAUyC,GACzB,IAAIrX,EAAS,CACT8G,KAAM,GACNyQ,QAAS,CAAC,GAiBd,OAfA3C,EAAStb,QAAO,SAAC2G,GAAC,MAAe,OAAVA,EAAExH,IAAa,IAAEiI,SAAQ,SAACT,GAC7C,IAAIjH,EAAG,2BACAiH,EAAE6U,YAAU,IACf5a,EAAoB,EAAjB+F,EAAE6U,WAAW5a,EAChBC,EAAoB,EAAjB8F,EAAE6U,WAAW3a,IAEhBnB,EAAIwe,OACJxe,EAAIye,SAAWJ,EAAMre,EAAIwe,MACzBxe,EAAIye,SAAS3Q,KAAO9N,EAAIye,SAAS3Q,MAAQ,GACzC9N,EAAIye,SAAS3Q,KAAKpE,KAAK1J,IAE3BgH,EAAO8G,KAAKpE,KAAK1J,GACjBgH,EAAOuX,QAAQtX,EAAE6U,WAAWpc,IAAMM,CACtC,IAEOgH,CACX,CAhCW0X,CAAU/f,EAAQid,SAAU5U,EAAOqX,OAG9C,CAnBoBM,CAAahgB,GACzBqI,EAAO+L,SAASrJ,KAAKrF,GACrB2C,EAAO2L,YAAYhU,EAAQmd,WAAWpc,IAAM2E,CAChD,IACO2C,CACX,CAeA,SAASsX,GAAU1C,GACf,IAAI5U,EAAS,CAAC,EAId,OAHA4U,EAAStb,QAAO,SAAC2G,GAAC,MAAe,aAAVA,EAAExH,IAAmB,IAAEiI,SAAQ,SAACT,GACnDD,EAAOC,EAAE6U,WAAWpc,IAAMuH,EAAE6U,UAChC,IACO9U,CACX,CCkEe4X,OA1Ff,WACE,MAAqBC,mBAAS,IAAG,mBAA1Bxe,EAAI,KAACye,EAAO,KACdxH,EAAO,CAAExJ,KAAM,CAAC,GACrBiR,OAAOC,UAAU/f,WAAa,WAC5B,OAAOc,KAAK8X,OAAO,GAAG/Y,cAAgBiB,KAAKkf,MAAM,EACnD,EAEA,IAAMC,EAAW,SAAC3G,EAAU4G,GAK1B3G,MAAM,GAAGD,EAAU,CAACE,QAJJ,CACd,eAAgB,WAChB,OAAU,cAGTC,MAAK,SAAAC,GACJ,OAAOA,EAAS9T,MAClB,IACC6T,MAAK,SAAA0G,GACJ,OAAOA,EAAI3U,QAAQ,aAAa,GAClC,IACCiO,KAAKyG,EACV,EACME,EAAoB,SAACD,GACzB,IAIMxJ,GAJO,IAAI0J,MACEC,gBAAgBH,GAEjBI,qBAAqB,SACbnR,QAAO,SAASrO,EAAKmZ,GAE7C,OADAnZ,EAAImZ,EAAI2C,WAAWrc,MAAQ0Z,EAAIyC,SAAS5b,KAAI,SAAAR,GAAC,OAAEA,EAAE6E,KAAK,IAAE/D,QAAO,SAAA2G,GAAC,OAAEA,CAAC,IAC5DjH,CACT,GAAG,CAAC,GACJsX,EAAI,2BACGA,GAAI,IACP1B,cAEJ6J,EAAQnI,EAAMwH,EAChB,EAEMY,EAAU,SAAC9I,EAAUnX,EAAMoW,GAW/BqJ,EAAWtI,GAVI,SAAC+I,GACd,IACIvB,GADS,IAAIkB,MACEC,gBAAgBI,GAEnCrI,EAAKxJ,KAAKrO,GAAQ6b,GAAY8C,EAAO3e,GACrCoW,EAAYrG,WACc,GAAtBqG,EAAYrG,UACdqG,EAAY+J,OAEhB,GAEF,EAEMC,EAAc,SAAChK,GAWnBqJ,EAAW,qBAVI,SAACS,GACd,IACIvB,GADS,IAAIkB,MACEC,gBAAgBI,GAEnCrI,EAAK7E,UAAY0L,GAAeC,GAChCvI,EAAYrG,WACc,GAAtBqG,EAAYrG,UACdqG,EAAY+J,OAEhB,GAEF,EAEMH,EAAQ,SAACnI,EAAM6H,GACnB,IAAIrR,EAAOwJ,EAAK1B,UAAUkK,kBACtBjK,EAAc,CAACrG,SAAS1B,EAAKvN,OAAO,EAAGqf,MAAM,kBAAIT,EAAO7H,EAAK,GACjEuI,EAAahK,GACb/H,EAAKpG,SAAQ,SAACkF,GACZ8S,EAAU9S,EAAKnC,QAAQ,IAAI,KAAK,OAAQmC,EAAKnC,QAAQ,QAAQ,IAAKoL,EACpE,GACF,EAMA,OAJAvP,qBAAU,WACR4Y,EAAW,4BAA6BG,EAC1C,GAAE,IAGA,qBAAKjhB,UAAU,MAAK,SAEhB,cAAC,GAAI,CACHwX,UAAcvV,EAAKuV,UACnB9H,KAASzN,EAAKyN,KACd2E,UAAcpS,EAAKoS,aAI7B,ECpFesN,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBvH,MAAK,YAAkD,IAA/CwH,EAAM,EAANA,OAAQC,EAAM,EAANA,OAAQC,EAAM,EAANA,OAAQC,EAAM,EAANA,OAAQC,EAAO,EAAPA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,EACV,GAEJ,ECJA7iB,QAAQmgB,IAAI,QAASjC,iKACrBkF,IAASviB,OACP,cAAC,IAAa,UACZ,cAAC,GAAG,MAELwF,SAASC,eAAe,SAK3Bsc,I","file":"static/js/main.a29d8567.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","export default function debug(msg, force=false) {\r\n    if (DEBUG||force) console.warn(msg);\r\n}\r\nexport function doIfDebug(f, force=false) {\r\n    if (DEBUG||force) f();\r\n}\r\n\r\nconst DEBUG=/*false;/*/(\"production\" !== process.env.NODE_ENV);/**/","import { Route } from 'react-router-dom';\r\nimport React, { Component } from 'react';\r\n\r\nconst PropsRoute = ({ component, ...rest }) => {\r\n  return (\r\n    <Route {...rest} render={routeProps => {\r\n      return renderMergedProps(component, routeProps, rest);\r\n    }}/>\r\n  );\r\n}\r\nconst renderMergedProps = (component, ...rest) => {\r\n  const finalProps = Object.assign({}, ...rest);\r\n  return (\r\n    React.createElement(component, finalProps)\r\n  );\r\n}\r\n\r\nexport default PropsRoute ","import React, { Component } from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default class Main extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <menu>\r\n                <ul className=\"hr\">\r\n                    <li className={window.location.pathname === \"/\" ? \"selected\" : \"\"}>\r\n                        <Link to=\"\">Home</Link>\r\n                    </li>\r\n                    {LiLink(\"items\", \"/body\")}\r\n                    {LiLink(\"monsters\", \"/animal\")}\r\n                    {LiLink(\"NPC\", \"/merchant\")}\r\n                    {LiLink(\"conditions\")}\r\n                    {LiLink(\"quests\")}\r\n                    {LiLink(\"categories\")}\r\n                    {LiLink(\"map\")}\r\n                </ul>\r\n            </menu>\r\n        );\r\n    }\r\n}\r\nconst LiLink = (segment, def=\"\") => {\r\n    const to = \"/\"+segment+def;\r\n    const liClass = (window.location.pathname.toUpperCase().startsWith(\"/\"+segment.toUpperCase()))?\"selected\":\"\"; \r\n    return  <li className={liClass}><Link to={to.toLowerCase()}>{segment.capitalize()}</Link></li>\r\n}","import React, { Component } from 'react';\r\n\r\n\r\nexport default class Table extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n\r\n\r\n\r\n    render() {\r\n        return ( <div style={{textAlign:'left', margin:10}}>\r\n            <p>Welcome to <b>Andor's Trail Directory V2</b> the fan page about amazing, beautiful a great game <a href=\"https://play.google.com/store/apps/details?id=com.gpl.rpg.AndorsTrail\">Andor's Trail</a>.</p>\r\n\r\n            <h2>About</h2>\r\n            <p><b>Andor's Trail</b> is quest-driven Roguelike fantasy dungeon crawler RPG with a powerful story on Android, with open source code (GPL).</p>\r\n\r\n            <p>I created this web because <a href=\"http://andorstrail.irkalla.cz/0.7.0/\">previous one</a> was abandoned for years.</p>\r\n\r\n            <p>This pages get data directly from source files, witch are in easy-to-read JSON and XML format, and redner it birectly in your browser. </p>\r\n\r\n            <h2>Spoiler alert</h2>\r\n\r\n            <p>This whole web ïs a little bit of spoiler and it contains some informations witch you probably shouldn't know and can reveal some surprises and story twists. It is not such big deal, just be careful a consider yourself warned.</p> \r\n\r\n            <p>But if you are affraid of spoilers, stay away from <b>quest page</b>.</p>\r\n\r\n            <h2>Contact and links</h2>\r\n\r\n            <p>If you want more information about game, please visit the <a href=\"https://play.google.com/store/apps/details?id=com.gpl.rpg.AndorsTrail\">official game page on Google Play</a> or the <a href=\"https://www.andorstrail.com\">main game forum</a>. </p>\r\n\r\n        </div> );\r\n    }\r\n}\r\n\r\n","import React, { Component } from 'react';\r\n\r\nexport default class Table extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.getHeader = this.getHeader.bind(this);\r\n        this.getRowsData = this.getRowsData.bind(this);\r\n        this.getKeys = this.getKeys.bind(this);\r\n    }\r\n\r\n    getKeys = function () {\r\n        return [\r\n        [\"name\", (o)=>o.name],\r\n        [\"id\",(o)=>o.id],\r\n        [\"size\",(o)=>o.size],\r\n        [\"inventorySlot\",(o)=>o.inventorySlot],\r\n        [\"actionType\",(o)=>o.actionType],\r\n\r\n\r\n        ];\r\n    }\r\n\r\n    getHeader = function () {\r\n        var keys = this.getKeys();\r\n        return keys.map((key, index) => {\r\n            return  <th key = {key[0]} > {key[0]} </th>\r\n        })\r\n    }\r\n\r\n    getRowsData = function () {\r\n        var items = this.props.data;\r\n        if (!items) return \"\";\r\n        if (this.props.filter && this.props.filter.length>0) {\r\n            items = items.filter((item)=>this.props.filter.indexOf(item.category) > -1);\r\n        }\r\n        var keys = this.getKeys();\r\n        return items.map((row, index)=>{\r\n            return <tr key={index}><RenderRow key={index} data={row} keys={keys}/></tr>\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n             <div>\r\n                 <table border='1'>\r\n                     <thead>\r\n                         <tr>{this.getHeader()}</tr>\r\n                     </thead>\r\n                     <tbody>{this.getRowsData()}</tbody>\r\n                 </table>\r\n             </div> );\r\n    }\r\n}\r\nconst RenderRow = (props) => {\r\n    return props.keys.map((key, index) => {\r\n        return  <td key ={key[0]} > {key[1](props.data)} </td>\r\n    })\r\n}\r\n","import React, { Component } from 'react';\r\nimport { HashLink as Link } from 'react-router-hash-link';\r\n\r\nconst custom = {\r\n    monsters_demon1:{x:64, y:64},\r\n    monsters_demon2:{x:64, y:64},\r\n    monsters_hydra1:{x:64, y:64},\r\n    monsters_cyclops:{x:64, y:96},\r\n    monsters_bosses_2x2:{x:64, y:64},\r\n    monsters_giantbasilisk:{x:64, y:64},\r\n}\r\n\r\nexport const getDimentionById = (id) => getDimention(id?.split(\":\")[0]);\r\nexport const getDimention = (file) => custom[file]||{x:32,y:32};\r\n\r\nexport default class Icon extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        const {data, prefix, noBackground}= this.props;\r\n        const zoom = this.props.zoom || 32;\r\n\r\n        const href = (data.rootLink || prefix) + (data.id||data.name);\r\n        const key = \"i\" + (new Date() -0) +\"_\"+ Math.random();\r\n        const tmp = data.iconID?.split(\":\");\r\n        const file = tmp[0];\r\n        const index = tmp[1];\r\n        const src = getSrc(file);\r\n        const d = getDimention(file);\r\n        \r\n        d.x = d.x * zoom / 32;\r\n        d.y = d.y * zoom / 32;\r\n\r\n        var style = {\r\n            width:d.x,\r\n            height:d.y,\r\n            overflow: 'hidden'\r\n        }\r\n        if (!noBackground) {\r\n            style = {\r\n                ...style,\r\n                backgroundImage: 'url(\"/drawable/ui_selections.png\")',\r\n                backgroundRepeat: 'no-repeat', \r\n                backgroundPosition: (data.iconBg * d.x) + \"px 0px\",\r\n                backgroundSize: (d.x * 5) + \"px \" + d.y + \"px\",\r\n\r\n            };\r\n        };\r\n\r\n        return <div style={{ display:'flex'}}>\r\n\r\n                        <Link style={style} \r\n                           title={data.displaytype} \r\n                           to={href}>\r\n                                <div id={data.id} className=\"TableAncor\"/>\r\n                                <img id={key} \r\n                                    src={src} \r\n                                    onLoad={onImgLoad(index, d, key)}\r\n                                    />\r\n                        </Link>\r\n                    </div>;\r\n    }\r\n}\r\n    const getSrc = (file) => {\r\n        if (!file) return;\r\n        return \"/drawable/\"+file+\".png\";\r\n    }\r\n    const getPosition = (i, width, d) => {\r\n        var x = - i % width * d.x;\r\n        var y = (- i * d.y - x) / width;\r\n        return {x, y};\r\n    }\r\n    const onImgLoad = (index, d, key) => {\r\n        return ()=> {\r\n            if (!index) return;\r\n            var img = document.getElementById(key);\r\n            var p = getPosition(index, img.width / d.x, d);\r\n            img.style = `margin: ${p.y}px 0 0 ${p.x}px; display: 'block'`;\r\n        }\r\n    }\r\n\r\n","import React from 'react';\r\nimport Icon from '../Icon';\r\n\r\nconst styles = {\r\n    root: {\r\n        position: 'relative',\r\n        paddingLeft: '10px',\r\n        paddingTop: '5px',\r\n        display: 'block',\r\n        width: '100%',\r\n        height: '100%',\r\n        alignItems: 'center'\r\n    },\r\n\r\n}\r\n\r\nconst IconCell = ({tableManager, value, onChange, isEdit, data, column, rowIndex, searchText, isFirstEditableCell}) => {\r\n    return (\r\n        <div style={styles.root}>\r\n            <Icon data={data} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default IconCell;","import React from 'react';\r\nimport { HashLink as Link } from 'react-router-hash-link';\r\n\r\nconst styles = {\r\n    root: {\r\n        position: 'relative',\r\n        padding: '5px 20px',\r\n        display: 'flex',\r\n        width: '100%',\r\n        height: '100%',\r\n    },\r\n    text: {\r\n        marginLeft: 1,\r\n        whiteSpace: 'nowrap',\r\n\r\n    },\r\n    aimg: {\r\n        width:32, \r\n        height:32, \r\n        overflow: 'hidden' \r\n    },\r\n}\r\n\r\nconst getSrc = (id) => {\r\n    const tmp = id?.split(\":\")\r\n    return \"/drawable/\"+tmp[0]+\".png\";\r\n}\r\nconst getTypePosition = (dt) => {\r\n    switch(dt) {\r\n        \r\n        case 'legendary': return  \"-128px 0px\";\r\n        case 'extraordinary': return  \"-64px 0px\";\r\n        case 'rare': return  \"-96px 0px\";\r\n        case 'quest': return  \"-32px 0px\";\r\n        \r\n        default: return \"32px 0px\";\r\n    }\r\n}\r\nconst getPosition = (id, width) => {\r\n    const tmp = id?.split(\":\")[1]\r\n    var x = - tmp % width * 32;\r\n    var y = (- tmp * 32 - x) / width;\r\n    return {x, y};\r\n}\r\nconst getImgId = (id, rowIndex, index) => {\r\n    return id+\"_\"+rowIndex+\"_\"+index;\r\n}\r\n\r\nconst onImgLoad = (id, rowIndex, index) => {\r\n    return ()=> {\r\n        var img = document.getElementById(getImgId(id, rowIndex, index));\r\n        var p = getPosition(id, img.width/32);\r\n        img.style = `margin: ${p.y}px 0 0 ${p.x}px`;\r\n    }\r\n}\r\n\r\nconst showCondition = (prefix, rowIndex) => {\r\n    return (row, index) => {\r\n        var title = prefix;\r\n        if (row.chance) title += row.chance +\"% chance of \";\r\n        title += row.link.name ;\r\n        title += (row.magnitude >= 1)?(\" x\" + row.magnitude) : \" clearing\";\r\n        if (row.duration) title += \" (\" + row.duration + \" rounds)\";\r\n        const href = \"/conditions#\"+row.link.id;\r\n        const id = getImgId(row.link.iconID, rowIndex, index);\r\n        return <Link style={styles.aimg} title={title} to={href} key={id} >\r\n                   <img id={id} src={getSrc(row.link.iconID)} \r\n                        onLoad={onImgLoad(row.link.iconID, rowIndex, index)}\r\n                   />\r\n               </Link>\r\n    }\r\n}\r\nconst getRowsData = (prefix, values, rowIndex) => {\r\n    return values?.map(showCondition(prefix, rowIndex));\r\n}\r\nconst getTextData = (prefix, value, text, rowIndex) => {\r\n    if (!value) return \"\";\r\n    return <span style={styles.text} title={prefix + \" \" + value.min + \"-\" + value.max}>{text}</span>;\r\n}\r\n\r\nconst ConditionsCell = ({tableManager, value, onChange, isEdit, data, column, rowIndex, searchText, isFirstEditableCell}) => {\r\n\r\n    return (\r\n        <div style={styles.root}>\r\n            {\r\n                <React.Fragment>\r\n                    {getRowsData(\"On equip\\n \", data.equipEffect?.addedConditions, rowIndex)}\r\n                    {getRowsData(\"On hit\\n On target\\n  \", data.hitEffect?.conditionsTarget, rowIndex)}\r\n                    {getRowsData(\"On hit\\n On source\\n  \", data.hitEffect?.conditionsSource, rowIndex)}\r\n                    {getTextData(\"On hit\\n On source\\n  \", data.hitEffect?.increaseCurrentHP, \"+HP\", rowIndex)}\r\n                    {getRowsData(\"On kill\\n On source\\n  \", data.killEffect?.conditionsSource, rowIndex)}\r\n                    {getTextData(\"On kill\\n On source\\n  \", data.killEffect?.increaseCurrentHP, \"+HP\", rowIndex)}\r\n                    {getTextData(\"On kill\\n On source\\n  \", data.killEffect?.increaseCurrentAP, \"+AP\", rowIndex)}\r\n                    {getRowsData(\"On hit received\\n On source\\n  \", data.hitReceivedEffect?.conditionsSource, rowIndex)}\r\n                    {getRowsData(\"On hit received\\n On target\\n  \", data.hitReceivedEffect?.conditionsTarget, rowIndex)}\r\n                    {getRowsData(\"On use\\n \", data.useEffect?.conditionsSource, rowIndex)}\r\n                </React.Fragment>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ConditionsCell;","import React from 'react';\r\n\r\nconst styles = {\r\n    root: {\r\n        position: 'relative',\r\n        padding: '0 20px',\r\n        display: 'flex',\r\n        width: '100%',\r\n        height: '100%',\r\n        alignItems: 'center'\r\n    },\r\n    text: {\r\n        marginLeft: 10,\r\n        whiteSpace: 'nowrap',\r\n        overflow: 'hidden',\r\n        textOverflow: 'ellipsis'\r\n    },\r\n}\r\n\r\nconst knownEquipEffects = [\r\n                  \"increaseAttackDamage\",\r\n                  \"increaseAttackCost\",\r\n                  \"increaseAttackChance\",\r\n                  \"increaseBlockChance\",\r\n                  \"increaseCriticalSkill\",\r\n                  \"setCriticalMultiplier\",\r\n                  \"increaseMaxHP\",\r\n                  \"setNonWeaponDamageModifier\",\r\n                  \"increaseMaxAP\",\r\n                  \"increaseDamageResistance\",\r\n                  \"addedConditions\",\r\n                  \"conditionsTarget\",\r\n                  \"increaseMoveCost\",\r\n                  \"increaseUseItemCost\",\r\n                  \"increaseReequipCost\",\r\n                  \"\",\r\n                  \"\",\r\n              ];\r\nconst knownHitEffects = [\r\n                  \"conditionsTarget\",\r\n                  \"conditionsSource\",\r\n                  \"increaseCurrentHP\",\r\n                  \"\",\r\n                  \"\",\r\n              ];\r\nconst knownKillEffects = [\r\n                  \"conditionsSource\",\r\n                  \"increaseCurrentHP\",\r\n                  \"increaseCurrentAP\",\r\n                  \"\",\r\n              ];\r\nconst knownReceivedEffects = [\r\n                  \"conditionsSource\",\r\n                  \"conditionsTarget\",\r\n                  \"\",\r\n                  \"\",\r\n              ];\r\nconst knownUseEffects = [\r\n                  \"conditionsSource\",\r\n                  \"increaseCurrentHP\",\r\n                  \"\",\r\n              ];\r\nconst knownAbilityEffects = [\r\n                  \"increaseAttackChance\",\r\n                  \"increaseBlockChance\",\r\n                  \"increaseDamageResistance\",\r\n                  \"increaseAttackDamage\",\r\n                  \"increaseMaxAP\",\r\n                  \"increaseMoveCost\",\r\n                  \"increaseAttackCost\",\r\n                  \"increaseMaxHP\",\r\n                  \"increaseCriticalSkill\",\r\n                  \"increaseUseItemCost\",\r\n                  \"increaseReequipCost\",\r\n                  \"visualEffectID\",\r\n                  \"\",\r\n              ];\r\nconst knownRoundEffects = [\r\n                  \"increaseCurrentHP\",\r\n                  \"visualEffectID\",\r\n                  \"increaseCurrentAP\",\r\n                  \"\",\r\n                  \"\",\r\n                  \"\",\r\n              ];\r\n\r\nconst getOther = (prefix, equipEffect, f) => {\r\n    if (!equipEffect) return \"\";\r\n    const result = Object.keys(equipEffect)\r\n        .filter((e)=> f.indexOf(e)==-1)\r\n        .map((key) => [key, equipEffect[key]]);\r\n    return (result.length>0) ? prefix + JSON.stringify(result) : \"\";\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst OtherCell = ({tableManager, value, onChange, isEdit, data, column, rowIndex, searchText, isFirstEditableCell}) => {\r\n\r\n    return (\r\n        <div style={styles.root}>\r\n            {\r\n                <React.Fragment>\r\n                    {getOther(\"On equip:\", data.equipEffect, knownEquipEffects)}\r\n                    {getOther(\"On hit:\", data.hitEffect, knownHitEffects)}\r\n                    {getOther(\"On get hit:\", data.hitReceivedEffect, knownReceivedEffects)}\r\n                    {getOther(\"On kill: \", data.killEffect, knownKillEffects)}\r\n                    {getOther(\"On use: \", data.useEffect, knownUseEffects)}\r\n                    {getOther(\"\", data.abilityEffect, knownAbilityEffects)}\r\n                    {getOther(\"\", data.roundEffect, knownRoundEffects)}\r\n                </React.Fragment>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default OtherCell;","import React from 'react';\r\n\r\nconst styles = {\r\n    root: {\r\n        position: 'relative',\r\n        padding: '10px 20px',\r\n        display: 'block',\r\n        width: '100%',\r\n        height: '100%',\r\n        alignItems: 'center'\r\n    },\r\n    text: {\r\n        margin: 'auto',\r\n        whiteSpace: 'nowrap',\r\n        overflow: 'hidden',\r\n        textOverflow: 'ellipsis',\r\n    },\r\n    \r\n\r\n}\r\nconst RangeCell = (...field)=>{\r\n    return ({tableManager, value, onChange, isEdit, data, column, rowIndex, searchText, isFirstEditableCell}) => {\r\n        var range = {data};\r\n        field.forEach((f)=>{range.data = range.data[f]||{}});\r\n        if (value == \"0\") return \"\";\r\n        if (range.data.min == range.data.max) return (<div style={styles.root}><span style={styles.text}>{value}</span></div>);\r\n        return (\r\n            <div style={styles.root}>\r\n               <span style={styles.text}>{value}({range.data.min}/{range.data.max})</span>\r\n            </div>\r\n        )\r\n\r\n    }\r\n}\r\n\r\nexport default RangeCell;","import React, { Component } from 'react';\r\n\r\nexport default class TableAbsHeader extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={\r\n            scrollY: window.scrollY,\r\n            scrollX: window.scrollX,\r\n        };\r\n        this.onScroll = this.onScroll.bind(this);\r\n    }\r\n\r\n    onScroll() {\r\n        this.setState({ scrollY: window.scrollY,  scrollX: window.scrollX,});\r\n    }\r\n\r\n    componentDidMount() {\r\n       if (window.onscroll) {\r\n           const tmp = window.onscroll;\r\n           window.onscroll = () => {tmp(); this.onScroll();}\r\n       } else {\r\n           window.onscroll = this.onScroll;\r\n       }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n       window.onscroll = undefined;\r\n    }\r\n\r\n    render() {\r\n\r\n        const columns = this.props.columns\r\n        const size = this.props.size\r\n        const bot = this.props.bot\r\n\r\n        if (window.scrollY < size.top) return \"\";\r\n        if (window.scrollY > (size.top + size.height - 50)) return \"\";\r\n\r\n\r\n        var style = {marginLeft:2-this.state.scrollX, width: 3000}\r\n\r\n        return (<div>\r\n                <RenderHead style1={style} columns={columns}/>\r\n                </div>\r\n              )\r\n\r\n    }\r\n}\r\nconst RenderHead = (props) => {\r\n    return <div className='absHeader' style={props.style1}  >\r\n                {props.columns\r\n                    .filter((e)=> !(e.visible == false))\r\n                    .map((e)=>{return (\r\n                            <div key={e.id} className='absSubHeader' style={{width:`${e.width}`}}>\r\n                                <div className='absSubHeaderInner' >{e.label}</div>\r\n                            </div>\r\n                        )})}\r\n           </div>\r\n}","import React, { Component } from 'react';\r\nimport Icon from '../Icon';\r\nimport { HashLink as Link } from 'react-router-hash-link';\r\n\r\nexport default class Table extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.getHeader = this.getHeader.bind(this);\r\n        this.getRowsData = this.getRowsData.bind(this);\r\n        this.getKeys = this.getKeys.bind(this);\r\n    }\r\n    getKeys = function () {\r\n        return [\r\n            [\"\", (o)=> {return <Icon data={o.monster} />;}],\r\n            [\"Name\", (o)=>{return RenderHref(o.monster)}, { textAlign: 'left'} ],\r\n            [\"Quantity\",(o)=>{return Range(o.quantity)}],\r\n            [\"Chance\",(o)=>{return o.type ||(o.monster.maxHP?(this.renderChance(o.chance)):\"sell\")}],\r\n        ];\r\n    }\r\n    renderChance = function (chance) {\r\n        if (chance.indexOf(\"/\") > 0) {\r\n            return chance;\r\n        } else {\r\n            return chance + \"%\";\r\n        }\r\n    }\r\n    getHeader = function () {\r\n        var keys = this.getKeys();\r\n        return keys.map((key, index) => {\r\n            var style = (key.length>=2)?key[2]:{};\r\n            return  <th style={style} key = {key[0]} > {key[0]} </th>\r\n        })\r\n    }\r\n\r\n    getRowsData = function () {\r\n        var data = this.props.data;\r\n        if (!data) return \"\";\r\n        if (this.props.filter && this.props.filter.length>0) {\r\n            data = data.filter((item)=>this.props.filter.indexOf(item.category) > -1);\r\n        }\r\n        var keys = this.getKeys();\r\n        return data.map((row, index)=>{\r\n            return <tr key={index}><RenderRow key={index} data={row} keys={keys}/></tr>\r\n        })\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <table style={{width: 400}} >\r\n                <thead style={{display: 'none'}}><tr>{this.getHeader()}</tr></thead>\r\n                <tbody>{this.getRowsData()}</tbody>\r\n            </table>\r\n        );\r\n    }\r\n}\r\nconst RenderRow = (props) => {\r\n    return props.keys.map((key, index) => {\r\n        var style = (key.length>=2)?key[2]:{};\r\n        return <td style={style} key ={key[0]}>{key[1](props.data)}</td>\r\n    })\r\n}\r\nconst RenderHref = (o) => {\r\n    const href = o.rootLink + o.id;\r\n    return <Link to={href}>{o.name}</Link>\r\n}\r\nconst Range = (o) => {\r\n    if (o?.max == o?.min) return o?.max;\r\n    return o.min + \"-\" + o.max;\r\n}","import React from 'react';\r\nimport LinksTable from './LinksTable';\r\n\r\nconst styles = {\r\n    text: {\r\n        marginLeft: 10,\r\n        whiteSpace: 'nowrap',\r\n        overflow: 'hidden',\r\n        textOverflow: 'ellipsis'\r\n    },\r\n    table: {\r\n        paddingTop: 10,\r\n        marginLeft: -10,\r\n    },\r\n}\r\n\r\nexport default class ExpandingName extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            expanded: window.location.href.endsWith(this.props.data.id.toLowerCase()),\r\n        }\r\n        this.toggleExpand = this.toggleExpand.bind(this);\r\n    }\r\n    toggleExpand() {\r\n        this.setState({ expanded: !this.state.expanded, });\r\n    }\r\n\r\n    render() {\r\n\r\n        const data = this.props.data;\r\n\r\n        const value = this.props.value;\r\n        const links = [];\r\n        data.droplists?.flatMap((e)=>getEnemyList(e))?.filter((e)=>!!e).forEach((e)=>links.push(e));\r\n\r\n        if (!links||!links.length) {\r\n            return (\r\n              <React.Fragment>\r\n                    <div style={{ display:'flex'}} >\r\n                        <div style={{ width: 19}} />\r\n                        <span style={styles.text}>{value}</span>\r\n                    </div>\r\n              </React.Fragment> );\r\n        }\r\n\r\n        return (\r\n              <React.Fragment>\r\n                    <div style={{ display:'flex'}} onClick={this.toggleExpand}>\r\n                            <img src=\"../image/sort_desc.png\" />\r\n                            <span style={styles.text}>{value}</span>\r\n                    </div>\r\n                    <div style={styles.table}>\r\n                        {(this.state.expanded) && <LinksTable data={links}/>}\r\n                    </div>\r\n\r\n             </React.Fragment> );\r\n    }\r\n}\r\n\r\nconst getEnemyList = (link) => {\r\n    var result = [];\r\n    link.droplist?.links?.forEach((monster) => {\r\n        result.push({\r\n            monster,\r\n            ...link\r\n        });\r\n    })\r\n\r\n    return result;\r\n}\r\n","import React from 'react';\r\nimport ExpandingName from './ExpandingName';\r\n\r\nconst styles = {\r\n    root: {\r\n        position: 'relative',\r\n        padding: '10px',\r\n        display: 'block',\r\n        width: '100%',\r\n        height: '100%',\r\n        alignItems: 'center'\r\n    },\r\n}\r\n\r\nconst IconCell = ({tableManager, value, onChange, isEdit, data, column, rowIndex, searchText, isFirstEditableCell}) => {\r\n    return (\r\n        <div style={styles.root}>\r\n            <ExpandingName data={data} value={value}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default IconCell;","import React, { Component } from 'react';\r\nimport GridTable from '@nadavshaar/react-grid-table';\r\nimport '../../@nadavshaar/react-grid-table/dist/index.css';\r\nimport IconCell from \"../cells/IconCell\";\r\nimport ConditionsCell from \"../cells/ConditionsCell\";\r\nimport OtherCell from \"../cells/OtherCell\";\r\nimport RangeCell from \"../cells/RangeCell\";\r\nimport TableAbsHeader from \"../TableAbsHeader\";\r\nimport NameCell from \"./NameCell\";\r\n\r\nconst sortStr = ({a, b, isAscending}) => {\r\n    let aa = a||\"\";\r\n    let bb = b||\"\";\r\n    if(aa > bb) return isAscending ? 1 : -1; \r\n    if(aa < bb) return isAscending ? -1 : 1; \r\n    return 0; \r\n}\r\nconst sortInt = ({a, b, isAscending}) => {\r\n    let aa = a||0;\r\n    let bb = b||0;\r\n    if(aa > bb) return isAscending ? 1 : -1; \r\n    if(aa < bb) return isAscending ? -1 : 1; \r\n    return 0; \r\n}\r\nconst sortDT = ({a, b, isAscending}) => {\r\n    const list = [\"ordinary\",\"quest\",\"rare\",\"extraordinary\",\"legendary\",\"\"];\r\n    let aa = list.indexOf(a);\r\n    let bb = list.indexOf(b);\r\n    if(aa > bb) return isAscending ? 1 : -1; \r\n    if(aa < bb) return isAscending ? -1 : 1; \r\n    return 0; \r\n}\r\nconst aInt = ({a, b, isAscending}) => {\r\n    let aa = a||0;\r\n    let bb = b||0;\r\n    if(aa > bb) return isAscending ? 1 : -1; \r\n    if(aa < bb) return isAscending ? -1 : 1; \r\n    return 0; \r\n}\r\n\r\nconst hashLinkScroll = () => {\r\n  const { hash } = window.location;\r\n  if (hash !== '') {\r\n    setTimeout(() => {\r\n      const id = hash.replace('#', '');\r\n      const element = document.getElementById(id);\r\n      if (element) element.scrollIntoView();\r\n    }, 100);\r\n  }\r\n}\r\n\r\nexport default class Table extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={};\r\n\r\n        this.getColumns = this.getColumns.bind(this);\r\n        this.getRows = this.getRows.bind(this);\r\n        this.id=\"ItemTable\" + Math.random();\r\n    }\r\n\r\n    getRows  = function () {\r\n        var data = this.props.data;\r\n        if (this.props.filter) {\r\n            data = data.filter((e)=>this.props.filter(e));\r\n        }\r\n        return data;\r\n    }\r\n\r\n    isEmptyColumn = function (f) {\r\n        return !!this.rows.find((e)=>f(e));\r\n    }\r\n    getColumns  = function () {\r\n        var i = 1;\r\n        return [\r\n            {\r\n                id: i++,\r\n                field: 'displaytype',\r\n                label: '',\r\n                pinned: true,\r\n                cellRenderer: IconCell,\r\n                sort:sortDT,\r\n                width: '50px',\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'name',\r\n                label: 'Name',\r\n                pinned: true,\r\n                cellRenderer: NameCell,\r\n                width: '290px',\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'equipEffect',\r\n                label: 'Atk Cost',\r\n                getValue: ({value, column}) => value?.increaseAttackCost,\r\n                sort:sortInt,\r\n                width: '85px',\r\n                visible: this.isEmptyColumn((item)=>item.equipEffect?.increaseAttackCost),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'equipEffect',\r\n                label: 'Dmg',\r\n                getValue: ({value, column}) => ((value?.increaseAttackDamage?.min||0) + (value?.increaseAttackDamage?.max||0))/2,\r\n                sort:sortInt,\r\n                cellRenderer: RangeCell(\"equipEffect\", \"increaseAttackDamage\"),\r\n                width: '120px',\r\n                visible: this.isEmptyColumn((item)=>item.equipEffect?.increaseAttackDamage),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'equipEffect',\r\n                label: 'AC',\r\n                getValue: ({value, column}) => value?.increaseAttackChance,\r\n                sort:sortInt,\r\n                width: '50px',\r\n                visible: this.isEmptyColumn((item)=>item.equipEffect?.increaseAttackChance),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'equipEffect',\r\n                label: 'BC',\r\n                getValue: ({value, column}) => value?.increaseBlockChance,\r\n                sort:sortInt,\r\n                width: '50px',\r\n                visible: this.isEmptyColumn((item)=>item.equipEffect?.increaseBlockChance),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'equipEffect',\r\n                label: 'Crit',\r\n                getValue: ({value, column}) => value?.increaseCriticalSkill,\r\n                sort:sortInt,\r\n                width: '60px',\r\n                visible: this.isEmptyColumn((item)=>item.equipEffect?.increaseCriticalSkill),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'equipEffect',\r\n                label: 'Crit*',\r\n                getValue: ({value, column}) => value?.setCriticalMultiplier,\r\n                sort:sortInt,\r\n                width: '55px',\r\n                visible: this.isEmptyColumn((item)=>item.equipEffect?.setCriticalMultiplier),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'equipEffect',\r\n                label: 'MaxHP',\r\n                getValue: ({value, column}) => value?.increaseMaxHP,\r\n                sort:sortInt,\r\n                width: '75px',\r\n                visible: this.isEmptyColumn((item)=>item.equipEffect?.increaseMaxHP),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'equipEffect',\r\n                label: 'MaxAP',\r\n                getValue: ({value, column}) => value?.increaseMaxAP,\r\n                sort:sortInt,\r\n                width: '75px',\r\n                visible: this.isEmptyColumn((item)=>item.equipEffect?.increaseMaxAP),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'equipEffect',\r\n                label: 'MC',\r\n                getValue: ({value, column}) => value?.increaseMoveCost,\r\n                sort:sortInt,\r\n                width: '80px',\r\n                visible: this.isEmptyColumn((item)=>item.equipEffect?.increaseMoveCost),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'equipEffect',\r\n                label: 'UC',\r\n                getValue: ({value, column}) => value?.increaseUseItemCost,\r\n                sort:sortInt,\r\n                width: '50px',\r\n                visible: this.isEmptyColumn((item)=>item.equipEffect?.increaseUseItemCost),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'equipEffect',\r\n                label: 'EC',\r\n                getValue: ({value, column}) => value?.increaseReequipCost,\r\n                sort:sortInt,\r\n                width: '50px',\r\n                visible: this.isEmptyColumn((item)=>item.equipEffect?.increaseReequipCost),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'equipEffect',\r\n                label: 'Dmg*%',\r\n                getValue: ({value, column}) => value?.setNonWeaponDamageModifier||100,\r\n                sort:sortInt,\r\n                width: '75px',\r\n                visible: this.isEmptyColumn((item)=>item.equipEffect?.setNonWeaponDamageModifier),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'equipEffect',\r\n                label: 'Res',\r\n                getValue: ({value, column}) => value?.increaseDamageResistance,\r\n                sort:sortInt,\r\n                width: '50px',\r\n                visible: this.isEmptyColumn((item)=>item.equipEffect?.increaseDamageResistance),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'conditionsCount',\r\n                label: 'Conditions',\r\n                sort:sortInt,\r\n                width: '140px',\r\n                cellRenderer: ConditionsCell,\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'baseMarketCost',\r\n                label: 'Price',\r\n                sort:sortInt,\r\n                width: '60px',\r\n                visible: true,\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'categoryLink',\r\n                label: 'Category',\r\n                getValue: ({value, column}) => value?.name,\r\n                width: '180px',\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'equipEffect',\r\n                label: 'Other',\r\n                getValue: ({value, column}) => value,\r\n                width: '100px',\r\n                sort:sortStr,\r\n                cellRenderer: OtherCell,\r\n                visible: false,\r\n            },\r\n        ]\r\n    }\r\n\r\n    componentDidMount() {\r\n        const top = document.getElementById(this.id).offsetTop;\r\n        this.setState({ top, height: 999999 });\r\n    }\r\n\r\n    render() {\r\n        GridTable.defaultProps.isPaginated = false;\r\n        GridTable.defaultProps.minColumnResizeWidth = 30;\r\n        GridTable.defaultProps.isVirtualScroll = false;\r\n        GridTable.defaultProps.showSearch = false;\r\n        GridTable.defaultProps.showColumnVisibilityManager = false;\r\n        this.rows = this.getRows();\r\n\r\n        const columns = this.getColumns()\r\n\r\n        return (<div id={this.id}>\r\n                    <TableAbsHeader columns={columns} size={this.state}/>\r\n                    <GridTable \r\n                        columns={columns} \r\n                        rows={this.rows} \r\n                        onLoad={hashLinkScroll} \r\n                        key={this.props.title}/>\r\n                </div>)\r\n    }\r\n}\r\n\r\n","import React, { Component } from 'react';\r\nimport GridTable from '@nadavshaar/react-grid-table';\r\nimport '../../@nadavshaar/react-grid-table/dist/index.css';\r\nimport IconCell from \"../cells/IconCell\";\r\nimport ConditionsCell from \"../cells/ConditionsCell\";\r\nimport OtherCell from \"../cells/OtherCell\";\r\nimport RangeCell from \"../cells/RangeCell\";\r\nimport NameCell from \"./NameCell\";\r\nimport TableAbsHeader from \"../TableAbsHeader\";\r\n\r\nconst sortStr = ({a, b, isAscending}) => {\r\n    let aa = a||\"\";\r\n    let bb = b||\"\";\r\n    if(aa > bb) return isAscending ? 1 : -1; \r\n    if(aa < bb) return isAscending ? -1 : 1; \r\n    return 0; \r\n}\r\nconst sortInt = ({a, b, isAscending}) => {\r\n    let aa = a||0;\r\n    let bb = b||0;\r\n    if(aa > bb) return isAscending ? 1 : -1; \r\n    if(aa < bb) return isAscending ? -1 : 1; \r\n    return 0; \r\n}\r\nconst sortDT = ({a, b, isAscending}) => {\r\n    const list = [\"ordinary\",\"quest\",\"rare\",\"extraordinary\",\"legendary\",\"\"];\r\n    let aa = list.indexOf(a);\r\n    let bb = list.indexOf(b);\r\n    if(aa > bb) return isAscending ? 1 : -1; \r\n    if(aa < bb) return isAscending ? -1 : 1; \r\n    return 0; \r\n}\r\nconst aInt = ({a, b, isAscending}) => {\r\n    let aa = a||0;\r\n    let bb = b||0;\r\n    if(aa > bb) return isAscending ? 1 : -1; \r\n    if(aa < bb) return isAscending ? -1 : 1; \r\n    return 0; \r\n}\r\n\r\nconst hashLinkScroll = () => {\r\n  const { hash } = window.location;\r\n  if (hash !== '') {\r\n    setTimeout(() => {\r\n      const id = hash.replace('#', '');\r\n      const element = document.getElementById(id);\r\n      if (element) element.scrollIntoView();\r\n    }, 100);\r\n  }\r\n}\r\n\r\nexport default class Table extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={};\r\n\r\n        this.getColumns = this.getColumns.bind(this);\r\n        this.getRows = this.getRows.bind(this);\r\n        this.id=\"PotionTable\" + Math.random();\r\n    }\r\n\r\n    getRows  = function () {\r\n        var data = this.props.data;\r\n        if (this.props.filter) {\r\n            data = data.filter((e)=>this.props.filter(e));\r\n        }\r\n        return data;\r\n    }\r\n\r\n    getColumns  = function () {\r\n        var i = 1;\r\n        return [\r\n            {\r\n                id: i++,\r\n                field: 'displaytype',\r\n                label: '',\r\n                pinned: true,\r\n                cellRenderer: IconCell,\r\n                sort:sortDT,\r\n                width: '50px',\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'name',\r\n                label: 'Name',\r\n                pinned: true,\r\n                cellRenderer: NameCell,\r\n                width: '290px',\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'categoryLink',\r\n                label: 'Category',\r\n                getValue: ({value, column}) => value.name,\r\n                width: '140px',\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'useEffect',\r\n                label: 'HP',\r\n                getValue: ({value, column}) => ((value?.increaseCurrentHP?.min||0) + (value?.increaseCurrentHP?.max||0))/2,\r\n                sort:sortInt,\r\n                width: '130px',\r\n                cellRenderer: RangeCell(\"useEffect\", \"increaseCurrentHP\"),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'conditionsCount',\r\n                label: 'Conditions',\r\n                sort:sortInt,\r\n                width: '250px',\r\n                cellRenderer: ConditionsCell,\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'baseMarketCost',\r\n                label: 'Price',\r\n                getValue: ({value, column}) => value ? value + \" gold\" : \"\",\r\n                sort:sortInt,\r\n                width: '100px',\r\n                visible: true,\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'equipEffect',\r\n                label: 'Other',\r\n                getValue: ({value, column}) => value,\r\n                width: '100px',\r\n                sort:sortStr,\r\n                cellRenderer: OtherCell,\r\n                visible: false,\r\n            },\r\n        ]\r\n    }\r\n\r\n    componentDidMount() {\r\n        const top = document.getElementById(this.id).offsetTop;\r\n        this.setState({ top, height: 999999 });\r\n    }\r\n\r\n    render() {\r\n        GridTable.defaultProps.isPaginated = false;\r\n        GridTable.defaultProps.minColumnResizeWidth = 30;\r\n        GridTable.defaultProps.isVirtualScroll = false;\r\n        GridTable.defaultProps.showSearch = false;\r\n        GridTable.defaultProps.showColumnVisibilityManager = false;\r\n        this.rows = this.getRows();\r\n        const columns = this.getColumns()\r\n\r\n        return (<div id={this.id}>\r\n                    <TableAbsHeader columns={columns} size={this.state}/>\r\n                    <GridTable \r\n                        columns={columns} \r\n                        rows={this.rows} \r\n                        onLoad={hashLinkScroll}/>\r\n                </div>)\r\n    }\r\n}\r\n\r\n","import { Link } from 'react-router-dom';\r\n\r\nexport default function LiLink(prefix, next, path, label=next) {\r\n    const to = prefix+next;\r\n    const liClass = (path.toUpperCase()==to.toUpperCase())?\"selected\":\"\"; \r\n    return  <li className={liClass} key={next}><Link to={to.toLowerCase()}>{label.capitalize()}</Link></li>\r\n}","import React, { Component } from 'react';\r\nimport ItemsTable from './ItemsTable.jsx';\r\nimport PotionsTable from './PotionsTable.jsx';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport PropsRoute from '../PropsRoute';\r\nimport LiLink from '../LiLink'\r\nimport Home from '../Home';\r\n\r\nexport default class ItemsPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <ul className=\"hr\">\r\n                        {LiLink(\"/items/\", \"body\", this.props.location.pathname, 'Armor')}\r\n                        {LiLink(\"/items/\", \"weapon\", this.props.location.pathname)}\r\n                        {LiLink(\"/items/\", \"shield\", this.props.location.pathname)}\r\n                        {LiLink(\"/items/\", \"head\", this.props.location.pathname, 'Helm')}\r\n                        {LiLink(\"/items/\", \"hand\", this.props.location.pathname, 'Glove')}\r\n                        {LiLink(\"/items/\", \"feet\", this.props.location.pathname, 'Boot')}\r\n                        {LiLink(\"/items/\", \"leftring\", this.props.location.pathname, 'ring')}\r\n                        {LiLink(\"/items/\", \"neck\", this.props.location.pathname, 'Necklace')}\r\n                        {LiLink(\"/items/\", \"use\", this.props.location.pathname, 'Usable')}\r\n                        {LiLink(\"/items/\", \"other\", this.props.location.pathname)}\r\n                </ul>\r\n                <Switch>\r\n                    {ItemRoute(\"body\", this.props.data)}\r\n                    {ItemRoute(\"weapon\", this.props.data)}\r\n                    {ItemRoute(\"shield\", this.props.data)}\r\n                    {ItemRoute(\"head\", this.props.data)}\r\n                    {ItemRoute(\"hand\", this.props.data)}\r\n                    {ItemRoute(\"feet\", this.props.data)}\r\n                    {ItemRoute(\"neck\", this.props.data)}\r\n                    {ItemRoute(\"leftring\", this.props.data)}\r\n                    <PropsRoute  path='/items/use' component={PotionsTable}\r\n                        data = { this.props.data } title=\"Usable\"\r\n                        filter = {(e)=>(e.categoryLink.actionType==\"use\")}\r\n                    />\r\n                    <PropsRoute path='/items/other'  component={ItemsTable}\r\n                        data = { this.props.data } title=\"Other\"\r\n                        filter = {(e)=>(!e.categoryLink?.actionType)}\r\n                    />\r\n                </Switch>\r\n            </div> \r\n               );\r\n    }\r\n}\r\n\r\nconst ItemRoute = (slot, data) => {\r\n    const path = \"/items/\"+slot;\r\n    return <PropsRoute  path={path} component={ItemsTable}\r\n                        data = {data} title= {slot}\r\n                        filter = {(e)=>(e.categoryLink.inventorySlot == slot)}\r\n                    />\r\n}","import React, { Component } from 'react';\r\nimport Icon from '../Icon';\r\nimport { HashLink as Link } from 'react-router-hash-link';\r\n\r\nexport default class Table extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.getHeader = this.getHeader.bind(this);\r\n        this.getRowsData = this.getRowsData.bind(this);\r\n        this.getKeys = this.getKeys.bind(this);\r\n    }\r\n    getKeys = function () {\r\n        return [\r\n            [\"\", (o)=> {return <Icon data={o}/>;}],\r\n            [\"Name\", (o)=>{return RenderHref(o)}, { textAlign: 'left'} ],\r\n            [\"Type\",(o)=>o.type],\r\n            [\"Aim\",(o)=>o.aim],\r\n            [\"Chance\",(o)=>{return o.chance?(o.chance + \"%\"):\"\"}],\r\n            [\"Magnitude\",(o)=>{return o.magnitude?(o.magnitude + \"x\"):\"clears\"}],\r\n            [\"Duration\",(o)=>{return o.duration?(o.duration + \" rounds\"):\"\"}],\r\n        ];\r\n    }\r\n\r\n    getHeader = function () {\r\n        var keys = this.getKeys();\r\n        return keys.map((key, index) => {\r\n            var style = (key.length>=2)?key[2]:{};\r\n            return  <th style={style} key = {key[0]} > {key[0]} </th>\r\n        })\r\n    }\r\n\r\n    getRowsData = function () {\r\n        var items = this.props.data;\r\n        if (!items) return \"\";\r\n        if (this.props.filter && this.props.filter.length>0) {\r\n            items = items.filter((item)=>this.props.filter.indexOf(item.category) > -1);\r\n        }\r\n        var keys = this.getKeys();\r\n        return items.map((row, index)=>{\r\n            return <tr key={index}><RenderRow key={index} data={row} keys={keys}/></tr>\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <table style={{width: 700}} >\r\n                <thead style={{display: 'none'}}><tr>{this.getHeader()}</tr></thead>\r\n                <tbody>{this.getRowsData()}</tbody>\r\n            </table>\r\n        );\r\n    }\r\n}\r\nconst RenderRow = (props) => {\r\n    return props.keys.map((key, index) => {\r\n        var style = (key.length>=2)?key[2]:{};\r\n        return <td style={style} key ={key[0]}>{key[1](props.data)}</td>\r\n    })\r\n}\r\nconst RenderHref = (o) => {\r\n    const href = o.rootLink + o.id;\r\n    return <Link to={href}>{o.name}</Link>\r\n\r\n}","import React from 'react';\r\nimport LinksTable from './LinksTable';\r\n\r\nconst styles = {\r\n    text: {\r\n        marginLeft: 10,\r\n        whiteSpace: 'nowrap',\r\n        overflow: 'hidden',\r\n        textOverflow: 'ellipsis'\r\n    },\r\n    table: {\r\n        paddingTop: 10,\r\n        marginLeft: -10,\r\n    },\r\n}\r\n\r\nexport default class ExpandingName extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            expanded: window.location.href.endsWith(this.props.data.id.toLowerCase()),\r\n        }\r\n        this.toggleExpand = this.toggleExpand.bind(this);\r\n    }\r\n    toggleExpand() {\r\n        this.setState({ expanded: !this.state.expanded, });\r\n    }\r\n\r\n    render() {\r\n        const data = this.props.data;\r\n        const value = this.props.value;\r\n        const links = data.links;\r\n        if (!links||!links.length) {\r\n            return (\r\n              <React.Fragment>\r\n                    <div style={{ display:'flex'}} >\r\n                        <div style={{ width: 19}} />\r\n                        <span style={styles.text}>{value}</span>\r\n                    </div>\r\n              </React.Fragment> );\r\n        }\r\n        return (\r\n              <React.Fragment>\r\n                    <div style={{ display:'flex'}} onClick={this.toggleExpand}>\r\n                            <img src=\"../image/sort_desc.png\" />\r\n                            <span style={styles.text}>{value}</span>\r\n                    </div>\r\n                    <div style={styles.table}>\r\n                        {(this.state.expanded) && <LinksTable data={links}/>}\r\n                    </div>\r\n\r\n             </React.Fragment> );\r\n    }\r\n}\r\n","import React from 'react';\r\nimport ExpandingName from './ExpandingName';\r\n\r\nconst styles = {\r\n    root: {\r\n        position: 'relative',\r\n        padding: '10px 5px 0px',\r\n        display: 'block',\r\n        width: '100%',\r\n        height: '100%',\r\n        alignItems: 'center'\r\n    },\r\n}\r\n\r\nconst IconCell = ({tableManager, value, onChange, isEdit, data, column, rowIndex, searchText, isFirstEditableCell}) => {\r\n    return (\r\n        <div style={styles.root}>\r\n            <ExpandingName data={data} value={value}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default IconCell;","import React from 'react';\r\n\r\nconst styles = {\r\n    root: {\r\n        position: 'relative',\r\n        padding: '0 20px',\r\n        display: 'flex',\r\n        width: '100%',\r\n        alignItems: 'center'\r\n    },\r\n    img: {\r\n        width: 32,\r\n        height:32,\r\n    },\r\n}\r\n\r\n\r\nconst Cell = ({tableManager, value, onChange, isEdit, data, column, rowIndex, searchText, isFirstEditableCell}) => {\r\n    return (\r\n        <div style={styles.root}>\r\n            {value && <img style={styles.img} src=\"/image/yes.png\"/>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Cell;","import React, { Component } from 'react';\r\nimport GridTable from '@nadavshaar/react-grid-table';\r\nimport '../../@nadavshaar/react-grid-table/dist/index.css';\r\nimport IconCell from \"../cells/IconCell\";\r\nimport NameCell from \"./NameCell\";\r\nimport TableAbsHeader from \"../TableAbsHeader\";\r\nimport JsonCell from \"../cells/JsonCell\";\r\nimport OtherCell from \"../cells/OtherCell\";\r\nimport RangeCell from \"../cells/RangeCell\";\r\nimport BooleanCell from \"../cells/BooleanCell\";\r\n\r\nconst sortStr = ({a, b, isAscending}) => {\r\n    let aa = a||\"\";\r\n    let bb = b||\"\";\r\n    if(aa > bb) return isAscending ? 1 : -1; \r\n    if(aa < bb) return isAscending ? -1 : 1; \r\n    return 0; \r\n}\r\nconst sortInt = ({a, b, isAscending}) => {\r\n    let aa = a||0;\r\n    let bb = b||0;\r\n    if(aa > bb) return isAscending ? 1 : -1; \r\n    if(aa < bb) return isAscending ? -1 : 1; \r\n    return 0; \r\n}\r\n\r\nconst aInt = ({a, b, isAscending}) => {\r\n    let aa = a||0;\r\n    let bb = b||0;\r\n    if(aa > bb) return isAscending ? 1 : -1; \r\n    if(aa < bb) return isAscending ? -1 : 1; \r\n    return 0; \r\n}\r\n\r\nconst hashLinkScroll = () => {\r\n  const { hash } = window.location;\r\n  if (hash !== '') {\r\n    setTimeout(() => {\r\n      const id = hash.replace('#', '');\r\n      const element = document.getElementById(id);\r\n      if (element) element.scrollIntoView();\r\n    }, 100);\r\n  }\r\n}\r\n\r\nexport default class Table extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state={};\r\n\r\n        this.getColumns = this.getColumns.bind(this);\r\n        this.getRows = this.getRows.bind(this);\r\n\r\n        this.id=\"CondinionTable\"+Math.random();\r\n    }\r\n\r\n    getRows  = function () {\r\n        var items = this.props.data;\r\n        if (this.props.filter) {\r\n            items = items.filter((item)=>this.props.filter.indexOf(item.category) > -1);\r\n        }\r\n\r\n        return items;\r\n    }\r\n    isEmptyColumn = function (f) {\r\n        return !!this.rows.find((e)=>f(e));\r\n    }\r\n    getColumns  = function () {\r\n        var i = 1;\r\n        return [\r\n            {\r\n                id: i++,\r\n                field: 'displaytype',\r\n                label: '',\r\n                pinned: true,\r\n                cellRenderer: IconCell,\r\n                width: '50px',\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'name',\r\n                label: 'Name',\r\n                pinned: true,\r\n                cellRenderer: NameCell,\r\n                width: '300px',\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'category',\r\n                label: 'Category',\r\n                width: '120px',\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'isStacking',\r\n                label: 'Stack',\r\n                cellRenderer: BooleanCell,\r\n                sort:sortInt,\r\n                width: '80px',\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'abilityEffect',\r\n                label: 'HP',\r\n                getValue: ({value, column}) => value?.increaseMaxHP,\r\n                sort:sortInt,\r\n                width: '62px',\r\n                visible: this.isEmptyColumn((item)=>item.abilityEffect?.increaseMaxHP),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'abilityEffect',\r\n                label: 'AC',\r\n                getValue: ({value, column}) => value?.increaseAttackChance,\r\n                sort:sortInt,\r\n                width: '62px',\r\n                visible: this.isEmptyColumn((item)=>item.abilityEffect?.increaseAttackChance),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'abilityEffect',\r\n                label: 'Dmg',\r\n                getValue: ({value, column}) => ((value?.increaseAttackDamage?.min||0)+(value?.increaseAttackDamage?.max||0))/2,\r\n                cellRenderer: RangeCell(\"abilityEffect\",\"increaseAttackDamage\"),\r\n                width: '78px',\r\n                visible: this.isEmptyColumn((item)=>item.abilityEffect?.increaseAttackDamage),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'abilityEffect',\r\n                label: 'Crit',\r\n                getValue: ({value, column}) => value?.increaseCriticalSkill,\r\n                sort:sortInt,\r\n                width: '70px',\r\n                visible: this.isEmptyColumn((item)=>item.abilityEffect?.increaseCriticalSkill),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'abilityEffect',\r\n                label: 'BC',\r\n                getValue: ({value, column}) => value?.increaseBlockChance,\r\n                sort:sortInt,\r\n                width: '60px',\r\n                visible: this.isEmptyColumn((item)=>item.abilityEffect?.increaseBlockChance),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'abilityEffect',\r\n                label: 'Resist',\r\n                getValue: ({value, column}) => value?.increaseDamageResistance,\r\n                sort:sortInt,\r\n                width: '82px',\r\n                visible: this.isEmptyColumn((item)=>item.abilityEffect?.increaseDamageResistance),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'abilityEffect',\r\n                label: 'AP',\r\n                getValue: ({value, column}) => value?.increaseMaxAP,\r\n                sort:sortInt,\r\n                width: '60px',\r\n                visible: this.isEmptyColumn((item)=>item.abilityEffect?.increaseMaxAP),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'abilityEffect',\r\n                label: 'Atk cost',\r\n                getValue: ({value, column}) => value?.increaseAttackCost,\r\n                sort:sortInt,\r\n                width: '100px',\r\n                visible: this.isEmptyColumn((item)=>item.abilityEffect?.increaseAttackCost),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'abilityEffect',\r\n                label: 'Move cost',\r\n                getValue: ({value, column}) => value?.increaseMoveCost,\r\n                sort:sortInt,\r\n                width: '115px',\r\n                visible: this.isEmptyColumn((item)=>item.abilityEffect?.increaseMoveCost),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'abilityEffect',\r\n                label: 'Use cost',\r\n                getValue: ({value, column}) => value?.increaseUseItemCost,\r\n                sort:sortInt,\r\n                width: '105px',\r\n                visible: this.isEmptyColumn((item)=>item.abilityEffect?.increaseUseItemCost),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'abilityEffect',\r\n                label: 'Equip cost',\r\n                getValue: ({value, column}) => value?.increaseReequipCost,\r\n                sort:sortInt,\r\n                width: '115px',\r\n                visible: this.isEmptyColumn((item)=>item.abilityEffect?.increaseReequipCost),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'roundEffect',\r\n                label: 'Round HP',\r\n                getValue: ({value, column}) => ((value?.increaseCurrentHP?.min||0)+(value?.increaseCurrentHP?.max||0))/2,\r\n                cellRenderer: RangeCell(\"roundEffect\",\"increaseCurrentHP\"),\r\n                sort:sortInt,\r\n                width: '115px',\r\n                visible: this.isEmptyColumn((item)=>item.roundEffect?.increaseCurrentHP),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'roundEffect',\r\n                label: 'Round AP',\r\n                getValue: ({value, column}) => ((value?.increaseCurrentAP?.min||0)+(value?.increaseCurrentAP?.max||0))/2,\r\n                cellRenderer: RangeCell(\"roundEffect\",\"increaseCurrentAP\"),\r\n                sort:sortInt,\r\n                width: '115px',\r\n                visible: this.isEmptyColumn((item)=>item.roundEffect?.increaseCurrentAP),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'abilityEffect',\r\n                label: 'abilityEffect',\r\n                getValue: ({value, column}) => JSON.stringify(value),\r\n                cellRenderer: OtherCell,\r\n                width: '400px',\r\n                visible: false,\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'fullRoundEffect',\r\n                label: 'Full Round HP',\r\n                getValue: ({value, column}) => ((value?.increaseCurrentHP?.min||0)+(value?.increaseCurrentHP?.max||0))/2,\r\n                cellRenderer: RangeCell(\"fullRoundEffect\",\"increaseCurrentHP\"),\r\n                sort:sortInt,\r\n                width: '115px',\r\n                visible: this.isEmptyColumn((item)=>item.fullRoundEffect?.increaseCurrentHP),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'roundEffect',\r\n                label: 'roundEffect',\r\n                getValue: ({value, column}) => JSON.stringify(value),\r\n                cellRenderer: OtherCell,\r\n                width: '400px',\r\n                visible: false,\r\n            },\r\n\r\n        ]\r\n    }\r\n\r\n    componentDidMount() {\r\n        const height = document.getElementById(this.id).clientHeight;\r\n        const top = document.getElementById(this.id).offsetTop;\r\n        this.setState({ top, height });\r\n    }\r\n\r\n    render() {\r\n        GridTable.defaultProps.isPaginated = false;\r\n        GridTable.defaultProps.minColumnResizeWidth = 30;\r\n        GridTable.defaultProps.isVirtualScroll = false;\r\n        GridTable.defaultProps.showSearch = false;\r\n        GridTable.defaultProps.showColumnVisibilityManager = false;\r\n\r\n        this.rows = this.getRows();\r\n        const columns = this.getColumns()\r\n\r\n        return (<div id={this.id}>\r\n                    <TableAbsHeader columns={columns} size={this.state}/>\r\n                    <GridTable \r\n                        columns={columns} \r\n                        rows={this.rows} \r\n                        onLoad={hashLinkScroll} \r\n                        key={this.props.title}/>\r\n                </div>)\r\n\r\n    }\r\n}\r\n\r\n","import React, { Component } from 'react';\r\nimport ConditionsTable from './ConditionsTable';\r\n\r\nexport default class ItemsPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        return ( \r\n            <div>\r\n                <h2>Positive</h2>\r\n                <ConditionsTable data = { this.props.data.filter((e)=>e.isPositive)} />\r\n                <h2>Negative</h2>\r\n                <ConditionsTable data = { this.props.data.filter((e)=>!e.isPositive)} />\r\n            </div> \r\n        );\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { HashLink as Link } from 'react-router-hash-link';\r\n\r\n\r\nconst styles = {\r\n    root: {\r\n        width: 1000,\r\n    },\r\n    img: {\r\n        width: 32,\r\n        height:32,\r\n        marginTop: -5,\r\n        marginRight: 5,\r\n    },\r\n    link: {\r\n        color: 'white',\r\n        textTransform: 'capitalize',\r\n        float:'left',\r\n        display: 'flex',\r\n        margin: 10,\r\n    }\r\n}\r\n\r\nexport default class Table extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.getRowsData = this.getRowsData.bind(this);\r\n    }\r\n\r\n    getRowsData = function (data) {\r\n        if (!data) return \"\";\r\n        const maps = data?.flatMap((e)=>e.maps)?.filter(unique);\r\n\r\n        return maps?.map((row, index)=>{\r\n            return <Link key={index} to={row.rootLink + row.name + \"#\" + data[0].key} style={styles.link}>\r\n                        <img style={styles.img} src=\"/image/ui_icon_map.png\"  />{row.name}\r\n                   </Link>\r\n        })\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div style={styles.root}>{this.getRowsData(this.props.data)}</div>\r\n        );\r\n    }\r\n}\r\nfunction unique(item, pos, self) {\r\n    return self.indexOf(item) == pos;\r\n}","import React, { Component } from 'react';\r\nimport Icon from '../Icon';\r\nimport { HashLink as Link } from 'react-router-hash-link';\r\n\r\nexport default class Table extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.getHeader = this.getHeader.bind(this);\r\n        this.getRowsData = this.getRowsData.bind(this);\r\n        this.getKeys = this.getKeys.bind(this);\r\n    }\r\n    getKeys = function () {\r\n        return [\r\n            [\"\", (o)=> {return <Icon data={o.link} />;}],\r\n            [\"Name\", (o)=>{return RenderHref(o.link)}, { textAlign: 'left'} ],\r\n            [\"Quantity\",(o)=>{return Range(o.quantity)}],\r\n            [\"Chance\",(o)=>{return o.chance+\"%\"}],\r\n        ];\r\n    }\r\n\r\n    getHeader = function () {\r\n        var keys = this.getKeys();\r\n        return keys.map((key, index) => {\r\n            var style = (key.length>=2)?key[2]:{};\r\n            return  <th style={style} key = {key[0]} > {key[0]} </th>\r\n        })\r\n    }\r\n\r\n    getRowsData = function (items) {\r\n        if (this.props.filter && this.props.filter.length>0) {\r\n            items = items.filter((item)=>this.props.filter.indexOf(item.category) > -1);\r\n        }\r\n        var keys = this.getKeys();\r\n        return items.map((row, index)=>{\r\n            return <tr key={index}><RenderRow key={index} data={row} keys={keys}/></tr>\r\n        })\r\n    }\r\n\r\n    render() {\r\n        var items = this.props.data;\r\n        if (!items?.length) return \"\";\r\n        return (\r\n            <table style={{width: 400}} >\r\n                <thead style={{display: 'none'}}><tr>{this.getHeader()}</tr></thead>\r\n                <tbody>{this.getRowsData(items)}</tbody>\r\n            </table>\r\n        );\r\n    }\r\n}\r\nconst RenderRow = (props) => {\r\n    return props.keys.map((key, index) => {\r\n        var style = (key.length>=2)?key[2]:{};\r\n        return <td style={style} key ={key[0]}>{key[1](props.data)}</td>\r\n    })\r\n}\r\nconst RenderHref = (o) => {\r\n    const href = o.rootLink + o.id;\r\n    return <Link to={href}>{o.name}</Link>\r\n}\r\nconst Range = (o) => {\r\n    if (o.max == o.min) return o.max;\r\n    return o.min + \"-\" + o.max;\r\n}","import React from 'react';\r\nimport debug from '../../utils/debug';\r\nimport MapsList from '../MapsList';\r\nimport LinksTable from './LinksTable';\r\n\r\nconst styles = {\r\n    text: {\r\n        marginLeft: 10,\r\n        whiteSpace: 'nowrap',\r\n        overflow: 'hidden',\r\n        textOverflow: 'ellipsis'\r\n    },\r\n    table: {\r\n        paddingTop: 10,\r\n        marginLeft: -10,\r\n    },\r\n}\r\n\r\nexport default class ExpandingName extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            expanded: window.location.href.endsWith(this.props.data.id.toLowerCase()),\r\n        }\r\n        this.toggleExpand = this.toggleExpand.bind(this);\r\n    }\r\n    toggleExpand() {\r\n        this.setState({ expanded: !this.state.expanded, });\r\n    }\r\n\r\n    render() {\r\n        const data = this.props.data;\r\n\r\n        const value = this.props.value;\r\n        const links = data.droplistLink?.items;\r\n        const spawnGroupLinks = data.spawnGroupLinks;\r\n        if (!links && !spawnGroupLinks) {\r\n            return (\r\n              <React.Fragment>\r\n                    <div style={{ display:'flex'}} >\r\n                        <div style={{ width: 19}} />\r\n                        <span style={styles.text}>{value}</span>\r\n                    </div>\r\n              </React.Fragment> );\r\n        }\r\n        return (\r\n              <React.Fragment>\r\n                    <div style={{ display:'flex'}} onClick={this.toggleExpand}>\r\n                            <img src=\"../image/sort_desc.png\" />\r\n                            <span style={styles.text}>{value}</span>\r\n                    </div>\r\n                    <div style={styles.table}>\r\n                        {(this.state.expanded) && <LinksTable data={links}/>}\r\n                        {(this.state.expanded) && <MapsList data={spawnGroupLinks}/>}\r\n                    </div>\r\n\r\n              </React.Fragment> );\r\n    }\r\n}\r\n","import React from 'react';\r\nimport ExpandingName from './ExpandingName';\r\n\r\nconst styles = {\r\n    root: {\r\n        position: 'relative',\r\n        padding: '10px',\r\n        display: 'block',\r\n        width: '100%',\r\n        height: '100%',\r\n        alignItems: 'center'\r\n    },\r\n}\r\n\r\nconst IconCell = ({tableManager, value, onChange, isEdit, data, column, rowIndex, searchText, isFirstEditableCell}) => {\r\n    return (\r\n        <div style={styles.root}>\r\n            <ExpandingName data={data} value={value}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default IconCell;","import React, { Component } from 'react';\r\nimport GridTable from '@nadavshaar/react-grid-table';\r\nimport '../../@nadavshaar/react-grid-table/dist/index.css';\r\nimport debug from '../../utils/debug'\r\nimport IconCell from \"../cells/IconCell\"\r\nimport { getDimentionById } from \"../Icon\"\r\nimport ConditionsCell from \"../cells/ConditionsCell\"\r\nimport OtherCell from \"../cells/OtherCell\"\r\nimport RangeCell from \"../cells/RangeCell\"\r\nimport NameCell from \"./NameCell\"\r\nimport TableAbsHeader from \"../TableAbsHeader\";\r\n\r\nconst sortStr = ({a, b, isAscending}) => {\r\n    let aa = a||\"\";\r\n    let bb = b||\"\";\r\n    if(aa > bb) return isAscending ? 1 : -1; \r\n    if(aa < bb) return isAscending ? -1 : 1; \r\n    return 0; \r\n}\r\nconst sortInt = ({a, b, isAscending}) => {\r\n    let aa = a||0;\r\n    let bb = b||0;\r\n    if(aa > bb) return isAscending ? 1 : -1; \r\n    if(aa < bb) return isAscending ? -1 : 1; \r\n    return 0; \r\n}\r\n\r\nconst hashLinkScroll = () => {\r\n  const { hash } = window.location;\r\n  if (hash !== '') {\r\n    setTimeout(() => {\r\n      const id = hash.replace('#', '');\r\n      const element = document.getElementById(id);\r\n      if (element) element.scrollIntoView();\r\n    }, 100);\r\n  }\r\n}\r\n\r\nexport default class Table extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={};\r\n\r\n        this.getColumns = this.getColumns.bind(this);\r\n        this.getRows = this.getRows.bind(this);\r\n        this.id=\"MonsterTable\" + Math.random();\r\n    }\r\n\r\n    getRows  = function () {\r\n        var data = this.props.data;\r\n\r\n        if (this.props.filter) {\r\n            data = data.filter((e)=>this.props.filter(e));\r\n        }\r\n        return data;\r\n    }\r\n\r\n    maxIconWidth = function () {\r\n        const width = this.rows.map((e) => getDimentionById(e.iconID).x).reduce((a, b) => Math.max(a, b), 32)+10;\r\n        return width+\"px\";\r\n    }\r\n\r\n    getColumns  = function () {\r\n        var i = 1;\r\n        return [\r\n            {\r\n                id: i++,\r\n                field: 'unique',\r\n                label: '',\r\n                pinned: true,\r\n                cellRenderer: IconCell,\r\n                sort:sortInt,\r\n                width: this.maxIconWidth(),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'name',\r\n                label: 'Name',\r\n                pinned: true,\r\n                cellRenderer: NameCell,\r\n                width: '300px',\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'maxHP',\r\n                label: 'HP',\r\n                sort:sortInt,\r\n                width: '50px',\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'attackChance',\r\n                label: 'AC',\r\n                sort:sortInt,\r\n                width: '50px',\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'attackDamage',\r\n                label: 'Dmg',\r\n                getValue: ({value, column}) => ((value?.min||0) + (value?.max||0))/2,\r\n                sort:sortInt,\r\n                cellRenderer: RangeCell(\"attackDamage\"),\r\n                width: '120px',\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'criticalSkill',\r\n                label: 'Crit',\r\n                sort:sortInt,\r\n                width: '60px',\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'criticalMultiplier',\r\n                label: 'Crit*',\r\n                sort:sortInt,\r\n                width: '55px',\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'blockChance',\r\n                label: 'BC',\r\n                sort:sortInt,\r\n                width: '50px',\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'damageResistance',\r\n                label: 'Res',\r\n                sort:sortInt,\r\n                width: '50px',\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'maxAP',\r\n                label: 'AP',\r\n                sort:sortInt,\r\n                width: '50px',\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'attackCost',\r\n                label: 'Atk Cost',\r\n                sort:sortInt,\r\n                width: '85px',\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'moveCost',\r\n                label: 'Move Cost',\r\n                sort:sortInt,\r\n                width: '100px',\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'exp',\r\n                label: 'XP',\r\n                sort:sortInt,\r\n                width: '75px',\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'conditionsCount',\r\n                label: 'Conditions',\r\n                sort:sortInt,\r\n                width: '130px',\r\n                cellRenderer: ConditionsCell,\r\n            },\r\n        ]\r\n    }\r\n\r\n    componentDidMount() {\r\n        const top = document.getElementById(this.id).offsetTop;\r\n        this.setState({ top, height: 999999 });\r\n    }\r\n\r\n    render() {\r\n\r\n        GridTable.defaultProps.isPaginated = false;\r\n        GridTable.defaultProps.minColumnResizeWidth = 30;\r\n        GridTable.defaultProps.isVirtualScroll = false;\r\n        GridTable.defaultProps.showSearch = false;\r\n        GridTable.defaultProps.showColumnVisibilityManager = false;\r\n        this.rows = this.getRows();\r\n        const columns = this.getColumns()\r\n\r\n        return (<div id={this.id}>\r\n                    <TableAbsHeader columns={columns} size={this.state}/>\r\n                    <GridTable \r\n                        columns={columns} \r\n                        rows={this.rows} \r\n                        onLoad={hashLinkScroll} \r\n                        key={this.props.title}/>\r\n                </div>)\r\n    }\r\n}\r\n\r\n","import React, { Component } from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport PropsRoute from '../PropsRoute';\r\nimport LiLink from '../LiLink'\r\nimport MonstersTable from './MonstersTable';\r\n\r\nexport default class MonstersPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <ul className=\"hr\">\r\n                        {LiLink(\"/monsters/\", \"animal\", this.props.location.pathname)}\r\n                        {LiLink(\"/monsters/\", \"insect\", this.props.location.pathname)}\r\n                        {LiLink(\"/monsters/\", \"reptile\", this.props.location.pathname)}\r\n                        {LiLink(\"/monsters/\", \"undead\", this.props.location.pathname)}\r\n                        {LiLink(\"/monsters/\", \"giant\", this.props.location.pathname)}\r\n                        {LiLink(\"/monsters/\", \"ghost\", this.props.location.pathname)}\r\n                        {LiLink(\"/monsters/\", \"construct\", this.props.location.pathname)}\r\n                        {LiLink(\"/monsters/\", \"humanoid\", this.props.location.pathname)}\r\n                        {LiLink(\"/monsters/\", \"demon\", this.props.location.pathname)}\r\n                        {LiLink(\"/monsters/\", \"other\", this.props.location.pathname)}\r\n                </ul>\r\n                <Switch>\r\n                    {ItemRoute(\"animal\", this.props.data)}\r\n                    {ItemRoute(\"humanoid\", this.props.data)}\r\n                    {ItemRoute(\"insect\", this.props.data)}\r\n                    {ItemRoute(\"undead\", this.props.data)}\r\n                    {ItemRoute(\"giant\", this.props.data)}\r\n                    {ItemRoute(\"reptile\", this.props.data)}\r\n                    {ItemRoute(\"construct\", this.props.data)}\r\n                    {ItemRoute(\"demon\", this.props.data)}\r\n                    {ItemRoute(\"ghost\", this.props.data)}\r\n                    <PropsRoute  path=\"/monsters/other\" component={MonstersTable}\r\n                        data = {this.props.data} title= \"Other\"\r\n                        filter = {(e)=>(e.rootLink=='/monsters/other#')}\r\n                    />\r\n                </Switch>\r\n                 </div> \r\n               );\r\n    }\r\n}\r\nconst ItemRoute = (c, data) => {\r\n    const path = \"/monsters/\"+c;\r\n    return <PropsRoute  path={path} component={MonstersTable}\r\n                        data = {data} title= {c}\r\n                        filter = {(e)=>(!!(e.attackChance||e.maxHP)&&e.monsterClass==c)}\r\n                    />\r\n}","import React, { Component } from 'react';\r\nimport Icon from '../Icon';\r\nimport { HashLink as Link } from 'react-router-hash-link';\r\n\r\nexport default class Table extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.getHeader = this.getHeader.bind(this);\r\n        this.getRowsData = this.getRowsData.bind(this);\r\n        this.getKeys = this.getKeys.bind(this);\r\n    }\r\n    getKeys = function () {\r\n        return [\r\n            [\"\", (o)=> {return <Icon data={o.link} />;}, { width: 40}],\r\n            [\"Name\", (o)=>{return RenderHref(o.link)}, { textAlign: 'left', width: 250} ],\r\n            [\"Quantity\",(o)=>{return Range(o.quantity)}, { width: 40}],\r\n            [\"Price\",(o)=>{return calculateCostWithMod(o.link, 0.15)+\" gold\"}, { textAlign: 'right'}],\r\n            [\"Buy\",(o)=>{return calculateCostWithMod(o.link, -0.15)+\" gold\"}, { textAlign: 'right'}],\r\n        ];\r\n    }\r\n\r\n    getHeader = function () {\r\n        var keys = this.getKeys();\r\n        return keys.map((key, index) => {\r\n            var style = (key.length>=2)?key[2]:{};\r\n            return  <th style={style} key = {key[0]} > {key[0]} </th>\r\n        })\r\n    }\r\n\r\n    getRowsData = function (items) {\r\n        if (this.props.filter && this.props.filter.length>0) {\r\n            items = items.filter((item)=>this.props.filter.indexOf(item.category) > -1);\r\n        }\r\n        var keys = this.getKeys();\r\n        return items.map((row, index)=>{\r\n            return <tr key={index}><RenderRow key={index} data={row} keys={keys}/></tr>\r\n        })\r\n    }\r\n\r\n    render() {\r\n        var data = this.props.data;\r\n        if (!data) return \"\";\r\n        return (\r\n            <table style={{width: 500}} >\r\n                <thead style={{display: 'none'}}><tr>{this.getHeader()}</tr></thead>\r\n                <tbody>{this.getRowsData(data)}</tbody>\r\n            </table>\r\n        );\r\n    }\r\n}\r\nconst RenderRow = (props) => {\r\n    return props.keys.map((key, index) => {\r\n        var style = (key.length>=2)?key[2]:{};\r\n        return <td style={style} key ={key[0]}>{key[1](props.data)}</td>\r\n    })\r\n}\r\nconst RenderHref = (o) => {\r\n    const href = o.rootLink + o.id;\r\n    return <Link to={href}>{o.name}</Link>\r\n}\r\nconst Range = (o) => {\r\n    if (o.max == o.min) return o.max;\r\n    return o.min + \"-\" + o.max;\r\n}\r\nconst calculateCostWithMod = (o, mod) => {\r\n    const cost = o.baseMarketCost;\r\n    return cost + Math.trunc(cost * mod);\r\n}","import React, { Component } from 'react';\r\nimport Icon from '../Icon';\r\nimport { HashLink as Link } from 'react-router-hash-link';\r\n\r\nexport default class Table extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.getHeader = this.getHeader.bind(this);\r\n        this.getRowsData = this.getRowsData.bind(this);\r\n        this.getKeys = this.getKeys.bind(this);\r\n    }\r\n    getKeys = function () {\r\n        return [\r\n            [\"\", (o)=> {return <Icon data={o.link} />;}, { width: 40}],\r\n            [\"Name\", (o)=>{return RenderHref(o.link)}, { textAlign: 'left', width: 250} ],\r\n            [\"Quantity\",(o)=>{return Range(o.quantity)}],\r\n            [\"By quest\", (o)=> \"give by quest\" ],\r\n            \r\n        ];\r\n    }\r\n\r\n    getHeader = function () {\r\n        var keys = this.getKeys();\r\n        return keys.map((key, index) => {\r\n            var style = (key.length>=2)?key[2]:{};\r\n            return  <th style={style} key = {key[0]} > {key[0]} </th>\r\n        })\r\n    }\r\n\r\n    getRowsData = function (items) {\r\n        if (this.props.filter && this.props.filter.length>0) {\r\n            items = items.filter((item)=>this.props.filter.indexOf(item.category) > -1);\r\n        }\r\n        var keys = this.getKeys();\r\n        return items.map((row, index)=>{\r\n            return <tr key={index}><RenderRow key={index} data={row} keys={keys}/></tr>\r\n        })\r\n    }\r\n\r\n    render() {\r\n        var data = this.props.data;\r\n        if (!data) return \"\";\r\n\r\n        return (\r\n            <table style={{width: 500}} >\r\n                <thead style={{display: 'none'}}><tr>{this.getHeader()}</tr></thead>\r\n                <tbody>{this.getRowsData(data)}</tbody>\r\n            </table>\r\n        );\r\n    }\r\n}\r\nconst RenderRow = (props) => {\r\n    return props.keys.map((key, index) => {\r\n        var style = (key.length>=2)?key[2]:{};\r\n        return <td style={style} key ={key[0]}>{key[1](props.data)}</td>\r\n    })\r\n}\r\nconst RenderHref = (o) => {\r\n    const href = o.rootLink + o.id;\r\n    return <Link to={href}>{o.name}</Link>\r\n}\r\nconst Range = (o) => {\r\n    if (o?.max == o?.min) return o?.max;\r\n    return o.min + \"-\" + o.max;\r\n}","import React, { Component } from 'react';\r\nimport Icon from '../Icon';\r\nimport { HashLink as Link } from 'react-router-hash-link';\r\n\r\nexport default class Table extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.getHeader = this.getHeader.bind(this);\r\n        this.getRowsData = this.getRowsData.bind(this);\r\n        this.getKeys = this.getKeys.bind(this);\r\n    }\r\n    getKeys = function () {\r\n        return [\r\n            [\"\", (o)=> IconCell(o), { width: 40} ],\r\n            [\"Name\", (o)=>{return o.name}, { textAlign: 'left'} ],\r\n        ];\r\n    }\r\n\r\n    getHeader = function () {\r\n        var keys = this.getKeys();\r\n        return keys.map((key, index) => {\r\n            var style = (key.length>=2)?key[2]:{};\r\n            return  <th style={style} key = {key[0]} > {key[0]} </th>\r\n        })\r\n    }\r\n\r\n    getRowsData = function (items) {\r\n        if (this.props.filter && this.props.filter.length>0) {\r\n            items = items.filter((item)=>this.props.filter.indexOf(item.category) > -1);\r\n        }\r\n        var keys = this.getKeys();\r\n        return items.map((row, index)=>{\r\n            return <tr key={index}><RenderRow key={index} data={row} keys={keys}/></tr>\r\n        })\r\n    }\r\n\r\n    render() {\r\n        var data = this.props.data;\r\n        if (!data) return \"\";\r\n\r\n        return (\r\n            <table style={{width: 500}} >\r\n                <thead style={{display: 'none'}}><tr>{this.getHeader()}</tr></thead>\r\n                <tbody>{this.getRowsData(data)}</tbody>\r\n            </table>\r\n        );\r\n    }\r\n}\r\nconst RenderRow = (props) => {\r\n    return props.keys.map((key, index) => {\r\n        var style = (key.length>=2)?key[2]:{};\r\n        return <td style={style} key ={key[0]}>{key[1](props.data)}</td>\r\n    })\r\n}\r\nconst RenderHref = (o) => {\r\n    const href = o.rootLink + o.id;\r\n    return <Link to={href}>{o.name}</Link>\r\n}\r\nconst Range = (o) => {\r\n    if (o.max == o.min) return o.max;\r\n    return o.min + \"-\" + o.max;\r\n}\r\nconst calculateCostWithMod = (o, mod) => {\r\n    const cost = o.baseMarketCost;\r\n    return cost + Math.trunc(cost * mod);\r\n}\r\nconst IconCell = (data) => {\r\n    const href = (data.rootLink) + data.id;\r\n    return <Link to={href}><img title={data.id} src=\"/image/ui_icon_quest.png\"/></Link>\r\n}","import React from 'react';\r\nimport debug from '../../utils/debug';\r\nimport MapsList from '../MapsList';\r\nimport SellItemsTable from './LinksTable';\r\nimport QuestItemsTable from './QuestItemsTable';\r\nimport QuestsTable from './QuestsTable';\r\nimport '../css/ExpandingName.css';\r\n\r\nconst fixedBaseHeight = 19.8;\r\nconst fixedUnitHeight = 29.8;\r\n\r\nconst unique = (item, pos, self) => self.indexOf(item) == pos;\r\n\r\nexport default class ExpandingName extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        \r\n        // use groupLinks to extract how many lines in location cells\r\n        // bind to variable fixedheight\r\n        let maps = this.props.data.spawnGroupLinks;\r\n        if (maps.length > 0) {\r\n            maps = maps[0].maps.filter(unique);\r\n        }\r\n        this.fixedHeight = fixedBaseHeight + (maps.length - 1) * fixedUnitHeight;\r\n\r\n\r\n        this.state = {\r\n            expanded: window.location.href.endsWith(this.props.data.id.toLowerCase()),\r\n        }\r\n        this.toggleExpand = this.toggleExpand.bind(this);\r\n    }\r\n    toggleExpand() {\r\n        this.setState({ expanded: !this.state.expanded, });\r\n    }\r\n\r\n    render() {\r\n        const data = this.props.data;\r\n\r\n        const value = this.props.value;\r\n        const links = data.droplistLink?.items;\r\n        const quests = data.questLinks;\r\n        const questItemsLinks = [];\r\n        data.questItemsLinks?.forEach((e)=>questItemsLinks.push(e));\r\n        data.questDropListLinks?.flatMap((e)=>e.link.items)?.forEach((e)=>questItemsLinks.push(e));\r\n\r\n        if (!links && !quests?.length && !questItemsLinks?.length) {\r\n            return (\r\n                <React.Fragment>\r\n                    <div style={{ display:'flex'}}>\r\n                        <div style={{ width: 19}} />\r\n                        <span className='expandedText'>{value}</span>\r\n                    </div>\r\n                </React.Fragment>\r\n            );\r\n        }\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"expandedLink\"\r\n                    style={{height: this.fixedHeight}}\r\n                    onClick={this.toggleExpand}\r\n                >\r\n                    <img src=\"../image/sort_desc.png\" />\r\n                    <span className='expandedText'>{value}</span>\r\n                </div>\r\n                <div className=\"expandedTable\">\r\n                    {(this.state.expanded) && <SellItemsTable data={links}/>}\r\n                    {(this.state.expanded) && <QuestItemsTable data={questItemsLinks}/>}\r\n                    {(this.state.expanded) && <QuestsTable data={quests}/>}\r\n                </div>\r\n\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n","import React from 'react';\r\nimport ExpandingName from './ExpandingName';\r\n\r\nconst styles = {\r\n    root: {\r\n        position: 'relative',\r\n        padding: '10px',\r\n        display: 'block',\r\n        width: '100%',\r\n        height: '100%',\r\n        alignItems: 'center'\r\n    },\r\n}\r\n\r\nconst IconCell = ({tableManager, value, onChange, isEdit, data, column, rowIndex, searchText, isFirstEditableCell}) => {\r\n    return (\r\n        <div style={styles.root}>\r\n            <ExpandingName data={data} value={value}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default IconCell;","import React, { Component } from 'react';\r\nimport { HashLink as Link } from 'react-router-hash-link';\r\n\r\nfunction unique(item, pos, self) {\r\n    return self.indexOf(item) == pos;\r\n}\r\n\r\nconst getRowsData = function (data) {\r\n        if (!data) return \"\";\r\n        const maps = data?.flatMap((e) => e.maps)?.filter(unique);\r\n        return maps?.map((row, index) => {\r\n            const href = row.rootLink + row.name + \"#\" + data[0].key;\r\n            return <Link key={index} to={href} className=\"npc-location-cell\">{row.name}</Link>;\r\n        })\r\n    }\r\n\r\nconst Cell = ({tableManager, value, onChange, isEdit, data, column, rowIndex, searchText, isFirstEditableCell}) => {\r\n    return <div>{getRowsData(data.spawnGroupLinks)}</div>;\r\n}\r\n\r\nexport default Cell;","import React, { Component } from 'react';\r\nimport GridTable from '@nadavshaar/react-grid-table';\r\nimport '../../@nadavshaar/react-grid-table/dist/index.css';\r\nimport IconCell from \"../cells/IconCell\"\r\nimport { getDimentionById } from \"../Icon\"\r\nimport NameCell from \"./NameCell\"\r\nimport LocationCell from \"./LocationCell\"\r\nimport TableAbsHeader from \"../TableAbsHeader\";\r\n\r\nconst sortLocations = ({a, b, isAscending}) => {\r\n    let aa = (a[0]?.maps&&a[0].maps[0]?.name)||\"\";\r\n    let bb = (b[0]?.maps&&b[0].maps[0]?.name)||\"\";\r\n    if(aa > bb) return isAscending ? 1 : -1; \r\n    if(aa < bb) return isAscending ? -1 : 1; \r\n    return 0; \r\n}\r\nconst sortInt = ({a, b, isAscending}) => {\r\n    let aa = a||0;\r\n    let bb = b||0;\r\n    if(aa > bb) return isAscending ? 1 : -1; \r\n    if(aa < bb) return isAscending ? -1 : 1; \r\n    return 0; \r\n}\r\n\r\nconst hashLinkScroll = () => {\r\n  const { hash } = window.location;\r\n  if (hash !== '') {\r\n    setTimeout(() => {\r\n      const id = hash.replace('#', '');\r\n      const element = document.getElementById(id);\r\n      if (element) element.scrollIntoView();\r\n    }, 100);\r\n  }\r\n}\r\n\r\nexport default class Table extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={};\r\n\r\n        this.getColumns = this.getColumns.bind(this);\r\n        this.getRows = this.getRows.bind(this);\r\n        this.id=\"NpcTable\" + Math.random();\r\n    }\r\n\r\n    getRows  = function () {\r\n        var data = this.props.data;\r\n        if (this.props.filter) {\r\n            data = data.filter((e)=>this.props.filter(e));\r\n        }\r\n        return data;\r\n    }\r\n\r\n    maxIconWidth = function () {\r\n        const width = this.rows.map((e) => getDimentionById(e.iconID).x).reduce((a, b) => Math.max(a, b), 32)+10;\r\n        return width+\"px\";\r\n    }\r\n\r\n    getColumns  = function () {\r\n        var i = 1;\r\n        return [\r\n            {\r\n                id: i++,\r\n                field: 'unique',\r\n                label: '',\r\n                pinned: true,\r\n                cellRenderer: IconCell,\r\n                sort:sortInt,\r\n                width: this.maxIconWidth(),\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'name',\r\n                label: 'Name',\r\n                pinned: true,\r\n                cellRenderer: NameCell,\r\n                width: '300px',\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'spawnGroupLinks',\r\n                label: 'Locations',\r\n                sort: sortLocations,\r\n                cellRenderer: LocationCell,\r\n                width: '300px',\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'questLinks',\r\n                label: 'questLinks',\r\n                getValue: ({value, column}) => value?.length,\r\n                width: '300px',\r\n            },\r\n         \r\n        ]\r\n    }\r\n\r\n    componentDidMount() {\r\n        const top = document.getElementById(this.id).offsetTop;\r\n        this.setState({ top, height: 999999 });\r\n    }\r\n\r\n    render() {\r\n        GridTable.defaultProps.isPaginated = false;\r\n        GridTable.defaultProps.minColumnResizeWidth = 30;\r\n        GridTable.defaultProps.isVirtualScroll = false;\r\n        GridTable.defaultProps.showSearch = false;\r\n        GridTable.defaultProps.showColumnVisibilityManager = false;\r\n        this.rows = this.getRows();\r\n        const columns = this.getColumns()\r\n\r\n        return (<div id={this.id}>\r\n                    <TableAbsHeader columns={columns} size={this.state}/>\r\n                    <GridTable \r\n                        columns={columns} \r\n                        rows={this.rows} \r\n                        onLoad={hashLinkScroll}/>\r\n                </div>)\r\n    }\r\n}\r\n\r\n","import React, { Component } from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport PropsRoute from '../PropsRoute';\r\nimport LiLink from '../LiLink';\r\nimport NpcTable from './NpcTable';\r\n\r\nexport default class MonstersPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <ul className=\"hr\">\r\n                    {LiLink(\"/npc/\", \"merchant\", this.props.location.pathname)}\r\n                    {LiLink(\"/npc/\", \"A-G\", this.props.location.pathname)}\r\n                    {LiLink(\"/npc/\", \"H-R\", this.props.location.pathname)}\r\n                    {LiLink(\"/npc/\", \"S-Z\", this.props.location.pathname)}\r\n                </ul>\r\n                <Switch>\r\n                    <PropsRoute  path=\"/npc/a-g\" component={NpcTable}\r\n                        data = {this.props.data} title= \"NPC\"\r\n                        filter = {(e)=>(e.rootLink=='/npc/a-g#')}\r\n                    />\r\n                    <PropsRoute  path=\"/npc/h-r\" component={NpcTable}\r\n                        data = {this.props.data} title= \"NPC\"\r\n                        filter = {(e)=>(e.rootLink=='/npc/h-r#')}\r\n                    />\r\n                    <PropsRoute  path=\"/npc/s-z\" component={NpcTable}\r\n                        data = {this.props.data} title= \"NPC\"\r\n                        filter = {(e)=>(e.rootLink=='/npc/s-z#')}\r\n                    />\r\n                    <PropsRoute  path=\"/npc/merchant\" component={NpcTable}\r\n                        data = {this.props.data} title= \"Merchant\"\r\n                        filter = {(e)=>(e.rootLink=='/npc/merchant#')}\r\n                    />\r\n                </Switch>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport Icon from '../Icon';\r\nimport { HashLink as Link } from 'react-router-hash-link';\r\n\r\nexport default class Table extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.getHeader = this.getHeader.bind(this);\r\n        this.getRowsData = this.getRowsData.bind(this);\r\n        this.getKeys = this.getKeys.bind(this);\r\n    }\r\n    getKeys = function () {\r\n        return [\r\n            [\"\", (o)=> {return <Icon data={o} />;}],\r\n            [\"Name\", (o)=>{return RenderHref(o)}, { textAlign: 'left'} ],\r\n        ];\r\n    }\r\n\r\n    getHeader = function () {\r\n        var keys = this.getKeys();\r\n        return keys.map((key, index) => {\r\n            var style = (key.length>=2)?key[2]:{};\r\n            return  <th style={style} key = {key[0]} > {key[0]} </th>\r\n        })\r\n    }\r\n\r\n    getRowsData = function () {\r\n        var data = this.props.data;\r\n        if (!data) return \"\";\r\n        if (this.props.filter && this.props.filter.length>0) {\r\n            data = data.filter((item)=>this.props.filter.indexOf(item.category) > -1);\r\n        }\r\n        var keys = this.getKeys();\r\n        return data.map((row, index)=>{\r\n            return <tr key={index}><RenderRow key={index} data={row} keys={keys}/></tr>\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <table style={{width: 400}} >\r\n                <thead style={{display: 'none'}}><tr>{this.getHeader()}</tr></thead>\r\n                <tbody>{this.getRowsData()}</tbody>\r\n            </table>\r\n        );\r\n    }\r\n}\r\nconst RenderRow = (props) => {\r\n    return props.keys.map((key, index) => {\r\n        var style = (key.length>=2)?key[2]:{};\r\n        return <td style={style} key ={key[0]}>{key[1](props.data)}</td>\r\n    })\r\n}\r\nconst RenderHref = (o) => {\r\n    const href = o.rootLink + o.id;\r\n    return <Link to={href}>{o.name}</Link>\r\n}\r\nconst Range = (o) => {\r\n    if (o.max == o.min) return o.max;\r\n    return o.min + \"-\" + o.max;\r\n}","import React, { Component } from 'react';\r\nimport Icon from '../Icon';\r\n\r\nconst styles = {\r\n    root: {\r\n        marginLeft: 50,\r\n        width: 1000,\r\n        textAlign: 'left',\r\n    },\r\n\r\n}\r\n\r\nexport default class Table extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    getRowsData = function () {\r\n        var data = this.props.data;\r\n        if (!data) return \"\";\r\n\r\n        return data.sort((a,b) => (a.progress-b.progress)).map((row, index) => {\r\n            const className = (!!row.finishesQuest)?\"end\":(!!row.rewardExperience)?\"exp\":undefined;\r\n            return <li className={className} key={index}>\r\n                        {row.logText} \r\n                        {!!row.rewardExperience&&<b> ({row.rewardExperience}XP)</b>} \r\n                        {!!row.finishesQuest&&<b>[End of quest]</b>} \r\n                   </li>\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return <ul style={styles.root}>{this.getRowsData()}</ul>;\r\n    }\r\n}\r\n","import React from 'react';\r\nimport LinksTable from './LinksTable';\r\nimport StagesList from './StagesList';\r\n\r\nconst styles = {\r\n    text: {\r\n        marginLeft: 10,\r\n        whiteSpace: 'nowrap',\r\n        overflow: 'hidden',\r\n        textOverflow: 'ellipsis'\r\n    },\r\n    table: {\r\n        paddingTop: 10,\r\n        marginLeft: -10,\r\n    },\r\n}\r\n\r\nexport default class ExpandingName extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            expanded: window.location.href.endsWith(this.props.data.id.toLowerCase()),\r\n        }\r\n        this.toggleExpand = this.toggleExpand.bind(this);\r\n    }\r\n    toggleExpand() {\r\n        this.setState({ expanded: !this.state.expanded, });\r\n    }\r\n\r\n    render() {\r\n        const data = this.props.data;\r\n        const value = this.props.value;\r\n        \r\n        const stages = data.stages;\r\n        const links = data.links;\r\n\r\n        if (!links && !stages) {\r\n            return (\r\n              <React.Fragment>\r\n                    <div style={{ display:'flex'}} >\r\n                        <div style={{ width: 19}} />\r\n                        <span style={styles.text}>{value}</span>\r\n                    </div>\r\n              </React.Fragment> );\r\n        }\r\n        return (\r\n              <React.Fragment>\r\n                    <div style={{ display:'flex'}} onClick={this.toggleExpand}>\r\n                            <img src=\"../image/sort_desc.png\" />\r\n                            <span style={styles.text}>{value}</span>\r\n                    </div>\r\n                    <div style={styles.table}>\r\n                        {(this.state.expanded) && <StagesList data={stages}/>}\r\n                        {(this.state.expanded) && <LinksTable data={links}/>}\r\n                    </div>\r\n\r\n              </React.Fragment> );\r\n\r\n    }\r\n}\r\n\r\nconst getEnemyList = (link) => {\r\n    var result = [];\r\n    link.droplist?.links?.forEach((monster) => {\r\n        result.push({\r\n            monster,\r\n            ...link\r\n        });\r\n    })\r\n\r\n    return result;\r\n}\r\n","import React from 'react';\r\nimport ExpandingName from './ExpandingName';\r\n\r\nconst styles = {\r\n    root: {\r\n        position: 'relative',\r\n        padding: '10px',\r\n        display: 'block',\r\n        width: '100%',\r\n        height: '100%',\r\n        alignItems: 'center'\r\n    },\r\n}\r\n\r\nconst IconCell = ({tableManager, value, onChange, isEdit, data, column, rowIndex, searchText, isFirstEditableCell}) => {\r\n    return (\r\n        <div style={styles.root}>\r\n            <ExpandingName data={data} value={value}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default IconCell;","import React, { Component } from 'react';\r\nimport GridTable from '@nadavshaar/react-grid-table';\r\nimport '../../@nadavshaar/react-grid-table/dist/index.css';\r\nimport NameCell from \"./NameCell\";\r\nimport TableAbsHeader from \"../TableAbsHeader\";\r\nimport { HashLink as Link } from 'react-router-hash-link';\r\n\r\nconst sortStr = ({a, b, isAscending}) => {\r\n    let aa = a||\"\";\r\n    let bb = b||\"\";\r\n    if(aa > bb) return isAscending ? 1 : -1; \r\n    if(aa < bb) return isAscending ? -1 : 1; \r\n    return 0; \r\n}\r\nconst sortInt = ({a, b, isAscending}) => {\r\n    let aa = a||0;\r\n    let bb = b||0;\r\n    if(aa > bb) return isAscending ? 1 : -1; \r\n    if(aa < bb) return isAscending ? -1 : 1; \r\n    return 0; \r\n}\r\nconst sortDT = ({a, b, isAscending}) => {\r\n    const list = [\"ordinary\",\"quest\",\"rare\",\"extraordinary\",\"legendary\",\"\"];\r\n    let aa = list.indexOf(a);\r\n    let bb = list.indexOf(b);\r\n    if(aa > bb) return isAscending ? 1 : -1; \r\n    if(aa < bb) return isAscending ? -1 : 1; \r\n    return 0; \r\n}\r\nconst aInt = ({a, b, isAscending}) => {\r\n    let aa = a||0;\r\n    let bb = b||0;\r\n    if(aa > bb) return isAscending ? 1 : -1; \r\n    if(aa < bb) return isAscending ? -1 : 1; \r\n    return 0; \r\n}\r\n\r\nconst hashLinkScroll = () => {\r\n  const { hash } = window.location;\r\n  if (hash !== '') {\r\n    setTimeout(() => {\r\n      const id = hash.replace('#', '');\r\n      const element = document.getElementById(id);\r\n      if (element) element.scrollIntoView();\r\n    }, 100);\r\n  }\r\n}\r\n\r\nexport default class Table extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={};\r\n\r\n        this.getColumns = this.getColumns.bind(this);\r\n        this.getRows = this.getRows.bind(this);\r\n        this.id=\"PotionTable\" + Math.random();\r\n    }\r\n\r\n    getRows  = function () {\r\n        var data = this.props.data;\r\n        if (this.props.filter) {\r\n            data = data.filter((e)=>this.props.filter(e));\r\n        }\r\n        return data;\r\n    }\r\n\r\n    getColumns  = function () {\r\n        var i = 1;\r\n        return [\r\n            {\r\n                id: i++,\r\n                field: 'id',\r\n                label: '',\r\n                pinned: true,\r\n                cellRenderer: IconCell,\r\n                sort:sortDT,\r\n                width: '50px',\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'name',\r\n                label: 'Name',\r\n                pinned: true,\r\n                cellRenderer: NameCell,\r\n                width: '300px',\r\n            },\r\n            {\r\n                id: i++,\r\n                field: 'stages',\r\n                label: 'Text',\r\n                width: '800px',\r\n                getValue: ({value, column}) => value[0]?.logText,\r\n                cellRenderer: TextCell,\r\n                sort:sortStr,\r\n            },\r\n        ]\r\n    }\r\n\r\n    componentDidMount() {\r\n        const top = document.getElementById(this.id).offsetTop;\r\n        this.setState({ top, height: 999999 });\r\n    }\r\n\r\n    render() {\r\n        GridTable.defaultProps.isPaginated = false;\r\n        GridTable.defaultProps.minColumnResizeWidth = 30;\r\n        GridTable.defaultProps.isVirtualScroll = false;\r\n        GridTable.defaultProps.showSearch = false;\r\n        GridTable.defaultProps.showColumnVisibilityManager = false;\r\n        this.rows = this.getRows();\r\n        const columns = this.getColumns()\r\n\r\n        return (<div id={this.id}>\r\n                    <TableAbsHeader columns={columns} size={this.state}/>\r\n                    <GridTable \r\n                        columns={columns} \r\n                        rows={this.rows} \r\n                        onLoad={hashLinkScroll}/>\r\n                </div>)\r\n    }\r\n}\r\n\r\nconst IconCell = ({tableManager, value, onChange, isEdit, data, column, rowIndex, searchText, isFirstEditableCell}) => {\r\n    const href = (data.rootLink) + data.id;\r\n    return <Link to={href}>\r\n               <div id={value} className=\"TableAncor\"/>\r\n               <img style={{paddingLeft: 1, paddingTop: 5}} src=\"/image/ui_icon_quest.png\"/>\r\n           </Link>\r\n}\r\nconst TextCell = ({tableManager, value, onChange, isEdit, data, column, rowIndex, searchText, isFirstEditableCell}) => {\r\n    const text = {\r\n        textAlign: 'left',\r\n        marginLeft: 10,\r\n        whiteSpace: 'nowrap',\r\n        overflow: 'hidden',\r\n        textOverflow: 'ellipsis'\r\n    }\r\n    return <p style={text}>{value}</p>\r\n}\r\n\r\n\r\n","import React, { Component } from 'react';\r\nimport QuestsTable from './QuestsTable.jsx';\r\nimport { Switch, Route } from 'react-router-dom';\r\n\r\nexport default class ItemsPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n               \r\n                    <QuestsTable\r\n                        data = { this.props.data } title=\"Usable\"\r\n                        filter = {(e)=>(e.showInLog)&&(e.id!=\"base_nondisplay\")}\r\n                    />\r\n\r\n            </div> \r\n        );\r\n    }\r\n}\r\n\r\n","import React, { Component } from 'react';\r\nimport { HashLink as Link } from 'react-router-hash-link';\r\nimport debug from '../../utils/debug';\r\nimport { getDimention } from '../Icon';\r\n\r\nexport default class Icon extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n\r\n        const {data, zoom}= this.props;\r\n\r\n        const ts = data.tileset;\r\n        if (!ts) return <div style={{\r\n                position: 'absolute', \r\n                top: this.props.y, left: this.props.x,\r\n                width:32, height:32,\r\n                backgroundColor: 'red', opacity: 0.5,\r\n            }} />;\r\n        const file = ts.name;\r\n        const index = data.localid;\r\n        const src = getSrc(file);\r\n        \r\n        const dx = ts.tilewidth * zoom / 32;\r\n        const dy = ts.tileheight * zoom / 32;\r\n\r\n        var p = getPosition(index, ts, dx, dy, zoom);\r\n        var style = { margin: `${p.y}px 0 0 ${p.x}px`, width: `${p.w}px`, display: 'block'};\r\n\r\n        return <div style={{ width:`${dx}px`, height:`${dy}px`, overflow: 'hidden',\r\n                            position: 'absolute', left: this.props.x, top: this.props.y\r\n                            }} >\r\n                    <img src={src} style={style} />\r\n               </div>\r\n    }\r\n}\r\n    const getSrc = (file) => {\r\n        if (!file) return;\r\n        return \"/drawable/\"+file+\".png\";\r\n    }\r\n    const getPosition = (i, ts, dx, dy, zoom) => {\r\n        var w = ts.width * zoom / 32;\r\n        var width = ts.width / ts.tilewidth;\r\n        var x = - i % width * dx;\r\n        var y = (- i * dy - x) / width;\r\n        return {x, y, w};\r\n    }\r\n\r\n","import React, { Component } from 'react';\r\nimport { HashLink as Link } from 'react-router-hash-link';\r\nimport MapIcon from './MapIcon'\r\nimport Icon from '../Icon'\r\nimport debug from '../../utils/debug'\r\n\r\nconst bySpawnGroup = (a, b) => {\r\n    a = a.spawngroup||a.name||\"\";\r\n    b = b.spawngroup||b.name||\"\";\r\n    return a.localeCompare(b);\r\n};\r\n\r\nexport default class MonstersPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    drawLayerByName = function (data, zoom, name) {\r\n        var field = data.field;\r\n        if (!field) return \"\";\r\n        var layers = data.layerList.filter((e,i) => e.name == name);\r\n\r\n        return field.map((row, index)=>{\r\n            return <RenderRow key={index} data={row} layers={layers} y={index} zoom={zoom}/>\r\n        })\r\n    }\r\n\r\n    renderSpawn = function (spawn, zoom) {\r\n        if (!spawn) return \"\";\r\n        var index = 0;\r\n        return spawn.sort(bySpawnGroup).map((row) => {\r\n            const link = row.link;\r\n            if (!link) return \"\";\r\n\r\n            var className = \"mapspawn\";\r\n            const hash = this.props.location?.hash;\r\n            if ((hash == '#'+row.name)||(hash == '#'+row.spawngroup)) {\r\n                className = className + \" active\"; \r\n            }\r\n            const quantity = (row.quantity || 1) - 0;\r\n            const result = [];\r\n            for (let i = 0; i < quantity; i++) {\r\n                index++;\r\n                const style = { \r\n                    left: row.x + getRandomInt(row.width - 32), \r\n                    top: row.y + getRandomInt(row.height - 32),\r\n                };\r\n                var monster = link.monsters[index%link.monsters.length];\r\n                if (monster) {\r\n                    const key = monster.id+\"_\"+index;\r\n                    result.push(\r\n                        <div key ={key} style={style} className={className} title={monster.name}>\r\n                            <Icon data={monster} zoom={zoom} noBackground=\"true\" />\r\n                        </div>\r\n                    )\r\n                }\r\n            }\r\n            return result;\r\n        })\r\n    }\r\n    renderScript = function (script, zoom) {\r\n\r\n        if (!script) return \"\";\r\n        return script.map((row) => {\r\n            var className = \"script\"\r\n            const hash = this.props.location?.hash;\r\n            if (hash == '#'+row.name) {\r\n                className = className + \" active\"; \r\n            }\r\n            const result = [];\r\n\r\n            const style = { \r\n                left: row.x, \r\n                top: row.y,\r\n                width: row.width,\r\n                height: row.height,\r\n            };\r\n\r\n            const key = row.name;\r\n            result.push(\r\n                    <div key ={key} style={style} className={className} title={row.name}/>\r\n            )\r\n            \r\n            return result;\r\n        })\r\n    }\r\n\r\n    renderMapchange = function (events, zoom) {\r\n        if (!events) return \"\";\r\n        return events.map((row, index) => {\r\n            const style = { \r\n                marginLeft: row.x, \r\n                marginTop: row.y,\r\n                width: row.width,\r\n                height: row.height,\r\n            };\r\n            var className = \"mapchange\";\r\n            if (this.props.location?.hash == '#'+row.name) {\r\n                className = className + \" active\";\r\n            }\r\n            const href = \"/map/\" + row.map + \"#\" + row.place;\r\n            return (\r\n                <Link key ={index} style={style} title={row.map} to={href} className={className}/>\r\n            )\r\n        })\r\n    }\r\n\r\n    renderSign = function (signs, zoom) {\r\n        if (!signs) return \"\";\r\n\r\n        return signs.map((row, index) => {\r\n            const style = { \r\n                marginLeft: row.x, \r\n                marginTop: row.y,\r\n                width: row.width,\r\n                height: row.height,\r\n            };\r\n            return <div key ={index} style={style} title={row.message} className=\"sign\"/>;\r\n        })\r\n    }\r\n\r\n    renderObjectgroups = function (data, zoom) {\r\n        return (\r\n                <div className=\"objectgroups\">\r\n                    {this.renderScript(data?.scripts)}\r\n                    {this.renderScript(data?.containers)}\r\n                    {this.renderSpawn(data?.spawn)}\r\n                    {this.renderMapchange(data?.mapchange)}\r\n                    {this.renderSign(data?.signs)}\r\n                </div>\r\n            )\r\n        \r\n    }\r\n\r\n    render() {\r\n       var data = this.props.data;\r\n       var renderOG = this.props.renderObjectgroupsData;\r\n       var zoom = this.props.zoom || 32;\r\n\r\n       if (!data) {\r\n           return \"Wrong URL!\"; \r\n       }\r\n\r\n       renderOG && debug(this.props.data);\r\n\r\n       var width = zoom * data.width;\r\n       var height = zoom * data.height;\r\n\r\n       return (\r\n            <div style={{backgroundColor:'white', width:width, height:height, position:'relative', margin:'auto' }}>\r\n                {this.drawLayerByName(data, zoom, \"base\")}\r\n                {this.drawLayerByName(data, zoom, \"ground\")}\r\n                {this.drawLayerByName(data, zoom, \"objects\")}\r\n                {this.drawLayerByName(data, zoom, \"objects_1\")}\r\n\r\n                {this.drawLayerByName(data, zoom, \"above\")}\r\n                {this.drawLayerByName(data, zoom, \"top\")}\r\n\r\n                {renderOG && <div style={{position: 'absolute'}}>{this.renderObjectgroups(data.objectgroups, zoom)}</div>}\r\n\r\n            </div>\r\n       );\r\n    }\r\n}\r\nconst RenderRow = (props) => {\r\n    const {data, layers, y, zoom} = props;\r\n    return data.map((tile, index) => <RenderCell data={tile} layers={layers} x={index*zoom} y={y*zoom} zoom={zoom} key ={index}/>) \r\n}\r\nconst RenderCell = (props) => {\r\n    const {data, layers, x, y, zoom} = props;\r\n    return layers\r\n            .map((l) => data[l.name])\r\n            .filter((ld)=>ld)\r\n            .map((ld, index) => {\r\n        return <MapIcon data={ld} x={x} y={y} zoom={zoom} key ={index}/>\r\n    });\r\n}\r\nfunction getRandomInt(max) {\r\n  return Math.floor(Math.random() * (max + 1)); //Максимум и минимум включаются\r\n}","import React, { Component } from 'react';\r\nimport debug from '../../utils/debug'\r\nimport Icon from './MapIcon'\r\nimport LocalMap from './LocalMap'\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default class MonstersPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    getRowsData = function (data, zoom) {\r\n        var maps = data.maps;\r\n        if (!maps) return \"\";\r\n \r\n        return maps.map((row, index)=>{\r\n            var style = {\r\n                left: (row.x - data.x) * zoom,\r\n                top: (row.y - data.y) * zoom,\r\n                width: row.link.width * zoom,\r\n                height: row.link.height * zoom,\r\n            };\r\n            var style2 = {\r\n                width: row.link.width * zoom,\r\n                height: row.link.height * zoom,\r\n            };\r\n            const href = \"/map/\" + row.id;\r\n            const src = \"/backgrounds/\" + row.id + \".jpg\";\r\n            return (\r\n                <Link style={style} title={row.id} key={index} to={href}>\r\n                    <img style={style2} src={src} />\r\n                </Link>\r\n            )\r\n        })\r\n    }\r\n    render() {\r\n       const { globalMap, location } = this.props;\r\n\r\n       var segment = location.pathname.substring(\"/map/g/\".length);\r\n       if (!segment){\r\n           segment = 'world1';\r\n       }\r\n\r\n       var data = globalMap.segmentsMap[segment];\r\n       if (!data){ return \"Wrong URL!\"; }\r\n       debug(data);\r\n\r\n       const zoom = (data.maps.length > 100) ? 2 :\r\n                    (data.maps.length >  18) ? 6 :\r\n                    (data.maps.length >   3) ? 8 :\r\n                    10;\r\n\r\n       const style = { height:(data.height * zoom)};\r\n\r\n       return (\r\n            <div style={style} class=\"GlobalMap\">\r\n                {this.getRowsData(data, zoom)}\r\n            </div>\r\n       );\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport LiLink from '../LiLink'\r\nimport PropsRoute from '../PropsRoute';\r\nimport LocalMap from './LocalMap';\r\nimport GlobalMap from './GlobalMap';\r\n\r\nexport default class Page extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    getSegmentLinks = function (data, pathname) {\r\n        var segments = data.segments;\r\n        if (!segments) return \"\";\r\n \r\n        return segments.map((row, index)=>{\r\n            return LiLink(\"/map/g/\", row.id, pathname, row.id+\" (\"+row.maps.length+\")\");\r\n        })\r\n    }\r\n    render() {\r\n        const { data, globalMap, location } = this.props;\r\n        var map = location.pathname.substring(\"/map/\".length);\r\n        if (!data) return \"\";\r\n\r\n        return (\r\n            <div>\r\n                <ul className=\"hr\">\r\n                    <img src=\"/image/sort_desc.png\" style={{float:'left', marginTop:-10}} onClick={this.props.toggleExpand}/>\r\n                    {(this.props.expanded) && this.getSegmentLinks(globalMap, location.pathname)}\r\n                </ul>\r\n                <Switch>\r\n                    {!map && <GlobalMap data = { data } globalMap = { globalMap } />}\r\n                    <PropsRoute path='/map/g' component={GlobalMap} data = { data } globalMap = { globalMap } />\r\n                    <LocalMap data = { data[map] } renderObjectgroupsData=\"true\"/>\r\n                </Switch>\r\n            </div>\r\n        );\r\n    }\r\n}","const calculateCost = (o, isWeapon) => {\r\n    if (o.hasManualPrice) return o.baseMarketCost;\r\n    const costEquipStats = calculateCostEquipEffect(o.equipEffect, isWeapon);\r\n    const costUse =calculateUseCost(o.useEffect);\r\n    const costHit = calculateHitCost(o.hitEffect);\r\n    const costKill = calculateKillCost(o.killEffect);\r\n    return Math.max(1, costEquipStats + costUse + costHit + costKill);\r\n}\r\nconst calculateCostEquipEffect = (o, isWeapon) => {\r\n        if (!o) return 0;\r\n        const {\r\n            increaseBlockChance ,increaseAttackChance, \r\n            increaseAttackCost, increaseDamageResistance, \r\n            increaseAttackDamage,\r\n            increaseCriticalSkill, setCriticalMultiplier,\r\n            increaseMaxHP, increaseMaxAP,\r\n            increaseMoveCost, increaseUseItemCost, increaseReequipCost\r\n        } = o;\r\n        const costBC = (3*Math.pow(Math.max(0, increaseBlockChance), 2.5) + 28*increaseBlockChance);\r\n        const costAC = (0.4*Math.pow(Math.max(0,increaseAttackChance), 2.5) - 6*Math.pow(Math.abs(Math.min(0,increaseAttackChance)),2.7));\r\n\r\n        const costAP = isWeapon ?\r\n                (0.2*Math.pow(10.0/increaseAttackCost, 8) - 25*increaseAttackCost)\r\n                :-3125 * increaseAttackCost;\r\n        const costDR = 1325 * increaseDamageResistance;\r\n        const costDMG_Min = isWeapon ?\r\n                (10*Math.pow(Math.max(0, increaseAttackDamage?.min), 2.5))\r\n                : (10*Math.pow(Math.max(0, increaseAttackDamage?.min), 3) + increaseAttackDamage?.min*80);\r\n        const costDMG_Max = isWeapon ?\r\n                (2*Math.pow(Math.max(0, increaseAttackDamage?.max), 2.1))\r\n                : (2*Math.pow(Math.max(0, increaseAttackDamage?.max), 3) + increaseAttackDamage?.max*20);\r\n        const costCS = (2.2*Math.pow(increaseCriticalSkill, 3));\r\n        const costCM = (50*Math.pow(Math.max(0, setCriticalMultiplier), 2));\r\n\r\n        const costMaxHP = (30*Math.pow(Math.max(0,increaseMaxHP), 1.2) + 70*increaseMaxHP);\r\n        const costMaxAP = (50*Math.pow(Math.max(0,increaseMaxAP), 3) + 750*increaseMaxAP);\r\n        const costMovement = (510*Math.pow(Math.max(0,-increaseMoveCost), 2.5) - 350*increaseMoveCost);\r\n        const costUseItem = (915*Math.pow(Math.max(0,-increaseUseItemCost), 3) - 430*increaseUseItemCost);\r\n        const costReequip = (450*Math.pow(Math.max(0,-increaseReequipCost), 2) - 250*increaseReequipCost);\r\n\r\n        return [costBC , costAC , costAP , costDR , costDMG_Min , costDMG_Max , costCS , costCM\r\n                , costMaxHP , costMaxAP\r\n                , costMovement , costUseItem , costReequip].reduce((a, b) => Math.trunc(a||0) + Math.trunc(b||0), 0);\r\n}\r\n\r\nconst calculateUseCost = (o) => {\r\n    if (!o) return 0;\r\n    const averageHPBoost = averagef(o.increaseCurrentHP);\r\n    if (averageHPBoost == 0) return 0;\r\n    const costBoostHP = 0.1*signum(averageHPBoost)*Math.pow(Math.abs(averageHPBoost), 2) + 3*averageHPBoost;\r\n    return Math.trunc(costBoostHP);\r\n}\r\nconst signum = (e) => {\r\n    if (e > 0) return 1;\r\n    if (e < 0) return -1;\r\n    return 0;\r\n}\r\nconst averagef = (o) => {\r\n    return ((o?.max||0) + (o?.min||0))/2;\r\n}\r\nconst calculatePointsCost = (o, hpBase, apBase) => {\r\n    if (!o) return 0;\r\n    const averageHPBoost = averagef(o.increaseCurrentHP);\r\n    const averageAPBoost = averagef(o.increaseCurrentAP);\r\n    if (averageHPBoost == 0 && averageAPBoost == 0) return 0;\r\n\r\n    const costBoostHP = (hpBase*Math.pow(Math.max(0,averageHPBoost), 2.5) + 450*averageHPBoost);\r\n    const costBoostAP = (apBase*Math.pow(Math.max(0,averageAPBoost), 2.5) + 300*averageAPBoost);\r\n    return Math.trunc(costBoostHP) + Math.trunc(costBoostAP);\r\n}\r\n\r\nconst calculateHitCost = (o) => {\r\n    return calculatePointsCost(o, 2770, 3100);\r\n}\r\n\r\nconst calculateKillCost = (o) => {\r\n    return calculatePointsCost(o, 923, 1033);\r\n}\r\n\r\nexport default calculateCost;","const calculateExp = (o) => {\r\n    const EXP_FACTOR_DAMAGERESISTANCE = 9;\r\n    const EXP_FACTOR_SCALING = 0.7;\r\n\r\n    const {\r\n        attackCost,\r\n        attackChance,\r\n        attackDamage,\r\n        criticalSkill,\r\n        criticalMultiplier,\r\n        blockChance,\r\n        damageResistance,\r\n        hitEffect,\r\n        maxHP,\r\n        maxAP\r\n    } = o;\r\n\r\n    const averageDamage = attackDamage ? ((attackDamage.min + attackDamage.max) / 2) : 0;\r\n    const avgAttackHP = getAttacksPerTurn(maxAP, attackCost) * div100(attackChance) * averageDamage * (1 + div100(criticalSkill) * (criticalMultiplier||0));\r\n    const avgDefenseHP = maxHP * (1 + div100(blockChance)) + EXP_FACTOR_DAMAGERESISTANCE * (damageResistance||0);\r\n    var attackConditionBonus = 0;\r\n    if (hitEffect?.conditionsTarget?.length) {\r\n        attackConditionBonus += 50;\r\n    }\r\n\r\n    const result = Math.ceil((avgAttackHP * 3 + avgDefenseHP) * EXP_FACTOR_SCALING) + attackConditionBonus;\r\n    return result;\r\n}\r\nfunction div100(v = 0) {\r\n    return v / 100;\r\n}\r\nfunction getAttacksPerTurn(maxAP = 10, attackCost) {\r\n    return Math.floor(maxAP / attackCost);\r\n}\r\n\r\nexport default calculateExp;\r\n","import React, { Component } from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport debug, { doIfDebug } from '../utils/debug'\r\nimport PropsRoute from './PropsRoute';\r\nimport Menu from './Menu.jsx';\r\nimport Home from './Home';\r\nimport ItemCategoriesTable from './ItemCategoriesTable.jsx';\r\nimport ItemsPage from './items/ItemsPage.jsx';\r\nimport ConditionsPage from './conditions/ConditionsPage';\r\nimport MonstersPage from './monsters/MonstersPage';\r\nimport NpcPage from './npc/NpcPage';\r\nimport QuestsPage from './quests/QuestsPage';\r\nimport MapPage from './maps/MapPage';\r\nimport calculateCost from './CostCalculator';\r\nimport expCalculator from './ExpCalculator';\r\nimport './Main.css';\r\n\r\n// const Loading = () => ;\r\nfunction Loading (props) {\r\n    let mp = props.maxProgress;\r\n    let p = props.progress;\r\n    let percentage = (mp - p) / mp * 100;\r\n    return (\r\n        <div className='loading-base'>\r\n            <div className='loading-container'>\r\n                { props.progress === undefined ? (\r\n                    <h3>Loading TMS...</h3>\r\n                ) : (\r\n                    <div>\r\n                        <div className=\"progress\">\r\n                            <div\r\n                                className=\"progress-value\"\r\n                                style={{width: `${percentage}%`}}\r\n                            />\r\n                        </div>\r\n                        <h3>\r\n                            Loading JSON...\r\n                            {mp - p} / {mp}\r\n                        </h3>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default class Main extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            expandedSubMenu: false,\r\n            loadJson: true,\r\n        };\r\n        this.temp={};\r\n        this.toggleExpandSubMenu = this.toggleExpandSubMenu.bind(this);\r\n    }\r\n\r\n    toggleExpandSubMenu() {\r\n        this.setState({ expandedSubMenu: !this.state.expandedSubMenu, });\r\n    }\r\n\r\n    getJsonResources = async (resources) => {\r\n        var downcounter = {progress: 0};\r\n        \r\n        const jsonResourcList = [\r\n            [resources.loadresource_itemcategories, \"itemcategories\"],\r\n            [resources.loadresource_items, \"items\"],\r\n            [resources.loadresource_actorconditions, \"actorconditions\"],\r\n            [resources.loadresource_monsters, \"monsters\"],\r\n            [resources.loadresource_droplists, \"droplists\"],\r\n            [resources.loadresource_conversationlists, \"conversations\"],\r\n            [resources.loadresource_quests, \"quests\"],\r\n        ];\r\n\r\n        // init maxProgress\r\n        const p = jsonResourcList.map(r => r[0].length).reduce((a, b) => a + b, 0);\r\n        this.setState({\r\n            progress: p,\r\n            maxProgress: p,\r\n        });\r\n\r\n        // parallelly send out jsonResourcList requests\r\n        await Promise.all(jsonResourcList.map(([loadResource, resourceName]) =>\r\n            this.getJsonResource(loadResource, resourceName, downcounter)\r\n        ));\r\n    }\r\n\r\n    getJsonResource = async (resource, name, downcounter) => {\r\n        const that = this;\r\n        downcounter.progress += resource.length;\r\n        await Promise.all(resource.map(\r\n            path => that.getJsonData(path.replace('@','/'), name, that, downcounter)\r\n        ));\r\n\r\n        this.setState({progress: this.state.progress - resource.length});\r\n    }\r\n    countConditions = (effect, item, type) => {\r\n        var count =  effect?.addedConditions?.length||0;\r\n        count += effect?.conditionsTarget?.length||0;\r\n        count += effect?.conditionsSource?.length||0;\r\n        count += (effect?.increaseCurrentAP)?1:0; \r\n        count += (effect?.increaseCurrentHP)?0.9:0; // for potions\r\n        return count;\r\n    }\r\n    linkConditions = (effect, item, type) => {\r\n        effect?.addedConditions?.forEach((e)=>this.linkCondition(e, item, type, \"On source\"));\r\n        effect?.conditionsTarget?.forEach((e)=>this.linkCondition(e, item, type, \"On target\"));\r\n        effect?.conditionsSource?.forEach((e)=>this.linkCondition(e, item, type, \"On source\"));\r\n    }\r\n    getStub = (item, condition, type, aim) => {\r\n\r\n        let {id, name, category, iconID, displaytype, rootLink} = item;\r\n        let {chance, duration, magnitude} = condition;\r\n        return {id, name, category, iconID, displaytype, chance, duration, magnitude, type, aim, rootLink};\r\n    }\r\n    linkCondition = (condition, item, type, aim) => {\r\n        condition.link = this.temp.maps.conditions[condition.condition];\r\n        condition.link.links = condition.link.links||[];\r\n        const stub = this.getStub(item, condition, type, aim);\r\n        condition.link.links.push(stub);\r\n    }\r\n    getItemRootLink = (category) => {\r\n       if (category.actionType == \"use\") return \"/items/use#\";\r\n       if (category.actionType == \"equip\") return \"/items/\" + category.inventorySlot + \"#\";\r\n       return \"/items/other#\";\r\n    }\r\n    isMerchant = (monster) => {\r\n        if (!monster.droplistLink?.items?.length) return false;\r\n        if (monster.droplistLink.items.length > 1) return true;\r\n        if (monster.droplistLink.items[0].itemID == \"gold\") return false;\r\n        return true;\r\n    }\r\n    \r\n    getMonsterRootLink = (monster) => {\r\n       const monsterClass = monster.monsterClass || 'other' ;\r\n       if (monster.attackChance || monster.maxHP) return  \"/monsters/\" + monsterClass + \"#\";\r\n       if (this.isMerchant(monster)) return \"/npc/merchant#\";\r\n       if (monster.name.charAt(0).toUpperCase()<='G') return \"/npc/a-g#\";\r\n       if (monster.name.charAt(0).toUpperCase()<='R') return \"/npc/h-r#\";\r\n       return \"/npc/s-z#\";\r\n    }\r\n    getItemIconBg = (o) => {\r\n        switch(o.displaytype) {\r\n            case 'legendary': return  -4;\r\n            case 'extraordinary': return  -2;\r\n            case 'rare': return  -3;\r\n            case 'quest': return  -1;\r\n            default: return 1;\r\n        }\r\n    }\r\n\r\n    linkConversationInner(c, conversations){\r\n        if (!c) return\r\n        if (conversations[c.id]) return\r\n        conversations[c.id] = c;\r\n\r\n        c.replies?.forEach((r) => {\r\n            this.linkConversationInner(r.next, conversations);\r\n        })\r\n    }\r\n    \r\n    linkConversation = (monster) => {\r\n         const root = monster.conversationLink;\r\n         if (!root) return;\r\n         var conversations = {};\r\n         this.linkConversationInner(root, conversations);\r\n\r\n         conversations = Object.values(conversations);\r\n         monster.rewards = conversations.filter((e) => e.rewards?.length);\r\n         monster.requires = conversations.flatMap((e) => e.replies).filter((e) => e?.requires?.length);\r\n\r\n         monster.questLinks = monster.rewards\r\n            .flatMap((e) => e.rewards)\r\n            .map((e) => e.link)\r\n            .filter((e) => e)\r\n            .filter(unique)\r\n            .filter((e) => !!e.showInLog)\r\n         monster.questItemsLinks = monster.rewards\r\n            .flatMap((e) => e.rewards)\r\n            .filter((e) => [\"inventoryKeep\", \"inventoryRemove\", \"wear\", \"usedItem\", \"wearRemove\", \"giveItem\", ].indexOf(e.rewardType) >= 0)\r\n         monster.questDropListLinks = monster.rewards\r\n            .flatMap((e) => e.rewards)\r\n            .filter((e) => [\"dropList\", ].indexOf(e.rewardType) >= 0)\r\n\r\n\r\n\r\n         monster.questLinks?.forEach((e) => {\r\n             e.links = e.links || [];\r\n             e.links.push(monster);\r\n         });\r\n         monster.questItemsLinks?.forEach((e) => {\r\n             //console.log(e);\r\n             const link = e.link;\r\n             link.droplists = link.droplists || [];\r\n             const droplist = {\r\n                 droplist:{\r\n                     links: [ monster ]\r\n                 },\r\n                 type:\"quest\"\r\n             }\r\n             link.droplists.push(droplist);\r\n         });\r\n         monster.questDropListLinks?.forEach((e) => {\r\n             //console.log(e);\r\n             const droplist = e.link;\r\n             droplist.links = droplist.links || [];\r\n             droplist.links.push(monster);\r\n             droplist.type = \"quest\";\r\n         });\r\n\r\n         /**/\r\n    }\r\n\r\n    linkTemp(){\r\n        this.temp.scripts = [];\r\n        this.temp.containers = [];\r\n\r\n\r\n        this.temp.maps = {};\r\n\r\n        this.temp.maps.conditions = this.temp.actorconditions.reduce((obj, item) => Object.assign(obj, { [item.id]: item }), {});\r\n        this.temp.maps.categories = this.temp.itemcategories.reduce((obj, item) => Object.assign(obj, { [item.id]: item }), {});\r\n        this.temp.maps.droplists = this.temp.droplists.reduce((obj, item) => Object.assign(obj, { [item.id]: item }), {});\r\n        this.temp.maps.items = this.temp.items.reduce((obj, item) => Object.assign(obj, { [item.id]: item }), {});\r\n        this.temp.maps.monsters = this.temp.monsters.reduce((obj, item) => Object.assign(obj, { [item.id]: item }), {});\r\n        this.temp.maps.conversations = this.temp.conversations.reduce((obj, item) => Object.assign(obj, { [item.id]: item }), {});\r\n        this.temp.maps.quests = this.temp.quests.reduce((obj, item) => Object.assign(obj, { [item.id]: item }), {});\r\n        this.temp.maps.spawngroups = {};\r\n        this.temp.maps.containers = {};\r\n        this.temp.maps.scripts = {};\r\n\r\n        Object.values(this.props.maps).forEach((map)=>{\r\n            map.rootLink = \"/map/\";\r\n            map.objectgroups?.spawn?.forEach((spawn)=> {\r\n                const key = (spawn.spawngroup || spawn.name).toLowerCase();\r\n                spawn.link = this.temp.maps.spawngroups[key]||{ maps:[], monsters: []};\r\n                spawn.link.key = key;\r\n                spawn.link.maps.push(map);\r\n                this.temp.maps.spawngroups[key] = spawn.link;\r\n            })\r\n            map.objectgroups?.signs?.forEach((sign)=> {\r\n                sign.message = this.temp.maps.conversations[sign.name]?.message;\r\n            })\r\n            map.objectgroups?.scripts?.forEach((script)=> {\r\n                script.rootLink = \"/map/\" + map.name + \"#\";\r\n                this.temp.scripts.push(script);\r\n            })\r\n            map.objectgroups?.containers?.forEach((container)=> {\r\n                container.rootLink = \"/map/\" + map.name + \"#\";\r\n                this.temp.containers.push(container);\r\n            })\r\n        })\r\n\r\n        this.temp.conversations.forEach((c) => {\r\n            const doLink = (req) => {\r\n                const type = req.requireType||req.rewardType;\r\n                const id = req.requireID||req.rewardID;\r\n                if ([\"questProgress\", \"questLatestProgress\", \"removeQuestProgress\"].indexOf(type) >= 0) {\r\n                    req.link = this.temp.maps.quests[id];\r\n                    if (!req.link) {debug(req); return}\r\n                    req.link.conv_links = req.link.conv_links || [];\r\n                    req.link.conv_links.push(c);\r\n                } else if ([\"inventoryKeep\", \"inventoryRemove\", \"wear\", \"usedItem\", \"wearRemove\", \"giveItem\"].indexOf(type) >= 0) {\r\n                    req.link = this.temp.maps.items[id];\r\n                    if (!req.link) {debug(req); return}\r\n                    req.link.conv_links = req.link.conv_links || [];\r\n                    req.link.conv_links.push(c);\r\n                } else if (type == \"dropList\") {\r\n                    req.link = this.temp.maps.droplists[id];\r\n                    req.link.conv_links = req.link.conv_links || [];\r\n                    req.link.conv_links.push(c);\r\n                } else if (type == \"killedMonster\") {\r\n                    req.link = this.temp.maps.monsters[id];\r\n                    req.link.conv_links = req.link.conv_links || [];\r\n                    req.link.conv_links.push(c);\r\n                } else if ([\r\n                    \"removeSpawnArea\", \"spawnAll\", \"deactivateSpawnArea\", \r\n                    \"skillIncrease\", \r\n                    \"dropList\", \r\n                    \"actorCondition\", \"hasActorCondition\",\r\n                    \"factionScore\", \"factionScoreEquals\", \"alignmentChange\", \"alignmentSet\",\r\n                    \"random\",\r\n                    \"timerElapsed\", \"createTimer\",\r\n                    \"changeMapFilter\",\"deactivateMapObjectGroup\",\"activateMapObjectGroup\"\r\n                    ].indexOf(type) >= 0) {\r\n                    // do nothing\r\n                } else {\r\n                    debug(type + \" \"+id, true)\r\n                }\r\n            }\r\n            c.replies?.forEach((r) => {\r\n                r.next = this.temp.maps.conversations[r.nextPhraseID];\r\n                r.requires?.forEach(doLink);\r\n\r\n            })\r\n            c.rewards?.forEach(doLink);\r\n            \r\n        })\r\n\r\n        this.temp.scripts.forEach((script) => {\r\n\r\n            script.iconID = \"items_books:8\";\r\n            script.id = script.name;\r\n            script.conversationLink = this.temp.maps.conversations[script.name];\r\n            this.linkConversation(script);\r\n        });\r\n        this.temp.containers.forEach((container) => {\r\n            container.iconID = \"items_g03_package_omi1:0\";\r\n            container.id = container.name;\r\n            container.droplistLink = this.temp.maps.droplists[container.name];\r\n            if (container.droplistLink) {\r\n                container.droplistLink.links = container.droplistLink.links||[];\r\n                container.droplistLink.links.push(container);\r\n                container.droplistLink.type = \"container\";\r\n            }\r\n        });\r\n        this.temp.items.forEach((item, index) => {\r\n            if (this.temp.maps.items[item.id] != item) {\r\n                console.warn(\"More than one item with id '\" + item.id + \"'\");\r\n                console.warn(item);\r\n                this.temp.items.splice(index, 1, false);\r\n            } else {\r\n                item.displaytype = item.displaytype||'ordinary';\r\n                item.iconBg = this.getItemIconBg(item);\r\n                item.categoryLink = this.temp.maps.categories[item.category];\r\n                item.rootLink=this.getItemRootLink(item.categoryLink);\r\n                item.baseMarketCost=calculateCost(item, item.categoryLink.inventorySlot==\"weapon\");\r\n\r\n                item.conditionsCount = this.countConditions(item.equipEffect)\r\n                    + this.countConditions(item.hitEffect)\r\n                    + this.countConditions(item.hitReceivedEffect)\r\n                    + this.countConditions(item.killEffect)\r\n                    + this.countConditions(item.useEffect);\r\n\r\n                this.linkConditions(item.equipEffect, item, \"equipEffect\");\r\n                this.linkConditions(item.hitEffect, item, \"hitEffect\");\r\n                this.linkConditions(item.hitReceivedEffect, item, \"hitReceivedEffect\");\r\n                this.linkConditions(item.killEffect, item, \"killEffect\");\r\n                this.linkConditions(item.useEffect, item, \"useEffect\");\r\n\r\n                item.conv_links = item.conv_links?.filter(unique)\r\n            }\r\n        });\r\n        this.temp.items = this.temp.items.filter((e)=>e);\r\n\r\n        this.temp.monsters.forEach((monster, index) => {\r\n            if (this.temp.maps.monsters[monster.id] != monster) {\r\n                doIfDebug(() => {\r\n                    console.warn(\"More than one monster with id '\" + monster.id + \"'\");\r\n                    console.warn(monster);\r\n                });\r\n                this.temp.monsters.splice(index, 1, false);\r\n            } else {\r\n                monster.iconBg = monster.unique? -0 : 1;\r\n                monster.exp = expCalculator(monster);\r\n                monster.droplistLink = this.temp.maps.droplists[monster.droplistID];\r\n                if (monster.droplistLink) {\r\n                    monster.droplistLink.links = monster.droplistLink.links||[];\r\n                    monster.droplistLink.links.push(monster);\r\n                }\r\n                monster.rootLink = this.getMonsterRootLink(monster);\r\n\r\n                monster.conditionsCount = this.countConditions(monster.hitEffect)\r\n                    + this.countConditions(monster.hitReceivedEffect)\r\n                    + this.countConditions(monster.killEffect);\r\n\r\n                this.linkConditions(monster.hitEffect, monster, \"hitEffect\");\r\n                this.linkConditions(monster.hitReceivedEffect, monster, \"hitReceivedEffect\");\r\n                this.linkConditions(monster.killEffect, monster, \"killEffect\");\r\n\r\n                monster.spawnGroupLinks = [];\r\n\r\n                var spawngroupLink = this.temp.maps.spawngroups[monster.id.toLowerCase()] \r\n                if (spawngroupLink) {\r\n                    spawngroupLink.monsters.push(monster);\r\n                    monster.spawnGroupLinks.push(spawngroupLink);\r\n                }\r\n                if (monster.spawnGroup && (monster.spawnGroup?.toLowerCase() != monster.id.toLowerCase())){\r\n                    spawngroupLink = this.temp.maps.spawngroups[monster.spawnGroup?.toLowerCase()] \r\n                    if (spawngroupLink) {\r\n                        spawngroupLink.monsters.push(monster);\r\n                        monster.spawnGroupLinks.push(spawngroupLink);\r\n                    }\r\n                }\r\n\r\n                doIfDebug(() => {\r\n                    if (monster.spawnGroupLinks.length == 0) {\r\n                         console.warn(\"Monster have no spawn\");\r\n                         console.warn(monster);\r\n                    }\r\n                })\r\n\r\n                monster.conversationLink = this.temp.maps.conversations[monster.phraseID];\r\n                this.linkConversation(monster);\r\n            }\r\n        });\r\n        this.temp.monsters = this.temp.monsters.filter((e)=>e);\r\n\r\n        this.temp.droplists.forEach((droplist) => {\r\n                droplist.items.forEach((item) => {\r\n                    item.droplist = droplist;\r\n                    item.link = this.temp.maps.items[item.itemID];\r\n                    item.link.droplists=item.link.droplists||[];\r\n                    item.link.droplists.push(item);\r\n                    item.type = droplist.type;\r\n                })\r\n            }\r\n        );\r\n        this.temp.actorconditions.forEach((condition)=>{\r\n            condition.iconBg = 1;\r\n            condition.rootLink=\"/conditions#\";\r\n        })\r\n        this.temp.quests.forEach((condition)=>{\r\n            condition.rootLink=\"/quests#\";\r\n        })\r\n        this.props.globalMap.segments.forEach((segment)=>{\r\n            segment.rootLink = \"/map/g/\";\r\n            segment.maxY = -9999;\r\n            segment.minY = +9999;\r\n            segment.maps.forEach((map)=>{\r\n                map.link = this.props.maps[map.id];\r\n                if (map.link.segmentLink && (map.link.segmentLink.id != segment.id)) {\r\n                    doIfDebug(() => {\r\n                        console.warn(`Map '${map.id}' lined with 2 segments: ${map.link.segmentLink.id}, ${segment.id}`);\r\n                    });\r\n                } else {\r\n                    map.link.globalMapLink = map;\r\n                    map.link.segmentLink = segment;\r\n                }\r\n                segment.maxY = Math.max(segment.maxY, map.y + map.link.height);\r\n                segment.minY = Math.min(segment.minY, map.y);\r\n            })\r\n            segment.height = segment.maxY - segment.minY;\r\n        })\r\n\r\n        this.temp.monsters.sort((a,b) => (a.id.localeCompare(b.id)));\r\n\r\n        debug(this.temp);\r\n    }\r\n    \r\n    getJsonData = (fileName, name, that, downcounter) =>\r\n        fetch(fileName+\".json\", {\r\n            headers: { \r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json'\r\n            }\r\n        })\r\n        .then(response => response.json())\r\n        .then(json => {\r\n          that.temp[name] = that.temp[name] || [];\r\n          that.temp[name] = that.temp[name].concat(json);\r\n          downcounter.progress--;\r\n          if (downcounter.progress == 0){\r\n              that.linkTemp()\r\n              that.setState(that.temp);\r\n          }\r\n        })\r\n\r\n    componentDidMount() {\r\n       debug(this.props);\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if (!this.state.items && this.state.loadJson) {\r\n            this.setState({loadJson: false});\r\n            this.getJsonResources(this.props.resources);\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        const style = {\r\n            minHeight: (window.innerHeight - 46),\r\n            paddingTop: 1,\r\n        };\r\n\r\n        return (\r\n            <div>\r\n                <div className=\"content\" style={style}>\r\n                    {/* Loading part */}\r\n                    {\r\n                        !this.state.items ? (\r\n                        <Loading\r\n                            progress={this.state.progress}\r\n                            maxProgress={this.state.maxProgress}\r\n                        />\r\n                    ) : (\r\n                        <div>\r\n                            <Switch>\r\n                                <Menu />\r\n                            </Switch>\r\n                            <Switch>\r\n                                <Route exact path='/' component={Home}/>\r\n                                <PropsRoute path='/items' component={ItemsPage} data = { this.state.items }/>\r\n                                <PropsRoute path='/conditions' component={ConditionsPage} data = { this.state.actorconditions }/>\r\n                                <PropsRoute path='/monsters' component={MonstersPage} data = { this.state.monsters }/>\r\n                                <PropsRoute path='/categories' component={ItemCategoriesTable} data = { this.state.itemcategories }/> \r\n                                <PropsRoute path='/npc' component={NpcPage} data = { this.state.monsters }/> \r\n                                <PropsRoute path='/quests' component={QuestsPage} data = { this.state.quests }/> \r\n                                <PropsRoute path='/map' component={MapPage} data = { this.props.maps } globalMap = { this.props.globalMap }\r\n                                    expanded={this.state.expandedSubMenu} toggleExpand={this.toggleExpandSubMenu}/> \r\n                            </Switch>\r\n                        </div>\r\n                    )}\r\n                    \r\n                </div>\r\n                <div className=\"signature\">\r\n                    <div style={{float:'left'}}>\r\n                        2022, Powered by <a href=\"https://github.com/reizy/andors-trail-wiki\">Reizy</a>\r\n                    </div>\r\n                    <div style={{float:'right'}}>Game version {process.env.REACT_APP_AT_VERSION}</div>\r\n                </div>\r\n            </div> \r\n        );\r\n    }\r\n}\r\n\r\nfunction unique(item, pos, self) {\r\n    return self.indexOf(item) == pos;\r\n}","import pako from 'pako'\r\nimport { doIfDebug } from './debug'\r\n\r\nexport default function parseXmlMap(r, name) {\r\n    var map = {\r\n        name,\r\n        properties: [],\r\n        tilesets: [],\r\n        layers: {},\r\n        layerList: [],\r\n        objectgroups: {\r\n                spawn: [],\r\n                rests: [],\r\n                signs: [],\r\n                keys: [],\r\n                scripts: [],\r\n                containers: [],\r\n                mapchange: [],\r\n                replaces: [],\r\n                other: [],\r\n        },\r\n    }\r\n    if (r.name == \"DOCTYPE\") {\r\n        r = r.children[0];\r\n    }\r\n    if (r.name == \"map\") {\r\n        r.children.forEach((e) => {\r\n            if (e.name == \"objectgroup\") {\r\n                parseObjectgroups(e, map);\r\n            } else if (e.name == \"layer\") {\r\n                parseLayer(e, map, name);\r\n            } else if (e.name == \"tileset\") {\r\n                parseTileset(e, map, name);\r\n            } else if (e.name == \"properties\") {\r\n                map[e.name].push(e); // TODO\r\n            } else {\r\n                console.warn(\"Custom map section at '\" + name + \"':\");\r\n                console.warn(e);\r\n                map[e.name].push(e);\r\n            }\r\n        });\r\n    }\r\n    validateTilesets(map);\r\n    mapLayers(map);\r\n    return map;\r\n}\r\nfunction parseObjectgroups(r, map) {\r\n    var objectgroup = { name: r?.attributes?.name };\r\n    r.children?.forEach((e) => {\r\n        if (e.name == 'properties') {\r\n            e.children?.forEach((p) => {\r\n                const key = p.attributes?.name;\r\n                const value = p?.attributes?.value;\r\n                objectgroup[key] = value;\r\n            });\r\n        } else {\r\n            switch(e.attributes.type) {\r\n                case \"spawn\":\r\n                  map.objectgroups.spawn.push(mapSpawn(e, map, objectgroup));\r\n                  break;\r\n                case \"key\":\r\n                  map.objectgroups.keys.push(e);\r\n                  break;\r\n                case \"rest\":\r\n                  map.objectgroups.rests.push(e);\r\n                  break;\r\n                case \"sign\":\r\n                  map.objectgroups.signs.push(mapSign(e, map, objectgroup));\r\n                  break;\r\n                case \"script\":\r\n                  map.objectgroups.scripts.push(mapScript(e, map, objectgroup));\r\n                  break;\r\n                case \"container\":\r\n                  map.objectgroups.containers.push(mapContainers(e, map, objectgroup));\r\n                  break;\r\n                case \"mapchange\":\r\n                  map.objectgroups.mapchange.push(mapMapchange(e, map, objectgroup));\r\n                  break;\r\n                case \"replace\":\r\n                  map.objectgroups.replaces.push(e);\r\n                  break;\r\n                default:\r\n                  console.warn(map);\r\n                  console.warn(e);\r\n                  map.objectgroups.other.push(e);\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\nfunction mapSpawn(e, map, objectgroup) {\r\n    oneChildCheck(e);\r\n\r\n    var spawn = {\r\n        ...e.attributes,\r\n        ...e.children[0]?.attributes,\r\n        objectgroup,\r\n        width: e.attributes.width - 0,\r\n        height: e.attributes.height - 0,\r\n        x: e.attributes.x - 0,\r\n        y: e.attributes.y - 0,\r\n    }\r\n    e.children[0]?.children?.forEach((c) => {\r\n        propertyCheck(c, spawn, [\"spawngroup\", \"quantity\", \"ignoreAreas\", \"active\"]);\r\n        spawn[c.attributes.name] = c.attributes.value;\r\n    });\r\n    return spawn;\r\n}\r\n\r\nfunction mapScript(e, map, objectgroup) {\r\n    oneChildCheck(e);\r\n\r\n    var script = {\r\n        ...e.attributes,\r\n        objectgroup,\r\n        width: e.attributes.width - 0,\r\n        height: e.attributes.height - 0,\r\n        x: e.attributes.x - 0,\r\n        y: e.attributes.y - 0,\r\n    }\r\n    e.children[0]?.children?.forEach((c) => {\r\n        propertyCheck(c, script, [\"when\"]);\r\n        script[c.attributes.name] = c.attributes.value;\r\n    });\r\n    return script;\r\n}\r\nfunction mapContainers(e, map, objectgroup) {\r\n    noChildCheck(e);\r\n\r\n    var container = {\r\n        ...e.attributes,\r\n        objectgroup,\r\n        width: e.attributes.width - 0,\r\n        height: e.attributes.height - 0,\r\n        x: e.attributes.x - 0,\r\n        y: e.attributes.y - 0,\r\n    }\r\n    e.children[0]?.children?.forEach((c) => {\r\n        propertyCheck(c, container, [\"when\"]);\r\n        container[c.attributes.name] = c.attributes.value;\r\n    });\r\n    return container;\r\n}\r\nfunction mapMapchange(e, map, objectgroup) {\r\n    oneChildCheck(e);\r\n\r\n    var event = {\r\n        ...e.attributes,\r\n        ...e.children[0]?.attributes,\r\n        objectgroup,\r\n        width: e.attributes.width - 0,\r\n        height: e.attributes.height - 0,\r\n        x: e.attributes.x - 0,\r\n        y: e.attributes.y - 0,\r\n        xxx:e\r\n    }\r\n    e.children[0]?.children?.forEach((c) => {\r\n        propertyCheck(c, event, [\"place\", \"map\"]);\r\n        event[c.attributes.name] = c.attributes.value;\r\n    });\r\n    return event;\r\n}\r\n\r\nfunction mapSign(e, map, objectgroup) {\r\n    noChildCheck(e);\r\n\r\n    var event = {\r\n        ...e.attributes,\r\n        objectgroup,\r\n        width: e.attributes.width - 0,\r\n        height: e.attributes.height - 0,\r\n        x: e.attributes.x - 0,\r\n        y: e.attributes.y - 0,\r\n    }\r\n  \r\n    return event;\r\n}\r\n\r\nfunction parseTileset(e, map, name) {\r\n    var tileset = {\r\n        //...e.attributes,\r\n        //...e.children[0].attributes,\r\n        height: e.children[0].attributes.height - 0,\r\n        width: e.children[0].attributes.width - 0,\r\n        name: e.attributes.name,\r\n        firstgid: e.attributes.firstgid - 0,\r\n        tileheight: e.attributes.tileheight - 0,\r\n        tilewidth: e.attributes.tilewidth - 0,\r\n    };\r\n    tileset.columns = tileset.width / tileset.tilewidth;\r\n    tileset.tilecount = tileset.height / tileset.tileheight * tileset.columns;\r\n\r\n\r\n    map.tilesets.push(tileset);\r\n}\r\nfunction parseLayerDebug(e, map, name) {\r\n    if (map.width && (map.width != e.attributes.width))\r\n        console.warn(name + \" has different layers(\" + map.width + \"!=\" + e.attributes.width + \")\");\r\n    if (map.height && (map.height != e.attributes.height))\r\n        console.warn(name + \" has different layers(\" + map.height + \"!=\" + e.attributes.height + \")\");\r\n    if (map.layers[e.attributes.name]) {\r\n        console.warn(name + \" has several layers: \" + e.attributes.name);\r\n    }\r\n    if (e.children.length != 1) {\r\n        console.warn(name + \" has multi layer: \" + e.attributes.name);\r\n    }\r\n}\r\nfunction parseLayer(e, map, name) {\r\n    doIfDebug(() => parseLayerDebug(e, map, name));\r\n    map.layerList.push({\r\n        name: e.attributes.name.toLowerCase(),\r\n        visible: (e.attributes.visible != \"0\"),\r\n    });\r\n    map.width = e.attributes.width - 0;\r\n    map.height = e.attributes.height - 0;\r\n    try {\r\n        var b64Data = e.children[0].value;\r\n        var strData = atob(b64Data);\r\n        var charData = strData.split('').map((x) => x.charCodeAt(0));\r\n        var binData = new Uint8Array(charData);\r\n        const tmp = pako.inflate(binData);\r\n        map.layers[e.attributes.name.toLowerCase()] = new Uint32Array(tmp.buffer);\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n}\r\nfunction validateTilesets(map) {\r\n    map.tilesets.forEach((t) => {\r\n        const id = t.firstgid;\r\n        var tileset = map.tilesets.find((e) => ((id >= e.firstgid) && (id < (e.firstgid + e.tilecount))));\r\n        if (tileset != t) {\r\n            tileset.firstgid = -9999; // current game use last tileset, so we disable prevoious ones\r\n            doIfDebug(() => {\r\n                console.warn(\"Intersecting tilesets indexes at '\" + map.name + \"'\");\r\n                console.warn(tileset);\r\n                console.warn(t);\r\n            });\r\n        }\r\n    });\r\n}\r\nfunction mapLayers(map) {\r\n    map.field = [];\r\n    for (let y = 0; y < map.height; y++) {\r\n        map.field[y] = [];\r\n        for (let x = 0; x < map.width; x++) {\r\n            map.field[y][x] = {};\r\n            map.layerList.forEach((e) => setTileByLayerXY(map, e.name, x, y));\r\n        }\r\n    }\r\n}\r\nfunction setTileByLayerXY(map, layer, x, y) {\r\n    if (map.layers[layer]) {\r\n        map.field[y][x][layer] = getTileById(map, layer, map.layers[layer][y * map.width + x]);\r\n    }\r\n}\r\nfunction getTileById(map, layer, id) {\r\n    if (id == 0)\r\n        return;\r\n    var tileset = map.tilesets.find((e) => ((id >= e.firstgid) && (id < (e.firstgid + e.tilecount))));\r\n    if (!tileset) {\r\n        doIfDebug(() => console.warn(\"No tileset for '\" + map.name + \".\" + layer + \"' \" + id));\r\n    }\r\n    return {\r\n        id,\r\n        tileset: tileset,\r\n        localid: (id - tileset?.firstgid),\r\n    };\r\n}\r\n\r\nfunction oneChildCheck(e) {\r\n    doIfDebug(() => {\r\n        if (e.children?.length > 1) {\r\n             console.warn(\"More then one children!\");\r\n             console.warn(e);\r\n        }\r\n    }, true);\r\n}\r\nfunction noChildCheck(e) {\r\n    doIfDebug(() => {\r\n        if (e.children?.length > 0) {\r\n             console.warn(\"More then zero children!\");\r\n             console.warn(e);\r\n        }\r\n    }, true);\r\n}\r\nfunction propertyCheck(c, e, names) {\r\n        doIfDebug(() => {\r\n            if (e[c.attributes.name]) {\r\n                console.warn(\"More then one children '\" + c.attributes.name + \"':\");\r\n                console.warn(e[c.attributes.name]);\r\n                console.warn(c);\r\n            }\r\n            if (c.name != \"property\") {\r\n                 console.warn(\"Unknown children!\");\r\n                 console.warn(c);\r\n            }\r\n            if (c.children?.length) {\r\n                 console.warn(\"More then zero children!\");\r\n                 console.warn(c);\r\n            }\r\n            if (names.indexOf(c.attributes.name) == -1 ) {\r\n                 console.warn(\"Unknown children!\");\r\n                 console.warn(c);\r\n            }\r\n            if (Object.keys(c.attributes).filter(x => ![\"name\", \"value\", \"type\"].includes(x)).length) {\r\n                 console.warn(\"Unknown children!\");\r\n                 console.warn(c);\r\n            }\r\n        }, true);\r\n}\r\n","export default function parseGlobalMap(myXml) {\r\n    var result = {\r\n        segments: [],\r\n        segmentsMap: {},\r\n    };\r\n    myXml.children.forEach((segment) => {\r\n        var value = parseSegment(segment);\r\n        result.segments.push(value);\r\n        result.segmentsMap[segment.attributes.id] = value;\r\n    });\r\n    return result;\r\n}\r\n\r\nfunction parseSegment(segment) {\r\n    var result = {\r\n        id: segment.attributes.id,\r\n        x: segment.attributes.x * 1,\r\n        y: segment.attributes.y * 1,\r\n        areas: parseArea(segment.children),\r\n    }\r\n    result = {\r\n        ...result,\r\n        ...parseMaps(segment.children, result.areas),\r\n    }\r\n    return result;\r\n}\r\nfunction parseArea(children) {\r\n    var result = {};\r\n    children.filter((e) => e.name == \"namedarea\").forEach((e) => {\r\n        result[e.attributes.id] = e.attributes;\r\n    });\r\n    return result;\r\n}\r\nfunction parseMaps(children, areas) {\r\n    var result = {\r\n        maps: [],\r\n        mapsMap: {},\r\n    };\r\n    children.filter((e) => e.name == \"map\").forEach((e) => {\r\n        var map = {\r\n            ...e.attributes,\r\n            x: e.attributes.x * 1,\r\n            y: e.attributes.y * 1,\r\n        };\r\n        if (map.area) {\r\n            map.areaLink = areas[map.area];\r\n            map.areaLink.maps = map.areaLink.maps || [];\r\n            map.areaLink.maps.push(map);\r\n        }\r\n        result.maps.push(map);\r\n        result.mapsMap[e.attributes.id] = map;\r\n    });\r\n\r\n    return result;\r\n}\r\n","import React,{useState,useEffect} from 'react';\r\nimport logo from './logo.svg';\r\nimport './App.css';\r\nimport Main from './components/Main.jsx';\r\nimport XMLParser from 'react-xml-parser';\r\nimport parseXmlMap from './utils/MapParser.jsx';\r\nimport parseGlobalMap from './utils/GlobalMapParser.jsx';\r\n\r\nfunction App() {\r\n  const [data,setData]=useState([]);\r\n  var  temp = { maps: {} };\r\n  String.prototype.capitalize = function() {\r\n    return this.charAt(0).toUpperCase() + this.slice(1);\r\n  }\r\n\r\n  const getXmlData=(fileName, thenDo)=>{\r\n    const headers = {\r\n      'Content-Type': 'text/xml',\r\n      'Accept': 'text/xml'\r\n    };\r\n    fetch(''+fileName, {headers})\r\n      .then(response => {\r\n        return response.text();\r\n      })\r\n      .then(str => {\r\n        return str.replace(/<!--.*-->/g,'');\r\n      })\r\n      .then(thenDo);\r\n  }\r\n  const saveTempResources = (str) => {\r\n    var parser = new XMLParser();\r\n    var myXml = parser.parseFromString(str);\r\n\r\n    var xmlData=myXml.getElementsByTagName(\"array\");\r\n    const resources = xmlData.reduce(function(map, obj) {\r\n      map[obj.attributes.name] = obj.children.map(o=>o.value).filter(e=>e);\r\n      return map;\r\n    }, {});\r\n    temp = {\r\n        ...temp,\r\n        resources\r\n    };\r\n    getMaps(temp, setData);\r\n  }\r\n\r\n  const getXmlMap=(resource, name, downcounter)=>{\r\n    const thenDo = (xmlString) => {\r\n      var parser = new XMLParser();\r\n      var myXml = parser.parseFromString(xmlString);\r\n      \r\n      temp.maps[name] = parseXmlMap(myXml, name);\r\n      downcounter.progress--\r\n      if (downcounter.progress==0){\r\n        downcounter.tryDo();\r\n      }\r\n    }\r\n    getXmlData(resource, thenDo)\r\n  }\r\n\r\n  const getGlobalMap =(downcounter) => {\r\n    const thenDo = (xmlString) => {\r\n      var parser = new XMLParser();\r\n      var myXml = parser.parseFromString(xmlString);\r\n      \r\n      temp.globalMap = parseGlobalMap(myXml);\r\n      downcounter.progress--\r\n      if (downcounter.progress==0){\r\n        downcounter.tryDo();\r\n      }\r\n    }\r\n    getXmlData(\"/xml/worldmap.xml\", thenDo);\r\n  }\r\n\r\n  const getMaps=(temp, thenDo)=>{\r\n    var maps = temp.resources.loadresource_maps;\r\n    var downcounter = {progress:maps.length+1, tryDo:()=>thenDo(temp)};\r\n    getGlobalMap(downcounter);\r\n    maps.forEach((path)=>{\r\n      getXmlMap(path.replace('@','/')+\".tmx\", path.replace('@xml/',''), downcounter);\r\n    });\r\n  }\r\n  \r\n  useEffect(()=>{\r\n    getXmlData('/values/loadresources.xml', saveTempResources);\r\n  },[])\r\n\r\n  return (\r\n    <div className=\"App\">\r\n        {/* { data.resources && <Main resources = { data.resources } maps = { data.maps } globalMap = { data.globalMap }/> } */}\r\n        <Main\r\n          resources = { data.resources }\r\n          maps = { data.maps }\r\n          globalMap = { data.globalMap }\r\n        />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\nconsole.log('ENV: ', process.env)\nReactDOM.render((\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>\n), document.getElementById('root'));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}